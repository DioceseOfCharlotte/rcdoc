/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

/**
 * A component handler interface using the revealing module design pattern.
 * More details on this design pattern here:
 * https://github.com/jasonmayes/mdl-component-design-pattern
 *
 * @author Jason Mayes.
 */
/* exported componentHandler */

// Pre-defining the componentHandler interface, for closure documentation and
// static verification.
var componentHandler = {
  /**
   * Searches existing DOM for elements of our component type and upgrades them
   * if they have not already been upgraded.
   *
   * @param {string=} optJsClass the programatic name of the element class we
   * need to create a new instance of.
   * @param {string=} optCssClass the name of the CSS class elements of this
   * type will have.
   */
  upgradeDom: function(optJsClass, optCssClass) {},
  /**
   * Upgrades a specific element rather than all in the DOM.
   *
   * @param {!Element} element The element we wish to upgrade.
   * @param {string=} optJsClass Optional name of the class we want to upgrade
   * the element to.
   */
  upgradeElement: function(element, optJsClass) {},
  /**
   * Upgrades a specific list of elements rather than all in the DOM.
   *
   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements
   * The elements we wish to upgrade.
   */
  upgradeElements: function(elements) {},
  /**
   * Upgrades all registered components found in the current DOM. This is
   * automatically called on window load.
   */
  upgradeAllRegistered: function() {},
  /**
   * Allows user to be alerted to any upgrades that are performed for a given
   * component type
   *
   * @param {string} jsClass The class name of the MDL component we wish
   * to hook into for any upgrades performed.
   * @param {function(!HTMLElement)} callback The function to call upon an
   * upgrade. This function should expect 1 parameter - the HTMLElement which
   * got upgraded.
   */
  registerUpgradedCallback: function(jsClass, callback) {},
  /**
   * Registers a class for future use and attempts to upgrade existing DOM.
   *
   * @param {componentHandler.ComponentConfigPublic} config the registration configuration
   */
  register: function(config) {},
  /**
   * Downgrade either a given node, an array of nodes, or a NodeList.
   *
   * @param {!Node|!Array<!Node>|!NodeList} nodes
   */
  downgradeElements: function(nodes) {}
};

componentHandler = (function() {
  'use strict';

  /** @type {!Array<componentHandler.ComponentConfig>} */
  var registeredComponents_ = [];

  /** @type {!Array<componentHandler.Component>} */
  var createdComponents_ = [];

  var downgradeMethod_ = 'mdlDowngrade';
  var componentConfigProperty_ = 'mdlComponentConfigInternal_';

  /**
   * Searches registered components for a class we are interested in using.
   * Optionally replaces a match with passed object if specified.
   *
   * @param {string} name The name of a class we want to use.
   * @param {componentHandler.ComponentConfig=} optReplace Optional object to replace match with.
   * @return {!Object|boolean}
   * @private
   */
  function findRegisteredClass_(name, optReplace) {
    for (var i = 0; i < registeredComponents_.length; i++) {
      if (registeredComponents_[i].className === name) {
        if (typeof optReplace !== 'undefined') {
          registeredComponents_[i] = optReplace;
        }
        return registeredComponents_[i];
      }
    }
    return false;
  }

  /**
   * Returns an array of the classNames of the upgraded classes on the element.
   *
   * @param {!Element} element The element to fetch data from.
   * @return {!Array<string>}
   * @private
   */
  function getUpgradedListOfElement_(element) {
    var dataUpgraded = element.getAttribute('data-upgraded');
    // Use `['']` as default value to conform the `,name,name...` style.
    return dataUpgraded === null ? [''] : dataUpgraded.split(',');
  }

  /**
   * Returns true if the given element has already been upgraded for the given
   * class.
   *
   * @param {!Element} element The element we want to check.
   * @param {string} jsClass The class to check for.
   * @returns {boolean}
   * @private
   */
  function isElementUpgraded_(element, jsClass) {
    var upgradedList = getUpgradedListOfElement_(element);
    return upgradedList.indexOf(jsClass) !== -1;
  }

  /**
   * Searches existing DOM for elements of our component type and upgrades them
   * if they have not already been upgraded.
   *
   * @param {string=} optJsClass the programatic name of the element class we
   * need to create a new instance of.
   * @param {string=} optCssClass the name of the CSS class elements of this
   * type will have.
   */
  function upgradeDomInternal(optJsClass, optCssClass) {
    if (typeof optJsClass === 'undefined' &&
        typeof optCssClass === 'undefined') {
      for (var i = 0; i < registeredComponents_.length; i++) {
        upgradeDomInternal(registeredComponents_[i].className,
            registeredComponents_[i].cssClass);
      }
    } else {
      var jsClass = /** @type {string} */ (optJsClass);
      if (typeof optCssClass === 'undefined') {
        var registeredClass = findRegisteredClass_(jsClass);
        if (registeredClass) {
          optCssClass = registeredClass.cssClass;
        }
      }

      var elements = document.querySelectorAll('.' + optCssClass);
      for (var n = 0; n < elements.length; n++) {
        upgradeElementInternal(elements[n], jsClass);
      }
    }
  }

  /**
   * Upgrades a specific element rather than all in the DOM.
   *
   * @param {!Element} element The element we wish to upgrade.
   * @param {string=} optJsClass Optional name of the class we want to upgrade
   * the element to.
   */
  function upgradeElementInternal(element, optJsClass) {
    // Verify argument type.
    if (!(typeof element === 'object' && element instanceof Element)) {
      throw new Error('Invalid argument provided to upgrade MDL element.');
    }
    var upgradedList = getUpgradedListOfElement_(element);
    var classesToUpgrade = [];
    // If jsClass is not provided scan the registered components to find the
    // ones matching the element's CSS classList.
    if (!optJsClass) {
      var classList = element.classList;
      registeredComponents_.forEach(function(component) {
        // Match CSS & Not to be upgraded & Not upgraded.
        if (classList.contains(component.cssClass) &&
            classesToUpgrade.indexOf(component) === -1 &&
            !isElementUpgraded_(element, component.className)) {
          classesToUpgrade.push(component);
        }
      });
    } else if (!isElementUpgraded_(element, optJsClass)) {
      classesToUpgrade.push(findRegisteredClass_(optJsClass));
    }

    // Upgrade the element for each classes.
    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {
      registeredClass = classesToUpgrade[i];
      if (registeredClass) {
        // Mark element as upgraded.
        upgradedList.push(registeredClass.className);
        element.setAttribute('data-upgraded', upgradedList.join(','));
        var instance = new registeredClass.classConstructor(element);
        instance[componentConfigProperty_] = registeredClass;
        createdComponents_.push(instance);
        // Call any callbacks the user has registered with this component type.
        for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {
          registeredClass.callbacks[j](element);
        }

        if (registeredClass.widget) {
          // Assign per element instance for control over API
          element[registeredClass.className] = instance;
        }
      } else {
        throw new Error(
          'Unable to find a registered component for the given class.');
      }

      var ev = document.createEvent('Events');
      ev.initEvent('mdl-componentupgraded', true, true);
      element.dispatchEvent(ev);
    }
  }

  /**
   * Upgrades a specific list of elements rather than all in the DOM.
   *
   * @param {!Element|!Array<!Element>|!NodeList|!HTMLCollection} elements
   * The elements we wish to upgrade.
   */
  function upgradeElementsInternal(elements) {
    if (!Array.isArray(elements)) {
      if (typeof elements.item === 'function') {
        elements = Array.prototype.slice.call(/** @type {Array} */ (elements));
      } else {
        elements = [elements];
      }
    }
    for (var i = 0, n = elements.length, element; i < n; i++) {
      element = elements[i];
      if (element instanceof HTMLElement) {
        upgradeElementInternal(element);
        if (element.children.length > 0) {
          upgradeElementsInternal(element.children);
        }
      }
    }
  }

  /**
   * Registers a class for future use and attempts to upgrade existing DOM.
   *
   * @param {componentHandler.ComponentConfigPublic} config
   */
  function registerInternal(config) {
    // In order to support both Closure-compiled and uncompiled code accessing
    // this method, we need to allow for both the dot and array syntax for
    // property access. You'll therefore see the `foo.bar || foo['bar']`
    // pattern repeated across this method.
    var widgetMissing = (typeof config.widget === 'undefined' &&
        typeof config['widget'] === 'undefined');
    var widget = true;

    if (!widgetMissing) {
      widget = config.widget || config['widget'];
    }

    var newConfig = /** @type {componentHandler.ComponentConfig} */ ({
      classConstructor: config.constructor || config['constructor'],
      className: config.classAsString || config['classAsString'],
      cssClass: config.cssClass || config['cssClass'],
      widget: widget,
      callbacks: []
    });

    registeredComponents_.forEach(function(item) {
      if (item.cssClass === newConfig.cssClass) {
        throw new Error('The provided cssClass has already been registered: ' + item.cssClass);
      }
      if (item.className === newConfig.className) {
        throw new Error('The provided className has already been registered');
      }
    });

    if (config.constructor.prototype
        .hasOwnProperty(componentConfigProperty_)) {
      throw new Error(
          'MDL component classes must not have ' + componentConfigProperty_ +
          ' defined as a property.');
    }

    var found = findRegisteredClass_(config.classAsString, newConfig);

    if (!found) {
      registeredComponents_.push(newConfig);
    }
  }

  /**
   * Allows user to be alerted to any upgrades that are performed for a given
   * component type
   *
   * @param {string} jsClass The class name of the MDL component we wish
   * to hook into for any upgrades performed.
   * @param {function(!HTMLElement)} callback The function to call upon an
   * upgrade. This function should expect 1 parameter - the HTMLElement which
   * got upgraded.
   */
  function registerUpgradedCallbackInternal(jsClass, callback) {
    var regClass = findRegisteredClass_(jsClass);
    if (regClass) {
      regClass.callbacks.push(callback);
    }
  }

  /**
   * Upgrades all registered components found in the current DOM. This is
   * automatically called on window load.
   */
  function upgradeAllRegisteredInternal() {
    for (var n = 0; n < registeredComponents_.length; n++) {
      upgradeDomInternal(registeredComponents_[n].className);
    }
  }

  /**
   * Finds a created component by a given DOM node.
   *
   * @param {!Node} node
   * @return {*}
   */
  function findCreatedComponentByNodeInternal(node) {
    for (var n = 0; n < createdComponents_.length; n++) {
      var component = createdComponents_[n];
      if (component.element_ === node) {
        return component;
      }
    }
  }

  /**
   * Check the component for the downgrade method.
   * Execute if found.
   * Remove component from createdComponents list.
   *
   * @param {*} component
   */
  function deconstructComponentInternal(component) {
    if (component &&
        component[componentConfigProperty_]
          .classConstructor.prototype
          .hasOwnProperty(downgradeMethod_)) {
      component[downgradeMethod_]();
      var componentIndex = createdComponents_.indexOf(component);
      createdComponents_.splice(componentIndex, 1);

      var upgrades = component.element_.getAttribute('data-upgraded').split(',');
      var componentPlace = upgrades.indexOf(
          component[componentConfigProperty_].classAsString);
      upgrades.splice(componentPlace, 1);
      component.element_.setAttribute('data-upgraded', upgrades.join(','));

      var ev = document.createEvent('Events');
      ev.initEvent('mdl-componentdowngraded', true, true);
      component.element_.dispatchEvent(ev);
    }
  }

  /**
   * Downgrade either a given node, an array of nodes, or a NodeList.
   *
   * @param {!Node|!Array<!Node>|!NodeList} nodes
   */
  function downgradeNodesInternal(nodes) {
    /**
     * Auxiliary function to downgrade a single node.
     * @param  {!Node} node the node to be downgraded
     */
    var downgradeNode = function(node) {
      deconstructComponentInternal(findCreatedComponentByNodeInternal(node));
    };
    if (nodes instanceof Array || nodes instanceof NodeList) {
      for (var n = 0; n < nodes.length; n++) {
        downgradeNode(nodes[n]);
      }
    } else if (nodes instanceof Node) {
      downgradeNode(nodes);
    } else {
      throw new Error('Invalid argument provided to downgrade MDL nodes.');
    }
  }

  // Now return the functions that should be made public with their publicly
  // facing names...
  return {
    upgradeDom: upgradeDomInternal,
    upgradeElement: upgradeElementInternal,
    upgradeElements: upgradeElementsInternal,
    upgradeAllRegistered: upgradeAllRegisteredInternal,
    registerUpgradedCallback: registerUpgradedCallbackInternal,
    register: registerInternal,
    downgradeElements: downgradeNodesInternal
  };
})();

/**
 * Describes the type of a registered component type managed by
 * componentHandler. Provided for benefit of the Closure compiler.
 *
 * @typedef {{
 *   constructor: Function,
 *   classAsString: string,
 *   cssClass: string,
 *   widget: (string|boolean|undefined)
 * }}
 */
componentHandler.ComponentConfigPublic;  // jshint ignore:line

/**
 * Describes the type of a registered component type managed by
 * componentHandler. Provided for benefit of the Closure compiler.
 *
 * @typedef {{
 *   constructor: !Function,
 *   className: string,
 *   cssClass: string,
 *   widget: (string|boolean),
 *   callbacks: !Array<function(!HTMLElement)>
 * }}
 */
componentHandler.ComponentConfig;  // jshint ignore:line

/**
 * Created component (i.e., upgraded element) type as managed by
 * componentHandler. Provided for benefit of the Closure compiler.
 *
 * @typedef {{
 *   element_: !HTMLElement,
 *   className: string,
 *   classAsString: string,
 *   cssClass: string,
 *   widget: string
 * }}
 */
componentHandler.Component;  // jshint ignore:line

// Export all symbols, for the benefit of Closure compiler.
// No effect on uncompiled code.
componentHandler['upgradeDom'] = componentHandler.upgradeDom;
componentHandler['upgradeElement'] = componentHandler.upgradeElement;
componentHandler['upgradeElements'] = componentHandler.upgradeElements;
componentHandler['upgradeAllRegistered'] =
    componentHandler.upgradeAllRegistered;
componentHandler['registerUpgradedCallback'] =
    componentHandler.registerUpgradedCallback;
componentHandler['register'] = componentHandler.register;
componentHandler['downgradeElements'] = componentHandler.downgradeElements;
window.componentHandler = componentHandler;
window['componentHandler'] = componentHandler;

window.addEventListener('load', function() {
  'use strict';

  /**
   * Performs a "Cutting the mustard" test. If the browser supports the features
   * tested, adds a mdl-js class to the <html> element. It then upgrades all MDL
   * components requiring JavaScript.
   */
  if ('classList' in document.createElement('div') &&
      'querySelector' in document &&
      'addEventListener' in window && Array.prototype.forEach) {
    document.documentElement.classList.add('mdl-js');
    componentHandler.upgradeAllRegistered();
  } else {
    /**
     * Dummy function to avoid JS errors.
     */
    componentHandler.upgradeElement = function() {};
    /**
     * Dummy function to avoid JS errors.
     */
    componentHandler.register = function() {};
  }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtZGxDb21wb25lbnRIYW5kbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIEEgY29tcG9uZW50IGhhbmRsZXIgaW50ZXJmYWNlIHVzaW5nIHRoZSByZXZlYWxpbmcgbW9kdWxlIGRlc2lnbiBwYXR0ZXJuLlxuICogTW9yZSBkZXRhaWxzIG9uIHRoaXMgZGVzaWduIHBhdHRlcm4gaGVyZTpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNvbm1heWVzL21kbC1jb21wb25lbnQtZGVzaWduLXBhdHRlcm5cbiAqXG4gKiBAYXV0aG9yIEphc29uIE1heWVzLlxuICovXG4vKiBleHBvcnRlZCBjb21wb25lbnRIYW5kbGVyICovXG5cbi8vIFByZS1kZWZpbmluZyB0aGUgY29tcG9uZW50SGFuZGxlciBpbnRlcmZhY2UsIGZvciBjbG9zdXJlIGRvY3VtZW50YXRpb24gYW5kXG4vLyBzdGF0aWMgdmVyaWZpY2F0aW9uLlxudmFyIGNvbXBvbmVudEhhbmRsZXIgPSB7XG4gIC8qKlxuICAgKiBTZWFyY2hlcyBleGlzdGluZyBET00gZm9yIGVsZW1lbnRzIG9mIG91ciBjb21wb25lbnQgdHlwZSBhbmQgdXBncmFkZXMgdGhlbVxuICAgKiBpZiB0aGV5IGhhdmUgbm90IGFscmVhZHkgYmVlbiB1cGdyYWRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRKc0NsYXNzIHRoZSBwcm9ncmFtYXRpYyBuYW1lIG9mIHRoZSBlbGVtZW50IGNsYXNzIHdlXG4gICAqIG5lZWQgdG8gY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mLlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdENzc0NsYXNzIHRoZSBuYW1lIG9mIHRoZSBDU1MgY2xhc3MgZWxlbWVudHMgb2YgdGhpc1xuICAgKiB0eXBlIHdpbGwgaGF2ZS5cbiAgICovXG4gIHVwZ3JhZGVEb206IGZ1bmN0aW9uKG9wdEpzQ2xhc3MsIG9wdENzc0NsYXNzKSB7fSxcbiAgLyoqXG4gICAqIFVwZ3JhZGVzIGEgc3BlY2lmaWMgZWxlbWVudCByYXRoZXIgdGhhbiBhbGwgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHshRWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCB3ZSB3aXNoIHRvIHVwZ3JhZGUuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0SnNDbGFzcyBPcHRpb25hbCBuYW1lIG9mIHRoZSBjbGFzcyB3ZSB3YW50IHRvIHVwZ3JhZGVcbiAgICogdGhlIGVsZW1lbnQgdG8uXG4gICAqL1xuICB1cGdyYWRlRWxlbWVudDogZnVuY3Rpb24oZWxlbWVudCwgb3B0SnNDbGFzcykge30sXG4gIC8qKlxuICAgKiBVcGdyYWRlcyBhIHNwZWNpZmljIGxpc3Qgb2YgZWxlbWVudHMgcmF0aGVyIHRoYW4gYWxsIGluIHRoZSBET00uXG4gICAqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR8IUFycmF5PCFFbGVtZW50PnwhTm9kZUxpc3R8IUhUTUxDb2xsZWN0aW9ufSBlbGVtZW50c1xuICAgKiBUaGUgZWxlbWVudHMgd2Ugd2lzaCB0byB1cGdyYWRlLlxuICAgKi9cbiAgdXBncmFkZUVsZW1lbnRzOiBmdW5jdGlvbihlbGVtZW50cykge30sXG4gIC8qKlxuICAgKiBVcGdyYWRlcyBhbGwgcmVnaXN0ZXJlZCBjb21wb25lbnRzIGZvdW5kIGluIHRoZSBjdXJyZW50IERPTS4gVGhpcyBpc1xuICAgKiBhdXRvbWF0aWNhbGx5IGNhbGxlZCBvbiB3aW5kb3cgbG9hZC5cbiAgICovXG4gIHVwZ3JhZGVBbGxSZWdpc3RlcmVkOiBmdW5jdGlvbigpIHt9LFxuICAvKipcbiAgICogQWxsb3dzIHVzZXIgdG8gYmUgYWxlcnRlZCB0byBhbnkgdXBncmFkZXMgdGhhdCBhcmUgcGVyZm9ybWVkIGZvciBhIGdpdmVuXG4gICAqIGNvbXBvbmVudCB0eXBlXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBqc0NsYXNzIFRoZSBjbGFzcyBuYW1lIG9mIHRoZSBNREwgY29tcG9uZW50IHdlIHdpc2hcbiAgICogdG8gaG9vayBpbnRvIGZvciBhbnkgdXBncmFkZXMgcGVyZm9ybWVkLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCFIVE1MRWxlbWVudCl9IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjYWxsIHVwb24gYW5cbiAgICogdXBncmFkZS4gVGhpcyBmdW5jdGlvbiBzaG91bGQgZXhwZWN0IDEgcGFyYW1ldGVyIC0gdGhlIEhUTUxFbGVtZW50IHdoaWNoXG4gICAqIGdvdCB1cGdyYWRlZC5cbiAgICovXG4gIHJlZ2lzdGVyVXBncmFkZWRDYWxsYmFjazogZnVuY3Rpb24oanNDbGFzcywgY2FsbGJhY2spIHt9LFxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2xhc3MgZm9yIGZ1dHVyZSB1c2UgYW5kIGF0dGVtcHRzIHRvIHVwZ3JhZGUgZXhpc3RpbmcgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge2NvbXBvbmVudEhhbmRsZXIuQ29tcG9uZW50Q29uZmlnUHVibGljfSBjb25maWcgdGhlIHJlZ2lzdHJhdGlvbiBjb25maWd1cmF0aW9uXG4gICAqL1xuICByZWdpc3RlcjogZnVuY3Rpb24oY29uZmlnKSB7fSxcbiAgLyoqXG4gICAqIERvd25ncmFkZSBlaXRoZXIgYSBnaXZlbiBub2RlLCBhbiBhcnJheSBvZiBub2Rlcywgb3IgYSBOb2RlTGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZXwhQXJyYXk8IU5vZGU+fCFOb2RlTGlzdH0gbm9kZXNcbiAgICovXG4gIGRvd25ncmFkZUVsZW1lbnRzOiBmdW5jdGlvbihub2Rlcykge31cbn07XG5cbmNvbXBvbmVudEhhbmRsZXIgPSAoZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKiogQHR5cGUgeyFBcnJheTxjb21wb25lbnRIYW5kbGVyLkNvbXBvbmVudENvbmZpZz59ICovXG4gIHZhciByZWdpc3RlcmVkQ29tcG9uZW50c18gPSBbXTtcblxuICAvKiogQHR5cGUgeyFBcnJheTxjb21wb25lbnRIYW5kbGVyLkNvbXBvbmVudD59ICovXG4gIHZhciBjcmVhdGVkQ29tcG9uZW50c18gPSBbXTtcblxuICB2YXIgZG93bmdyYWRlTWV0aG9kXyA9ICdtZGxEb3duZ3JhZGUnO1xuICB2YXIgY29tcG9uZW50Q29uZmlnUHJvcGVydHlfID0gJ21kbENvbXBvbmVudENvbmZpZ0ludGVybmFsXyc7XG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIHJlZ2lzdGVyZWQgY29tcG9uZW50cyBmb3IgYSBjbGFzcyB3ZSBhcmUgaW50ZXJlc3RlZCBpbiB1c2luZy5cbiAgICogT3B0aW9uYWxseSByZXBsYWNlcyBhIG1hdGNoIHdpdGggcGFzc2VkIG9iamVjdCBpZiBzcGVjaWZpZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIGEgY2xhc3Mgd2Ugd2FudCB0byB1c2UuXG4gICAqIEBwYXJhbSB7Y29tcG9uZW50SGFuZGxlci5Db21wb25lbnRDb25maWc9fSBvcHRSZXBsYWNlIE9wdGlvbmFsIG9iamVjdCB0byByZXBsYWNlIG1hdGNoIHdpdGguXG4gICAqIEByZXR1cm4geyFPYmplY3R8Ym9vbGVhbn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGZpbmRSZWdpc3RlcmVkQ2xhc3NfKG5hbWUsIG9wdFJlcGxhY2UpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZ2lzdGVyZWRDb21wb25lbnRzXy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKHJlZ2lzdGVyZWRDb21wb25lbnRzX1tpXS5jbGFzc05hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRSZXBsYWNlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHJlZ2lzdGVyZWRDb21wb25lbnRzX1tpXSA9IG9wdFJlcGxhY2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlZ2lzdGVyZWRDb21wb25lbnRzX1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGNsYXNzTmFtZXMgb2YgdGhlIHVwZ3JhZGVkIGNsYXNzZXMgb24gdGhlIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7IUVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZmV0Y2ggZGF0YSBmcm9tLlxuICAgKiBAcmV0dXJuIHshQXJyYXk8c3RyaW5nPn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGdldFVwZ3JhZGVkTGlzdE9mRWxlbWVudF8oZWxlbWVudCkge1xuICAgIHZhciBkYXRhVXBncmFkZWQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS11cGdyYWRlZCcpO1xuICAgIC8vIFVzZSBgWycnXWAgYXMgZGVmYXVsdCB2YWx1ZSB0byBjb25mb3JtIHRoZSBgLG5hbWUsbmFtZS4uLmAgc3R5bGUuXG4gICAgcmV0dXJuIGRhdGFVcGdyYWRlZCA9PT0gbnVsbCA/IFsnJ10gOiBkYXRhVXBncmFkZWQuc3BsaXQoJywnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiB1cGdyYWRlZCBmb3IgdGhlIGdpdmVuXG4gICAqIGNsYXNzLlxuICAgKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHdlIHdhbnQgdG8gY2hlY2suXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBqc0NsYXNzIFRoZSBjbGFzcyB0byBjaGVjayBmb3IuXG4gICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgZnVuY3Rpb24gaXNFbGVtZW50VXBncmFkZWRfKGVsZW1lbnQsIGpzQ2xhc3MpIHtcbiAgICB2YXIgdXBncmFkZWRMaXN0ID0gZ2V0VXBncmFkZWRMaXN0T2ZFbGVtZW50XyhlbGVtZW50KTtcbiAgICByZXR1cm4gdXBncmFkZWRMaXN0LmluZGV4T2YoanNDbGFzcykgIT09IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlYXJjaGVzIGV4aXN0aW5nIERPTSBmb3IgZWxlbWVudHMgb2Ygb3VyIGNvbXBvbmVudCB0eXBlIGFuZCB1cGdyYWRlcyB0aGVtXG4gICAqIGlmIHRoZXkgaGF2ZSBub3QgYWxyZWFkeSBiZWVuIHVwZ3JhZGVkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9wdEpzQ2xhc3MgdGhlIHByb2dyYW1hdGljIG5hbWUgb2YgdGhlIGVsZW1lbnQgY2xhc3Mgd2VcbiAgICogbmVlZCB0byBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YuXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0Q3NzQ2xhc3MgdGhlIG5hbWUgb2YgdGhlIENTUyBjbGFzcyBlbGVtZW50cyBvZiB0aGlzXG4gICAqIHR5cGUgd2lsbCBoYXZlLlxuICAgKi9cbiAgZnVuY3Rpb24gdXBncmFkZURvbUludGVybmFsKG9wdEpzQ2xhc3MsIG9wdENzc0NsYXNzKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRKc0NsYXNzID09PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICB0eXBlb2Ygb3B0Q3NzQ2xhc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlZ2lzdGVyZWRDb21wb25lbnRzXy5sZW5ndGg7IGkrKykge1xuICAgICAgICB1cGdyYWRlRG9tSW50ZXJuYWwocmVnaXN0ZXJlZENvbXBvbmVudHNfW2ldLmNsYXNzTmFtZSxcbiAgICAgICAgICAgIHJlZ2lzdGVyZWRDb21wb25lbnRzX1tpXS5jc3NDbGFzcyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBqc0NsYXNzID0gLyoqIEB0eXBlIHtzdHJpbmd9ICovIChvcHRKc0NsYXNzKTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0Q3NzQ2xhc3MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciByZWdpc3RlcmVkQ2xhc3MgPSBmaW5kUmVnaXN0ZXJlZENsYXNzXyhqc0NsYXNzKTtcbiAgICAgICAgaWYgKHJlZ2lzdGVyZWRDbGFzcykge1xuICAgICAgICAgIG9wdENzc0NsYXNzID0gcmVnaXN0ZXJlZENsYXNzLmNzc0NsYXNzO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgb3B0Q3NzQ2xhc3MpO1xuICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlbGVtZW50cy5sZW5ndGg7IG4rKykge1xuICAgICAgICB1cGdyYWRlRWxlbWVudEludGVybmFsKGVsZW1lbnRzW25dLCBqc0NsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBncmFkZXMgYSBzcGVjaWZpYyBlbGVtZW50IHJhdGhlciB0aGFuIGFsbCBpbiB0aGUgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0geyFFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHdlIHdpc2ggdG8gdXBncmFkZS5cbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvcHRKc0NsYXNzIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGNsYXNzIHdlIHdhbnQgdG8gdXBncmFkZVxuICAgKiB0aGUgZWxlbWVudCB0by5cbiAgICovXG4gIGZ1bmN0aW9uIHVwZ3JhZGVFbGVtZW50SW50ZXJuYWwoZWxlbWVudCwgb3B0SnNDbGFzcykge1xuICAgIC8vIFZlcmlmeSBhcmd1bWVudCB0eXBlLlxuICAgIGlmICghKHR5cGVvZiBlbGVtZW50ID09PSAnb2JqZWN0JyAmJiBlbGVtZW50IGluc3RhbmNlb2YgRWxlbWVudCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudCBwcm92aWRlZCB0byB1cGdyYWRlIE1ETCBlbGVtZW50LicpO1xuICAgIH1cbiAgICB2YXIgdXBncmFkZWRMaXN0ID0gZ2V0VXBncmFkZWRMaXN0T2ZFbGVtZW50XyhlbGVtZW50KTtcbiAgICB2YXIgY2xhc3Nlc1RvVXBncmFkZSA9IFtdO1xuICAgIC8vIElmIGpzQ2xhc3MgaXMgbm90IHByb3ZpZGVkIHNjYW4gdGhlIHJlZ2lzdGVyZWQgY29tcG9uZW50cyB0byBmaW5kIHRoZVxuICAgIC8vIG9uZXMgbWF0Y2hpbmcgdGhlIGVsZW1lbnQncyBDU1MgY2xhc3NMaXN0LlxuICAgIGlmICghb3B0SnNDbGFzcykge1xuICAgICAgdmFyIGNsYXNzTGlzdCA9IGVsZW1lbnQuY2xhc3NMaXN0O1xuICAgICAgcmVnaXN0ZXJlZENvbXBvbmVudHNfLmZvckVhY2goZnVuY3Rpb24oY29tcG9uZW50KSB7XG4gICAgICAgIC8vIE1hdGNoIENTUyAmIE5vdCB0byBiZSB1cGdyYWRlZCAmIE5vdCB1cGdyYWRlZC5cbiAgICAgICAgaWYgKGNsYXNzTGlzdC5jb250YWlucyhjb21wb25lbnQuY3NzQ2xhc3MpICYmXG4gICAgICAgICAgICBjbGFzc2VzVG9VcGdyYWRlLmluZGV4T2YoY29tcG9uZW50KSA9PT0gLTEgJiZcbiAgICAgICAgICAgICFpc0VsZW1lbnRVcGdyYWRlZF8oZWxlbWVudCwgY29tcG9uZW50LmNsYXNzTmFtZSkpIHtcbiAgICAgICAgICBjbGFzc2VzVG9VcGdyYWRlLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICghaXNFbGVtZW50VXBncmFkZWRfKGVsZW1lbnQsIG9wdEpzQ2xhc3MpKSB7XG4gICAgICBjbGFzc2VzVG9VcGdyYWRlLnB1c2goZmluZFJlZ2lzdGVyZWRDbGFzc18ob3B0SnNDbGFzcykpO1xuICAgIH1cblxuICAgIC8vIFVwZ3JhZGUgdGhlIGVsZW1lbnQgZm9yIGVhY2ggY2xhc3Nlcy5cbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGNsYXNzZXNUb1VwZ3JhZGUubGVuZ3RoLCByZWdpc3RlcmVkQ2xhc3M7IGkgPCBuOyBpKyspIHtcbiAgICAgIHJlZ2lzdGVyZWRDbGFzcyA9IGNsYXNzZXNUb1VwZ3JhZGVbaV07XG4gICAgICBpZiAocmVnaXN0ZXJlZENsYXNzKSB7XG4gICAgICAgIC8vIE1hcmsgZWxlbWVudCBhcyB1cGdyYWRlZC5cbiAgICAgICAgdXBncmFkZWRMaXN0LnB1c2gocmVnaXN0ZXJlZENsYXNzLmNsYXNzTmFtZSk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXVwZ3JhZGVkJywgdXBncmFkZWRMaXN0LmpvaW4oJywnKSk7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyByZWdpc3RlcmVkQ2xhc3MuY2xhc3NDb25zdHJ1Y3RvcihlbGVtZW50KTtcbiAgICAgICAgaW5zdGFuY2VbY29tcG9uZW50Q29uZmlnUHJvcGVydHlfXSA9IHJlZ2lzdGVyZWRDbGFzcztcbiAgICAgICAgY3JlYXRlZENvbXBvbmVudHNfLnB1c2goaW5zdGFuY2UpO1xuICAgICAgICAvLyBDYWxsIGFueSBjYWxsYmFja3MgdGhlIHVzZXIgaGFzIHJlZ2lzdGVyZWQgd2l0aCB0aGlzIGNvbXBvbmVudCB0eXBlLlxuICAgICAgICBmb3IgKHZhciBqID0gMCwgbSA9IHJlZ2lzdGVyZWRDbGFzcy5jYWxsYmFja3MubGVuZ3RoOyBqIDwgbTsgaisrKSB7XG4gICAgICAgICAgcmVnaXN0ZXJlZENsYXNzLmNhbGxiYWNrc1tqXShlbGVtZW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWdpc3RlcmVkQ2xhc3Mud2lkZ2V0KSB7XG4gICAgICAgICAgLy8gQXNzaWduIHBlciBlbGVtZW50IGluc3RhbmNlIGZvciBjb250cm9sIG92ZXIgQVBJXG4gICAgICAgICAgZWxlbWVudFtyZWdpc3RlcmVkQ2xhc3MuY2xhc3NOYW1lXSA9IGluc3RhbmNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ1VuYWJsZSB0byBmaW5kIGEgcmVnaXN0ZXJlZCBjb21wb25lbnQgZm9yIHRoZSBnaXZlbiBjbGFzcy4nKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGV2ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50cycpO1xuICAgICAgZXYuaW5pdEV2ZW50KCdtZGwtY29tcG9uZW50dXBncmFkZWQnLCB0cnVlLCB0cnVlKTtcbiAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChldik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZ3JhZGVzIGEgc3BlY2lmaWMgbGlzdCBvZiBlbGVtZW50cyByYXRoZXIgdGhhbiBhbGwgaW4gdGhlIERPTS5cbiAgICpcbiAgICogQHBhcmFtIHshRWxlbWVudHwhQXJyYXk8IUVsZW1lbnQ+fCFOb2RlTGlzdHwhSFRNTENvbGxlY3Rpb259IGVsZW1lbnRzXG4gICAqIFRoZSBlbGVtZW50cyB3ZSB3aXNoIHRvIHVwZ3JhZGUuXG4gICAqL1xuICBmdW5jdGlvbiB1cGdyYWRlRWxlbWVudHNJbnRlcm5hbChlbGVtZW50cykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShlbGVtZW50cykpIHtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudHMuaXRlbSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbGVtZW50cyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKC8qKiBAdHlwZSB7QXJyYXl9ICovIChlbGVtZW50cykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudHMgPSBbZWxlbWVudHNdO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbiA9IGVsZW1lbnRzLmxlbmd0aCwgZWxlbWVudDsgaSA8IG47IGkrKykge1xuICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICB1cGdyYWRlRWxlbWVudEludGVybmFsKGVsZW1lbnQpO1xuICAgICAgICBpZiAoZWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgdXBncmFkZUVsZW1lbnRzSW50ZXJuYWwoZWxlbWVudC5jaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgY2xhc3MgZm9yIGZ1dHVyZSB1c2UgYW5kIGF0dGVtcHRzIHRvIHVwZ3JhZGUgZXhpc3RpbmcgRE9NLlxuICAgKlxuICAgKiBAcGFyYW0ge2NvbXBvbmVudEhhbmRsZXIuQ29tcG9uZW50Q29uZmlnUHVibGljfSBjb25maWdcbiAgICovXG4gIGZ1bmN0aW9uIHJlZ2lzdGVySW50ZXJuYWwoY29uZmlnKSB7XG4gICAgLy8gSW4gb3JkZXIgdG8gc3VwcG9ydCBib3RoIENsb3N1cmUtY29tcGlsZWQgYW5kIHVuY29tcGlsZWQgY29kZSBhY2Nlc3NpbmdcbiAgICAvLyB0aGlzIG1ldGhvZCwgd2UgbmVlZCB0byBhbGxvdyBmb3IgYm90aCB0aGUgZG90IGFuZCBhcnJheSBzeW50YXggZm9yXG4gICAgLy8gcHJvcGVydHkgYWNjZXNzLiBZb3UnbGwgdGhlcmVmb3JlIHNlZSB0aGUgYGZvby5iYXIgfHwgZm9vWydiYXInXWBcbiAgICAvLyBwYXR0ZXJuIHJlcGVhdGVkIGFjcm9zcyB0aGlzIG1ldGhvZC5cbiAgICB2YXIgd2lkZ2V0TWlzc2luZyA9ICh0eXBlb2YgY29uZmlnLndpZGdldCA9PT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgdHlwZW9mIGNvbmZpZ1snd2lkZ2V0J10gPT09ICd1bmRlZmluZWQnKTtcbiAgICB2YXIgd2lkZ2V0ID0gdHJ1ZTtcblxuICAgIGlmICghd2lkZ2V0TWlzc2luZykge1xuICAgICAgd2lkZ2V0ID0gY29uZmlnLndpZGdldCB8fCBjb25maWdbJ3dpZGdldCddO1xuICAgIH1cblxuICAgIHZhciBuZXdDb25maWcgPSAvKiogQHR5cGUge2NvbXBvbmVudEhhbmRsZXIuQ29tcG9uZW50Q29uZmlnfSAqLyAoe1xuICAgICAgY2xhc3NDb25zdHJ1Y3RvcjogY29uZmlnLmNvbnN0cnVjdG9yIHx8IGNvbmZpZ1snY29uc3RydWN0b3InXSxcbiAgICAgIGNsYXNzTmFtZTogY29uZmlnLmNsYXNzQXNTdHJpbmcgfHwgY29uZmlnWydjbGFzc0FzU3RyaW5nJ10sXG4gICAgICBjc3NDbGFzczogY29uZmlnLmNzc0NsYXNzIHx8IGNvbmZpZ1snY3NzQ2xhc3MnXSxcbiAgICAgIHdpZGdldDogd2lkZ2V0LFxuICAgICAgY2FsbGJhY2tzOiBbXVxuICAgIH0pO1xuXG4gICAgcmVnaXN0ZXJlZENvbXBvbmVudHNfLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uY3NzQ2xhc3MgPT09IG5ld0NvbmZpZy5jc3NDbGFzcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBjc3NDbGFzcyBoYXMgYWxyZWFkeSBiZWVuIHJlZ2lzdGVyZWQ6ICcgKyBpdGVtLmNzc0NsYXNzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLmNsYXNzTmFtZSA9PT0gbmV3Q29uZmlnLmNsYXNzTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSBwcm92aWRlZCBjbGFzc05hbWUgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkJyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoY29uZmlnLmNvbnN0cnVjdG9yLnByb3RvdHlwZVxuICAgICAgICAuaGFzT3duUHJvcGVydHkoY29tcG9uZW50Q29uZmlnUHJvcGVydHlfKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdNREwgY29tcG9uZW50IGNsYXNzZXMgbXVzdCBub3QgaGF2ZSAnICsgY29tcG9uZW50Q29uZmlnUHJvcGVydHlfICtcbiAgICAgICAgICAnIGRlZmluZWQgYXMgYSBwcm9wZXJ0eS4nKTtcbiAgICB9XG5cbiAgICB2YXIgZm91bmQgPSBmaW5kUmVnaXN0ZXJlZENsYXNzXyhjb25maWcuY2xhc3NBc1N0cmluZywgbmV3Q29uZmlnKTtcblxuICAgIGlmICghZm91bmQpIHtcbiAgICAgIHJlZ2lzdGVyZWRDb21wb25lbnRzXy5wdXNoKG5ld0NvbmZpZyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFsbG93cyB1c2VyIHRvIGJlIGFsZXJ0ZWQgdG8gYW55IHVwZ3JhZGVzIHRoYXQgYXJlIHBlcmZvcm1lZCBmb3IgYSBnaXZlblxuICAgKiBjb21wb25lbnQgdHlwZVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ganNDbGFzcyBUaGUgY2xhc3MgbmFtZSBvZiB0aGUgTURMIGNvbXBvbmVudCB3ZSB3aXNoXG4gICAqIHRvIGhvb2sgaW50byBmb3IgYW55IHVwZ3JhZGVzIHBlcmZvcm1lZC5cbiAgICogQHBhcmFtIHtmdW5jdGlvbighSFRNTEVsZW1lbnQpfSBjYWxsYmFjayBUaGUgZnVuY3Rpb24gdG8gY2FsbCB1cG9uIGFuXG4gICAqIHVwZ3JhZGUuIFRoaXMgZnVuY3Rpb24gc2hvdWxkIGV4cGVjdCAxIHBhcmFtZXRlciAtIHRoZSBIVE1MRWxlbWVudCB3aGljaFxuICAgKiBnb3QgdXBncmFkZWQuXG4gICAqL1xuICBmdW5jdGlvbiByZWdpc3RlclVwZ3JhZGVkQ2FsbGJhY2tJbnRlcm5hbChqc0NsYXNzLCBjYWxsYmFjaykge1xuICAgIHZhciByZWdDbGFzcyA9IGZpbmRSZWdpc3RlcmVkQ2xhc3NfKGpzQ2xhc3MpO1xuICAgIGlmIChyZWdDbGFzcykge1xuICAgICAgcmVnQ2xhc3MuY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBVcGdyYWRlcyBhbGwgcmVnaXN0ZXJlZCBjb21wb25lbnRzIGZvdW5kIGluIHRoZSBjdXJyZW50IERPTS4gVGhpcyBpc1xuICAgKiBhdXRvbWF0aWNhbGx5IGNhbGxlZCBvbiB3aW5kb3cgbG9hZC5cbiAgICovXG4gIGZ1bmN0aW9uIHVwZ3JhZGVBbGxSZWdpc3RlcmVkSW50ZXJuYWwoKSB7XG4gICAgZm9yICh2YXIgbiA9IDA7IG4gPCByZWdpc3RlcmVkQ29tcG9uZW50c18ubGVuZ3RoOyBuKyspIHtcbiAgICAgIHVwZ3JhZGVEb21JbnRlcm5hbChyZWdpc3RlcmVkQ29tcG9uZW50c19bbl0uY2xhc3NOYW1lKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZHMgYSBjcmVhdGVkIGNvbXBvbmVudCBieSBhIGdpdmVuIERPTSBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0geyFOb2RlfSBub2RlXG4gICAqIEByZXR1cm4geyp9XG4gICAqL1xuICBmdW5jdGlvbiBmaW5kQ3JlYXRlZENvbXBvbmVudEJ5Tm9kZUludGVybmFsKG5vZGUpIHtcbiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGNyZWF0ZWRDb21wb25lbnRzXy5sZW5ndGg7IG4rKykge1xuICAgICAgdmFyIGNvbXBvbmVudCA9IGNyZWF0ZWRDb21wb25lbnRzX1tuXTtcbiAgICAgIGlmIChjb21wb25lbnQuZWxlbWVudF8gPT09IG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgdGhlIGNvbXBvbmVudCBmb3IgdGhlIGRvd25ncmFkZSBtZXRob2QuXG4gICAqIEV4ZWN1dGUgaWYgZm91bmQuXG4gICAqIFJlbW92ZSBjb21wb25lbnQgZnJvbSBjcmVhdGVkQ29tcG9uZW50cyBsaXN0LlxuICAgKlxuICAgKiBAcGFyYW0geyp9IGNvbXBvbmVudFxuICAgKi9cbiAgZnVuY3Rpb24gZGVjb25zdHJ1Y3RDb21wb25lbnRJbnRlcm5hbChjb21wb25lbnQpIHtcbiAgICBpZiAoY29tcG9uZW50ICYmXG4gICAgICAgIGNvbXBvbmVudFtjb21wb25lbnRDb25maWdQcm9wZXJ0eV9dXG4gICAgICAgICAgLmNsYXNzQ29uc3RydWN0b3IucHJvdG90eXBlXG4gICAgICAgICAgLmhhc093blByb3BlcnR5KGRvd25ncmFkZU1ldGhvZF8pKSB7XG4gICAgICBjb21wb25lbnRbZG93bmdyYWRlTWV0aG9kX10oKTtcbiAgICAgIHZhciBjb21wb25lbnRJbmRleCA9IGNyZWF0ZWRDb21wb25lbnRzXy5pbmRleE9mKGNvbXBvbmVudCk7XG4gICAgICBjcmVhdGVkQ29tcG9uZW50c18uc3BsaWNlKGNvbXBvbmVudEluZGV4LCAxKTtcblxuICAgICAgdmFyIHVwZ3JhZGVzID0gY29tcG9uZW50LmVsZW1lbnRfLmdldEF0dHJpYnV0ZSgnZGF0YS11cGdyYWRlZCcpLnNwbGl0KCcsJyk7XG4gICAgICB2YXIgY29tcG9uZW50UGxhY2UgPSB1cGdyYWRlcy5pbmRleE9mKFxuICAgICAgICAgIGNvbXBvbmVudFtjb21wb25lbnRDb25maWdQcm9wZXJ0eV9dLmNsYXNzQXNTdHJpbmcpO1xuICAgICAgdXBncmFkZXMuc3BsaWNlKGNvbXBvbmVudFBsYWNlLCAxKTtcbiAgICAgIGNvbXBvbmVudC5lbGVtZW50Xy5zZXRBdHRyaWJ1dGUoJ2RhdGEtdXBncmFkZWQnLCB1cGdyYWRlcy5qb2luKCcsJykpO1xuXG4gICAgICB2YXIgZXYgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnRzJyk7XG4gICAgICBldi5pbml0RXZlbnQoJ21kbC1jb21wb25lbnRkb3duZ3JhZGVkJywgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBjb21wb25lbnQuZWxlbWVudF8uZGlzcGF0Y2hFdmVudChldik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERvd25ncmFkZSBlaXRoZXIgYSBnaXZlbiBub2RlLCBhbiBhcnJheSBvZiBub2Rlcywgb3IgYSBOb2RlTGlzdC5cbiAgICpcbiAgICogQHBhcmFtIHshTm9kZXwhQXJyYXk8IU5vZGU+fCFOb2RlTGlzdH0gbm9kZXNcbiAgICovXG4gIGZ1bmN0aW9uIGRvd25ncmFkZU5vZGVzSW50ZXJuYWwobm9kZXMpIHtcbiAgICAvKipcbiAgICAgKiBBdXhpbGlhcnkgZnVuY3Rpb24gdG8gZG93bmdyYWRlIGEgc2luZ2xlIG5vZGUuXG4gICAgICogQHBhcmFtICB7IU5vZGV9IG5vZGUgdGhlIG5vZGUgdG8gYmUgZG93bmdyYWRlZFxuICAgICAqL1xuICAgIHZhciBkb3duZ3JhZGVOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgZGVjb25zdHJ1Y3RDb21wb25lbnRJbnRlcm5hbChmaW5kQ3JlYXRlZENvbXBvbmVudEJ5Tm9kZUludGVybmFsKG5vZGUpKTtcbiAgICB9O1xuICAgIGlmIChub2RlcyBpbnN0YW5jZW9mIEFycmF5IHx8IG5vZGVzIGluc3RhbmNlb2YgTm9kZUxpc3QpIHtcbiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgbm9kZXMubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgZG93bmdyYWRlTm9kZShub2Rlc1tuXSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlcyBpbnN0YW5jZW9mIE5vZGUpIHtcbiAgICAgIGRvd25ncmFkZU5vZGUobm9kZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnQgcHJvdmlkZWQgdG8gZG93bmdyYWRlIE1ETCBub2Rlcy4nKTtcbiAgICB9XG4gIH1cblxuICAvLyBOb3cgcmV0dXJuIHRoZSBmdW5jdGlvbnMgdGhhdCBzaG91bGQgYmUgbWFkZSBwdWJsaWMgd2l0aCB0aGVpciBwdWJsaWNseVxuICAvLyBmYWNpbmcgbmFtZXMuLi5cbiAgcmV0dXJuIHtcbiAgICB1cGdyYWRlRG9tOiB1cGdyYWRlRG9tSW50ZXJuYWwsXG4gICAgdXBncmFkZUVsZW1lbnQ6IHVwZ3JhZGVFbGVtZW50SW50ZXJuYWwsXG4gICAgdXBncmFkZUVsZW1lbnRzOiB1cGdyYWRlRWxlbWVudHNJbnRlcm5hbCxcbiAgICB1cGdyYWRlQWxsUmVnaXN0ZXJlZDogdXBncmFkZUFsbFJlZ2lzdGVyZWRJbnRlcm5hbCxcbiAgICByZWdpc3RlclVwZ3JhZGVkQ2FsbGJhY2s6IHJlZ2lzdGVyVXBncmFkZWRDYWxsYmFja0ludGVybmFsLFxuICAgIHJlZ2lzdGVyOiByZWdpc3RlckludGVybmFsLFxuICAgIGRvd25ncmFkZUVsZW1lbnRzOiBkb3duZ3JhZGVOb2Rlc0ludGVybmFsXG4gIH07XG59KSgpO1xuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgdHlwZSBvZiBhIHJlZ2lzdGVyZWQgY29tcG9uZW50IHR5cGUgbWFuYWdlZCBieVxuICogY29tcG9uZW50SGFuZGxlci4gUHJvdmlkZWQgZm9yIGJlbmVmaXQgb2YgdGhlIENsb3N1cmUgY29tcGlsZXIuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgY29uc3RydWN0b3I6IEZ1bmN0aW9uLFxuICogICBjbGFzc0FzU3RyaW5nOiBzdHJpbmcsXG4gKiAgIGNzc0NsYXNzOiBzdHJpbmcsXG4gKiAgIHdpZGdldDogKHN0cmluZ3xib29sZWFufHVuZGVmaW5lZClcbiAqIH19XG4gKi9cbmNvbXBvbmVudEhhbmRsZXIuQ29tcG9uZW50Q29uZmlnUHVibGljOyAgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSB0eXBlIG9mIGEgcmVnaXN0ZXJlZCBjb21wb25lbnQgdHlwZSBtYW5hZ2VkIGJ5XG4gKiBjb21wb25lbnRIYW5kbGVyLiBQcm92aWRlZCBmb3IgYmVuZWZpdCBvZiB0aGUgQ2xvc3VyZSBjb21waWxlci5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICBjb25zdHJ1Y3RvcjogIUZ1bmN0aW9uLFxuICogICBjbGFzc05hbWU6IHN0cmluZyxcbiAqICAgY3NzQ2xhc3M6IHN0cmluZyxcbiAqICAgd2lkZ2V0OiAoc3RyaW5nfGJvb2xlYW4pLFxuICogICBjYWxsYmFja3M6ICFBcnJheTxmdW5jdGlvbighSFRNTEVsZW1lbnQpPlxuICogfX1cbiAqL1xuY29tcG9uZW50SGFuZGxlci5Db21wb25lbnRDb25maWc7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLyoqXG4gKiBDcmVhdGVkIGNvbXBvbmVudCAoaS5lLiwgdXBncmFkZWQgZWxlbWVudCkgdHlwZSBhcyBtYW5hZ2VkIGJ5XG4gKiBjb21wb25lbnRIYW5kbGVyLiBQcm92aWRlZCBmb3IgYmVuZWZpdCBvZiB0aGUgQ2xvc3VyZSBjb21waWxlci5cbiAqXG4gKiBAdHlwZWRlZiB7e1xuICogICBlbGVtZW50XzogIUhUTUxFbGVtZW50LFxuICogICBjbGFzc05hbWU6IHN0cmluZyxcbiAqICAgY2xhc3NBc1N0cmluZzogc3RyaW5nLFxuICogICBjc3NDbGFzczogc3RyaW5nLFxuICogICB3aWRnZXQ6IHN0cmluZ1xuICogfX1cbiAqL1xuY29tcG9uZW50SGFuZGxlci5Db21wb25lbnQ7ICAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuLy8gRXhwb3J0IGFsbCBzeW1ib2xzLCBmb3IgdGhlIGJlbmVmaXQgb2YgQ2xvc3VyZSBjb21waWxlci5cbi8vIE5vIGVmZmVjdCBvbiB1bmNvbXBpbGVkIGNvZGUuXG5jb21wb25lbnRIYW5kbGVyWyd1cGdyYWRlRG9tJ10gPSBjb21wb25lbnRIYW5kbGVyLnVwZ3JhZGVEb207XG5jb21wb25lbnRIYW5kbGVyWyd1cGdyYWRlRWxlbWVudCddID0gY29tcG9uZW50SGFuZGxlci51cGdyYWRlRWxlbWVudDtcbmNvbXBvbmVudEhhbmRsZXJbJ3VwZ3JhZGVFbGVtZW50cyddID0gY29tcG9uZW50SGFuZGxlci51cGdyYWRlRWxlbWVudHM7XG5jb21wb25lbnRIYW5kbGVyWyd1cGdyYWRlQWxsUmVnaXN0ZXJlZCddID1cbiAgICBjb21wb25lbnRIYW5kbGVyLnVwZ3JhZGVBbGxSZWdpc3RlcmVkO1xuY29tcG9uZW50SGFuZGxlclsncmVnaXN0ZXJVcGdyYWRlZENhbGxiYWNrJ10gPVxuICAgIGNvbXBvbmVudEhhbmRsZXIucmVnaXN0ZXJVcGdyYWRlZENhbGxiYWNrO1xuY29tcG9uZW50SGFuZGxlclsncmVnaXN0ZXInXSA9IGNvbXBvbmVudEhhbmRsZXIucmVnaXN0ZXI7XG5jb21wb25lbnRIYW5kbGVyWydkb3duZ3JhZGVFbGVtZW50cyddID0gY29tcG9uZW50SGFuZGxlci5kb3duZ3JhZGVFbGVtZW50cztcbndpbmRvdy5jb21wb25lbnRIYW5kbGVyID0gY29tcG9uZW50SGFuZGxlcjtcbndpbmRvd1snY29tcG9uZW50SGFuZGxlciddID0gY29tcG9uZW50SGFuZGxlcjtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBQZXJmb3JtcyBhIFwiQ3V0dGluZyB0aGUgbXVzdGFyZFwiIHRlc3QuIElmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSBmZWF0dXJlc1xuICAgKiB0ZXN0ZWQsIGFkZHMgYSBtZGwtanMgY2xhc3MgdG8gdGhlIDxodG1sPiBlbGVtZW50LiBJdCB0aGVuIHVwZ3JhZGVzIGFsbCBNRExcbiAgICogY29tcG9uZW50cyByZXF1aXJpbmcgSmF2YVNjcmlwdC5cbiAgICovXG4gIGlmICgnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSAmJlxuICAgICAgJ3F1ZXJ5U2VsZWN0b3InIGluIGRvY3VtZW50ICYmXG4gICAgICAnYWRkRXZlbnRMaXN0ZW5lcicgaW4gd2luZG93ICYmIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoKSB7XG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ21kbC1qcycpO1xuICAgIGNvbXBvbmVudEhhbmRsZXIudXBncmFkZUFsbFJlZ2lzdGVyZWQoKTtcbiAgfSBlbHNlIHtcbiAgICAvKipcbiAgICAgKiBEdW1teSBmdW5jdGlvbiB0byBhdm9pZCBKUyBlcnJvcnMuXG4gICAgICovXG4gICAgY29tcG9uZW50SGFuZGxlci51cGdyYWRlRWxlbWVudCA9IGZ1bmN0aW9uKCkge307XG4gICAgLyoqXG4gICAgICogRHVtbXkgZnVuY3Rpb24gdG8gYXZvaWQgSlMgZXJyb3JzLlxuICAgICAqL1xuICAgIGNvbXBvbmVudEhhbmRsZXIucmVnaXN0ZXIgPSBmdW5jdGlvbigpIHt9O1xuICB9XG59KTtcbiJdLCJmaWxlIjoibWRsQ29tcG9uZW50SGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

// Source: https://github.com/darius/requestAnimationFrame/blob/master/requestAnimationFrame.js
// Adapted from https://gist.github.com/paulirish/1579671 which derived from
// http://paulirish.com/2011/requestanimationframe-for-smart-animating/
// http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating

// requestAnimationFrame polyfill by Erik Möller.
// Fixes from Paul Irish, Tino Zijdel, Andrew Mao, Klemen Slavič, Darius Bacon

// MIT license

(function() {
'use strict';

if (!Date.now) {
  /**
   * Date.now polyfill.
   * @return {number} the current Date
   */
  Date.now = function() { return new Date().getTime(); };
  Date['now'] = Date.now;
}

var vendors = ['webkit', 'moz'];
for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {
  var vp = vendors[i];
  window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];
  window.cancelAnimationFrame = (window[vp + 'CancelAnimationFrame'] ||
      window[vp + 'CancelRequestAnimationFrame']);
  window['requestAnimationFrame'] = window.requestAnimationFrame;
  window['cancelAnimationFrame'] = window.cancelAnimationFrame;
}

if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {
  var lastTime = 0;
  /**
   * requestAnimationFrame polyfill.
   * @param  {!Function} callback the callback function.
   */
  window.requestAnimationFrame = function(callback) {
    var now = Date.now();
    var nextTime = Math.max(lastTime + 16, now);
    return setTimeout(function() { callback(lastTime = nextTime); },
                      nextTime - now);
  };
  window.cancelAnimationFrame = clearTimeout;
  window['requestAnimationFrame'] = window.requestAnimationFrame;
  window['cancelAnimationFrame'] = window.cancelAnimationFrame;
}

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJyQUYuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU291cmNlOiBodHRwczovL2dpdGh1Yi5jb20vZGFyaXVzL3JlcXVlc3RBbmltYXRpb25GcmFtZS9ibG9iL21hc3Rlci9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUuanNcbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9wYXVsaXJpc2gvMTU3OTY3MSB3aGljaCBkZXJpdmVkIGZyb21cbi8vIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyBodHRwOi8vbXkub3BlcmEuY29tL2Vtb2xsZXIvYmxvZy8yMDExLzEyLzIwL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtZXItYW5pbWF0aW5nXG5cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbCBieSBFcmlrIE3DtmxsZXIuXG4vLyBGaXhlcyBmcm9tIFBhdWwgSXJpc2gsIFRpbm8gWmlqZGVsLCBBbmRyZXcgTWFvLCBLbGVtZW4gU2xhdmnEjSwgRGFyaXVzIEJhY29uXG5cbi8vIE1JVCBsaWNlbnNlXG5cbihmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxuaWYgKCFEYXRlLm5vdykge1xuICAvKipcbiAgICogRGF0ZS5ub3cgcG9seWZpbGwuXG4gICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGN1cnJlbnQgRGF0ZVxuICAgKi9cbiAgRGF0ZS5ub3cgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpOyB9O1xuICBEYXRlWydub3cnXSA9IERhdGUubm93O1xufVxuXG52YXIgdmVuZG9ycyA9IFsnd2Via2l0JywgJ21veiddO1xuZm9yICh2YXIgaSA9IDA7IGkgPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKytpKSB7XG4gIHZhciB2cCA9IHZlbmRvcnNbaV07XG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdnAgKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9ICh3aW5kb3dbdnAgKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fFxuICAgICAgd2luZG93W3ZwICsgJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddKTtcbiAgd2luZG93WydyZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gIHdpbmRvd1snY2FuY2VsQW5pbWF0aW9uRnJhbWUnXSA9IHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZTtcbn1cblxuaWYgKC9pUChhZHxob25lfG9kKS4qT1MgNi8udGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkgfHwgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSkge1xuICB2YXIgbGFzdFRpbWUgPSAwO1xuICAvKipcbiAgICogcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsLlxuICAgKiBAcGFyYW0gIHshRnVuY3Rpb259IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAgICovXG4gIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xuICAgIHZhciBuZXh0VGltZSA9IE1hdGgubWF4KGxhc3RUaW1lICsgMTYsIG5vdyk7XG4gICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNhbGxiYWNrKGxhc3RUaW1lID0gbmV4dFRpbWUpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgIG5leHRUaW1lIC0gbm93KTtcbiAgfTtcbiAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gY2xlYXJUaW1lb3V0O1xuICB3aW5kb3dbJ3JlcXVlc3RBbmltYXRpb25GcmFtZSddID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTtcbiAgd2luZG93WydjYW5jZWxBbmltYXRpb25GcmFtZSddID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lO1xufVxuXG59KSgpO1xuIl0sImZpbGUiOiJyQUYuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function() {
  'use strict';

  /**
   * Class constructor for Button MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var MaterialButton = function MaterialButton(element) {
    this.element_ = element;

    // Initialize instance.
    this.init();
  };
  window['MaterialButton'] = MaterialButton;

  /**
   * Store constants in one place so they can be updated easily.
   *
   * @enum {string | number}
   * @private
   */
  MaterialButton.prototype.Constant_ = {
    // None for now.
  };

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  MaterialButton.prototype.CssClasses_ = {
    RIPPLE_EFFECT: 'mdl-js-ripple-effect',
    RIPPLE_CONTAINER: 'mdl-button__ripple-container',
    RIPPLE: 'mdl-ripple'
  };

  /**
   * Handle blur of element.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialButton.prototype.blurHandler_ = function(event) {
    if (event) {
      this.element_.blur();
    }
  };

  // Public methods.

  /**
   * Disable button.
   *
   * @public
   */
  MaterialButton.prototype.disable = function() {
    this.element_.disabled = true;
  };
  MaterialButton.prototype['disable'] = MaterialButton.prototype.disable;

  /**
   * Enable button.
   *
   * @public
   */
  MaterialButton.prototype.enable = function() {
    this.element_.disabled = false;
  };
  MaterialButton.prototype['enable'] = MaterialButton.prototype.enable;

  /**
   * Initialize element.
   */
  MaterialButton.prototype.init = function() {
    if (this.element_) {
      if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {
        var rippleContainer = document.createElement('span');
        rippleContainer.classList.add(this.CssClasses_.RIPPLE_CONTAINER);
        this.rippleElement_ = document.createElement('span');
        this.rippleElement_.classList.add(this.CssClasses_.RIPPLE);
        rippleContainer.appendChild(this.rippleElement_);
        this.boundRippleBlurHandler = this.blurHandler_.bind(this);
        this.rippleElement_.addEventListener('mouseup', this.boundRippleBlurHandler);
        this.element_.appendChild(rippleContainer);
      }
      this.boundButtonBlurHandler = this.blurHandler_.bind(this);
      this.element_.addEventListener('mouseup', this.boundButtonBlurHandler);
      this.element_.addEventListener('mouseleave', this.boundButtonBlurHandler);
    }
  };

  /**
   * Downgrade the element.
   *
   * @private
   */
  MaterialButton.prototype.mdlDowngrade_ = function() {
    if (this.rippleElement_) {
      this.rippleElement_.removeEventListener('mouseup', this.boundRippleBlurHandler);
    }
    this.element_.removeEventListener('mouseup', this.boundButtonBlurHandler);
    this.element_.removeEventListener('mouseleave', this.boundButtonBlurHandler);
  };

  /**
   * Public alias for the downgrade method.
   *
   * @public
   */
  MaterialButton.prototype.mdlDowngrade =
      MaterialButton.prototype.mdlDowngrade_;

  MaterialButton.prototype['mdlDowngrade'] =
      MaterialButton.prototype.mdlDowngrade;

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
    constructor: MaterialButton,
    classAsString: 'MaterialButton',
    cssClass: 'mdl-js-button',
    widget: true
  });
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJidXR0b24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDbGFzcyBjb25zdHJ1Y3RvciBmb3IgQnV0dG9uIE1ETCBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudHMgTURMIGNvbXBvbmVudCBkZXNpZ24gcGF0dGVybiBkZWZpbmVkIGF0OlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gICAqXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHVwZ3JhZGVkLlxuICAgKi9cbiAgdmFyIE1hdGVyaWFsQnV0dG9uID0gZnVuY3Rpb24gTWF0ZXJpYWxCdXR0b24oZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBpbnN0YW5jZS5cbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcbiAgd2luZG93WydNYXRlcmlhbEJ1dHRvbiddID0gTWF0ZXJpYWxCdXR0b247XG5cbiAgLyoqXG4gICAqIFN0b3JlIGNvbnN0YW50cyBpbiBvbmUgcGxhY2Ugc28gdGhleSBjYW4gYmUgdXBkYXRlZCBlYXNpbHkuXG4gICAqXG4gICAqIEBlbnVtIHtzdHJpbmcgfCBudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbEJ1dHRvbi5wcm90b3R5cGUuQ29uc3RhbnRfID0ge1xuICAgIC8vIE5vbmUgZm9yIG5vdy5cbiAgfTtcblxuICAvKipcbiAgICogU3RvcmUgc3RyaW5ncyBmb3IgY2xhc3MgbmFtZXMgZGVmaW5lZCBieSB0aGlzIGNvbXBvbmVudCB0aGF0IGFyZSB1c2VkIGluXG4gICAqIEphdmFTY3JpcHQuIFRoaXMgYWxsb3dzIHVzIHRvIHNpbXBseSBjaGFuZ2UgaXQgaW4gb25lIHBsYWNlIHNob3VsZCB3ZVxuICAgKiBkZWNpZGUgdG8gbW9kaWZ5IGF0IGEgbGF0ZXIgZGF0ZS5cbiAgICpcbiAgICogQGVudW0ge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsQnV0dG9uLnByb3RvdHlwZS5Dc3NDbGFzc2VzXyA9IHtcbiAgICBSSVBQTEVfRUZGRUNUOiAnbWRsLWpzLXJpcHBsZS1lZmZlY3QnLFxuICAgIFJJUFBMRV9DT05UQUlORVI6ICdtZGwtYnV0dG9uX19yaXBwbGUtY29udGFpbmVyJyxcbiAgICBSSVBQTEU6ICdtZGwtcmlwcGxlJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgYmx1ciBvZiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCBmaXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsQnV0dG9uLnByb3RvdHlwZS5ibHVySGFuZGxlcl8gPSBmdW5jdGlvbihldmVudCkge1xuICAgIGlmIChldmVudCkge1xuICAgICAgdGhpcy5lbGVtZW50Xy5ibHVyKCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFB1YmxpYyBtZXRob2RzLlxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGJ1dHRvbi5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxCdXR0b24ucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1lbnRfLmRpc2FibGVkID0gdHJ1ZTtcbiAgfTtcbiAgTWF0ZXJpYWxCdXR0b24ucHJvdG90eXBlWydkaXNhYmxlJ10gPSBNYXRlcmlhbEJ1dHRvbi5wcm90b3R5cGUuZGlzYWJsZTtcblxuICAvKipcbiAgICogRW5hYmxlIGJ1dHRvbi5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxCdXR0b24ucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuZWxlbWVudF8uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfTtcbiAgTWF0ZXJpYWxCdXR0b24ucHJvdG90eXBlWydlbmFibGUnXSA9IE1hdGVyaWFsQnV0dG9uLnByb3RvdHlwZS5lbmFibGU7XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZWxlbWVudC5cbiAgICovXG4gIE1hdGVyaWFsQnV0dG9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudF8pIHtcbiAgICAgIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpKSB7XG4gICAgICAgIHZhciByaXBwbGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHJpcHBsZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NPTlRBSU5FUik7XG4gICAgICAgIHRoaXMucmlwcGxlRWxlbWVudF8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIHRoaXMucmlwcGxlRWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSk7XG4gICAgICAgIHJpcHBsZUNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnJpcHBsZUVsZW1lbnRfKTtcbiAgICAgICAgdGhpcy5ib3VuZFJpcHBsZUJsdXJIYW5kbGVyID0gdGhpcy5ibHVySGFuZGxlcl8uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yaXBwbGVFbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ib3VuZFJpcHBsZUJsdXJIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5hcHBlbmRDaGlsZChyaXBwbGVDb250YWluZXIpO1xuICAgICAgfVxuICAgICAgdGhpcy5ib3VuZEJ1dHRvbkJsdXJIYW5kbGVyID0gdGhpcy5ibHVySGFuZGxlcl8uYmluZCh0aGlzKTtcbiAgICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYm91bmRCdXR0b25CbHVySGFuZGxlcik7XG4gICAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmJvdW5kQnV0dG9uQmx1ckhhbmRsZXIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRG93bmdyYWRlIHRoZSBlbGVtZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxCdXR0b24ucHJvdG90eXBlLm1kbERvd25ncmFkZV8gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5yaXBwbGVFbGVtZW50Xykge1xuICAgICAgdGhpcy5yaXBwbGVFbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ib3VuZFJpcHBsZUJsdXJIYW5kbGVyKTtcbiAgICB9XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ib3VuZEJ1dHRvbkJsdXJIYW5kbGVyKTtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmJvdW5kQnV0dG9uQmx1ckhhbmRsZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgYWxpYXMgZm9yIHRoZSBkb3duZ3JhZGUgbWV0aG9kLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBNYXRlcmlhbEJ1dHRvbi5wcm90b3R5cGUubWRsRG93bmdyYWRlID1cbiAgICAgIE1hdGVyaWFsQnV0dG9uLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfO1xuXG4gIE1hdGVyaWFsQnV0dG9uLnByb3RvdHlwZVsnbWRsRG93bmdyYWRlJ10gPVxuICAgICAgTWF0ZXJpYWxCdXR0b24ucHJvdG90eXBlLm1kbERvd25ncmFkZTtcblxuICAvLyBUaGUgY29tcG9uZW50IHJlZ2lzdGVycyBpdHNlbGYuIEl0IGNhbiBhc3N1bWUgY29tcG9uZW50SGFuZGxlciBpcyBhdmFpbGFibGVcbiAgLy8gaW4gdGhlIGdsb2JhbCBzY29wZS5cbiAgY29tcG9uZW50SGFuZGxlci5yZWdpc3Rlcih7XG4gICAgY29uc3RydWN0b3I6IE1hdGVyaWFsQnV0dG9uLFxuICAgIGNsYXNzQXNTdHJpbmc6ICdNYXRlcmlhbEJ1dHRvbicsXG4gICAgY3NzQ2xhc3M6ICdtZGwtanMtYnV0dG9uJyxcbiAgICB3aWRnZXQ6IHRydWVcbiAgfSk7XG59KSgpO1xuIl0sImZpbGUiOiJidXR0b24uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function() {
  'use strict';

  /**
   * Class constructor for dropdown MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @constructor
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var MaterialMenu = function MaterialMenu(element) {
    this.element_ = element;

    // Initialize instance.
    this.init();
  };
  window['MaterialMenu'] = MaterialMenu;

  /**
   * Store constants in one place so they can be updated easily.
   *
   * @enum {string | number}
   * @private
   */
  MaterialMenu.prototype.Constant_ = {
    // Total duration of the menu animation.
    TRANSITION_DURATION_SECONDS: 0.3,
    // The fraction of the total duration we want to use for menu item animations.
    TRANSITION_DURATION_FRACTION: 0.8,
    // How long the menu stays open after choosing an option (so the user can see
    // the ripple).
    CLOSE_TIMEOUT: 150
  };

  /**
   * Keycodes, for code readability.
   *
   * @enum {number}
   * @private
   */
  MaterialMenu.prototype.Keycodes_ = {
    ENTER: 13,
    ESCAPE: 27,
    SPACE: 32,
    UP_ARROW: 38,
    DOWN_ARROW: 40
  };

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  MaterialMenu.prototype.CssClasses_ = {
    CONTAINER: 'mdl-menu__container',
    OUTLINE: 'mdl-menu__outline',
    ITEM: 'mdl-menu__item',
    ITEM_RIPPLE_CONTAINER: 'mdl-menu__item-ripple-container',
    RIPPLE_EFFECT: 'mdl-js-ripple-effect',
    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',
    RIPPLE: 'mdl-ripple',
    // Statuses
    IS_UPGRADED: 'is-upgraded',
    IS_VISIBLE: 'is-visible',
    IS_ANIMATING: 'is-animating',
    // Alignment options
    BOTTOM_LEFT: 'mdl-menu--bottom-left',  // This is the default.
    BOTTOM_RIGHT: 'mdl-menu--bottom-right',
    TOP_LEFT: 'mdl-menu--top-left',
    TOP_RIGHT: 'mdl-menu--top-right',
    UNALIGNED: 'mdl-menu--unaligned'
  };

  /**
   * Initialize element.
   */
  MaterialMenu.prototype.init = function() {
    if (this.element_) {
      // Create container for the menu.
      var container = document.createElement('div');
      container.classList.add(this.CssClasses_.CONTAINER);
      this.element_.parentElement.insertBefore(container, this.element_);
      this.element_.parentElement.removeChild(this.element_);
      container.appendChild(this.element_);
      this.container_ = container;

      // Create outline for the menu (shadow and background).
      var outline = document.createElement('div');
      outline.classList.add(this.CssClasses_.OUTLINE);
      this.outline_ = outline;
      container.insertBefore(outline, this.element_);

      // Find the "for" element and bind events to it.
      var forElId = this.element_.getAttribute('for') ||
                      this.element_.getAttribute('data-mdl-for');
      var forEl = null;
      if (forElId) {
        forEl = document.getElementById(forElId);
        if (forEl) {
          this.forElement_ = forEl;
          forEl.addEventListener('click', this.handleForClick_.bind(this));
          forEl.addEventListener('keydown',
              this.handleForKeyboardEvent_.bind(this));
        }
      }

      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);
      this.boundItemKeydown_ = this.handleItemKeyboardEvent_.bind(this);
      this.boundItemClick_ = this.handleItemClick_.bind(this);
      for (var i = 0; i < items.length; i++) {
        // Add a listener to each menu item.
        items[i].addEventListener('click', this.boundItemClick_);
        // Add a tab index to each menu item.
        items[i].tabIndex = '-1';
        // Add a keyboard listener to each menu item.
        items[i].addEventListener('keydown', this.boundItemKeydown_);
      }

      // Add ripple classes to each item, if the user has enabled ripples.
      if (this.element_.classList.contains(this.CssClasses_.RIPPLE_EFFECT)) {
        this.element_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);

        for (i = 0; i < items.length; i++) {
          var item = items[i];

          var rippleContainer = document.createElement('span');
          rippleContainer.classList.add(this.CssClasses_.ITEM_RIPPLE_CONTAINER);

          var ripple = document.createElement('span');
          ripple.classList.add(this.CssClasses_.RIPPLE);
          rippleContainer.appendChild(ripple);

          item.appendChild(rippleContainer);
          item.classList.add(this.CssClasses_.RIPPLE_EFFECT);
        }
      }

      // Copy alignment classes to the container, so the outline can use them.
      if (this.element_.classList.contains(this.CssClasses_.BOTTOM_LEFT)) {
        this.outline_.classList.add(this.CssClasses_.BOTTOM_LEFT);
      }
      if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {
        this.outline_.classList.add(this.CssClasses_.BOTTOM_RIGHT);
      }
      if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {
        this.outline_.classList.add(this.CssClasses_.TOP_LEFT);
      }
      if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {
        this.outline_.classList.add(this.CssClasses_.TOP_RIGHT);
      }
      if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {
        this.outline_.classList.add(this.CssClasses_.UNALIGNED);
      }

      container.classList.add(this.CssClasses_.IS_UPGRADED);
    }
  };

  /**
   * Handles a click on the "for" element, by positioning the menu and then
   * toggling it.
   *
   * @param {Event} evt The event that fired.
   * @private
   */
  MaterialMenu.prototype.handleForClick_ = function(evt) {
    if (this.element_ && this.forElement_) {
      var rect = this.forElement_.getBoundingClientRect();
      var forRect = this.forElement_.parentElement.getBoundingClientRect();

      if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {
        // Do not position the menu automatically. Requires the developer to
        // manually specify position.
      } else if (this.element_.classList.contains(
          this.CssClasses_.BOTTOM_RIGHT)) {
        // Position below the "for" element, aligned to its right.
        this.container_.style.right = (forRect.right - rect.right) + 'px';
        this.container_.style.top =
            this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';
      } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {
        // Position above the "for" element, aligned to its left.
        this.container_.style.left = this.forElement_.offsetLeft + 'px';
        this.container_.style.bottom = (forRect.bottom - rect.top) + 'px';
      } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {
        // Position above the "for" element, aligned to its right.
        this.container_.style.right = (forRect.right - rect.right) + 'px';
        this.container_.style.bottom = (forRect.bottom - rect.top) + 'px';
      } else {
        // Default: position below the "for" element, aligned to its left.
        this.container_.style.left = this.forElement_.offsetLeft + 'px';
        this.container_.style.top =
            this.forElement_.offsetTop + this.forElement_.offsetHeight + 'px';
      }
    }

    this.toggle(evt);
  };

  /**
   * Handles a keyboard event on the "for" element.
   *
   * @param {Event} evt The event that fired.
   * @private
   */
  MaterialMenu.prototype.handleForKeyboardEvent_ = function(evt) {
    if (this.element_ && this.container_ && this.forElement_) {
      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM +
        ':not([disabled])');

      if (items && items.length > 0 &&
          this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {
        if (evt.keyCode === this.Keycodes_.UP_ARROW) {
          evt.preventDefault();
          items[items.length - 1].focus();
        } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {
          evt.preventDefault();
          items[0].focus();
        }
      }
    }
  };

  /**
   * Handles a keyboard event on an item.
   *
   * @param {Event} evt The event that fired.
   * @private
   */
  MaterialMenu.prototype.handleItemKeyboardEvent_ = function(evt) {
    if (this.element_ && this.container_) {
      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM +
        ':not([disabled])');

      if (items && items.length > 0 &&
          this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {
        var currentIndex = Array.prototype.slice.call(items).indexOf(evt.target);

        if (evt.keyCode === this.Keycodes_.UP_ARROW) {
          evt.preventDefault();
          if (currentIndex > 0) {
            items[currentIndex - 1].focus();
          } else {
            items[items.length - 1].focus();
          }
        } else if (evt.keyCode === this.Keycodes_.DOWN_ARROW) {
          evt.preventDefault();
          if (items.length > currentIndex + 1) {
            items[currentIndex + 1].focus();
          } else {
            items[0].focus();
          }
        } else if (evt.keyCode === this.Keycodes_.SPACE ||
              evt.keyCode === this.Keycodes_.ENTER) {
          evt.preventDefault();
          // Send mousedown and mouseup to trigger ripple.
          var e = new MouseEvent('mousedown');
          evt.target.dispatchEvent(e);
          e = new MouseEvent('mouseup');
          evt.target.dispatchEvent(e);
          // Send click.
          evt.target.click();
        } else if (evt.keyCode === this.Keycodes_.ESCAPE) {
          evt.preventDefault();
          this.hide();
        }
      }
    }
  };

  /**
   * Handles a click event on an item.
   *
   * @param {Event} evt The event that fired.
   * @private
   */
  MaterialMenu.prototype.handleItemClick_ = function(evt) {
    if (evt.target.hasAttribute('disabled')) {
      evt.stopPropagation();
    } else {
      // Wait some time before closing menu, so the user can see the ripple.
      this.closing_ = true;
      window.setTimeout(function(evt) {
        this.hide();
        this.closing_ = false;
      }.bind(this), /** @type {number} */ (this.Constant_.CLOSE_TIMEOUT));
    }
  };

  /**
   * Calculates the initial clip (for opening the menu) or final clip (for closing
   * it), and applies it. This allows us to animate from or to the correct point,
   * that is, the point it's aligned to in the "for" element.
   *
   * @param {number} height Height of the clip rectangle
   * @param {number} width Width of the clip rectangle
   * @private
   */
  MaterialMenu.prototype.applyClip_ = function(height, width) {
    if (this.element_.classList.contains(this.CssClasses_.UNALIGNED)) {
      // Do not clip.
      this.element_.style.clip = '';
    } else if (this.element_.classList.contains(this.CssClasses_.BOTTOM_RIGHT)) {
      // Clip to the top right corner of the menu.
      this.element_.style.clip =
          'rect(0 ' + width + 'px ' + '0 ' + width + 'px)';
    } else if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT)) {
      // Clip to the bottom left corner of the menu.
      this.element_.style.clip =
          'rect(' + height + 'px 0 ' + height + 'px 0)';
    } else if (this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {
      // Clip to the bottom right corner of the menu.
      this.element_.style.clip = 'rect(' + height + 'px ' + width + 'px ' +
          height + 'px ' + width + 'px)';
    } else {
      // Default: do not clip (same as clipping to the top left corner).
      this.element_.style.clip = '';
    }
  };

  /**
   * Adds an event listener to clean up after the animation ends.
   *
   * @private
   */
  MaterialMenu.prototype.addAnimationEndListener_ = function() {
    var cleanup = function() {
      this.element_.removeEventListener('transitionend', cleanup);
      this.element_.removeEventListener('webkitTransitionEnd', cleanup);
      this.element_.classList.remove(this.CssClasses_.IS_ANIMATING);
    }.bind(this);

    // Remove animation class once the transition is done.
    this.element_.addEventListener('transitionend', cleanup);
    this.element_.addEventListener('webkitTransitionEnd', cleanup);
  };

  /**
   * Displays the menu.
   *
   * @public
   */
  MaterialMenu.prototype.show = function(evt) {
    if (this.element_ && this.container_ && this.outline_) {
      // Measure the inner element.
      var height = this.element_.getBoundingClientRect().height;
      var width = this.element_.getBoundingClientRect().width;

      // Apply the inner element's size to the container and outline.
      this.container_.style.width = width + 'px';
      this.container_.style.height = height + 'px';
      this.outline_.style.width = width + 'px';
      this.outline_.style.height = height + 'px';

      var transitionDuration = this.Constant_.TRANSITION_DURATION_SECONDS *
          this.Constant_.TRANSITION_DURATION_FRACTION;

      // Calculate transition delays for individual menu items, so that they fade
      // in one at a time.
      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);
      for (var i = 0; i < items.length; i++) {
        var itemDelay = null;
        if (this.element_.classList.contains(this.CssClasses_.TOP_LEFT) ||
            this.element_.classList.contains(this.CssClasses_.TOP_RIGHT)) {
          itemDelay = ((height - items[i].offsetTop - items[i].offsetHeight) /
              height * transitionDuration) + 's';
        } else {
          itemDelay = (items[i].offsetTop / height * transitionDuration) + 's';
        }
        items[i].style.transitionDelay = itemDelay;
      }

      // Apply the initial clip to the text before we start animating.
      this.applyClip_(height, width);

      // Wait for the next frame, turn on animation, and apply the final clip.
      // Also make it visible. This triggers the transitions.
      window.requestAnimationFrame(function() {
        this.element_.classList.add(this.CssClasses_.IS_ANIMATING);
        this.element_.style.clip = 'rect(0 ' + width + 'px ' + height + 'px 0)';
        this.container_.classList.add(this.CssClasses_.IS_VISIBLE);
      }.bind(this));

      // Clean up after the animation is complete.
      this.addAnimationEndListener_();

      // Add a click listener to the document, to close the menu.
      var callback = function(e) {
        // Check to see if the document is processing the same event that
        // displayed the menu in the first place. If so, do nothing.
        // Also check to see if the menu is in the process of closing itself, and
        // do nothing in that case.
        // Also check if the clicked element is a menu item
        // if so, do nothing.
        if (e !== evt && !this.closing_ && e.target.parentNode !== this.element_) {
          document.removeEventListener('click', callback);
          this.hide();
        }
      }.bind(this);
      document.addEventListener('click', callback);
    }
  };
  MaterialMenu.prototype['show'] = MaterialMenu.prototype.show;

  /**
   * Hides the menu.
   *
   * @public
   */
  MaterialMenu.prototype.hide = function() {
    if (this.element_ && this.container_ && this.outline_) {
      var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);

      // Remove all transition delays; menu items fade out concurrently.
      for (var i = 0; i < items.length; i++) {
        items[i].style.transitionDelay = null;
      }

      // Measure the inner element.
      var rect = this.element_.getBoundingClientRect();
      var height = rect.height;
      var width = rect.width;

      // Turn on animation, and apply the final clip. Also make invisible.
      // This triggers the transitions.
      this.element_.classList.add(this.CssClasses_.IS_ANIMATING);
      this.applyClip_(height, width);
      this.container_.classList.remove(this.CssClasses_.IS_VISIBLE);

      // Clean up after the animation is complete.
      this.addAnimationEndListener_();
    }
  };
  MaterialMenu.prototype['hide'] = MaterialMenu.prototype.hide;

  /**
   * Displays or hides the menu, depending on current state.
   *
   * @public
   */
  MaterialMenu.prototype.toggle = function(evt) {
    if (this.container_.classList.contains(this.CssClasses_.IS_VISIBLE)) {
      this.hide();
    } else {
      this.show(evt);
    }
  };
  MaterialMenu.prototype['toggle'] = MaterialMenu.prototype.toggle;

  /**
   * Downgrade the component.
   *
   * @private
   */
  MaterialMenu.prototype.mdlDowngrade_ = function() {
    var items = this.element_.querySelectorAll('.' + this.CssClasses_.ITEM);

    for (var i = 0; i < items.length; i++) {
      items[i].removeEventListener('click', this.boundItemClick_);
      items[i].removeEventListener('keydown', this.boundItemKeydown_);
    }
  };

  /**
   * Public alias for the downgrade method.
   *
   * @public
   */
  MaterialMenu.prototype.mdlDowngrade =
      MaterialMenu.prototype.mdlDowngrade_;

  MaterialMenu.prototype['mdlDowngrade'] =
      MaterialMenu.prototype.mdlDowngrade;

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
    constructor: MaterialMenu,
    classAsString: 'MaterialMenu',
    cssClass: 'mdl-js-menu',
    widget: true
  });
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtZW51LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ2xhc3MgY29uc3RydWN0b3IgZm9yIGRyb3Bkb3duIE1ETCBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudHMgTURMIGNvbXBvbmVudCBkZXNpZ24gcGF0dGVybiBkZWZpbmVkIGF0OlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGdyYWRlZC5cbiAgICovXG4gIHZhciBNYXRlcmlhbE1lbnUgPSBmdW5jdGlvbiBNYXRlcmlhbE1lbnUoZWxlbWVudCkge1xuICAgIHRoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuXG4gICAgLy8gSW5pdGlhbGl6ZSBpbnN0YW5jZS5cbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcbiAgd2luZG93WydNYXRlcmlhbE1lbnUnXSA9IE1hdGVyaWFsTWVudTtcblxuICAvKipcbiAgICogU3RvcmUgY29uc3RhbnRzIGluIG9uZSBwbGFjZSBzbyB0aGV5IGNhbiBiZSB1cGRhdGVkIGVhc2lseS5cbiAgICpcbiAgICogQGVudW0ge3N0cmluZyB8IG51bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsTWVudS5wcm90b3R5cGUuQ29uc3RhbnRfID0ge1xuICAgIC8vIFRvdGFsIGR1cmF0aW9uIG9mIHRoZSBtZW51IGFuaW1hdGlvbi5cbiAgICBUUkFOU0lUSU9OX0RVUkFUSU9OX1NFQ09ORFM6IDAuMyxcbiAgICAvLyBUaGUgZnJhY3Rpb24gb2YgdGhlIHRvdGFsIGR1cmF0aW9uIHdlIHdhbnQgdG8gdXNlIGZvciBtZW51IGl0ZW0gYW5pbWF0aW9ucy5cbiAgICBUUkFOU0lUSU9OX0RVUkFUSU9OX0ZSQUNUSU9OOiAwLjgsXG4gICAgLy8gSG93IGxvbmcgdGhlIG1lbnUgc3RheXMgb3BlbiBhZnRlciBjaG9vc2luZyBhbiBvcHRpb24gKHNvIHRoZSB1c2VyIGNhbiBzZWVcbiAgICAvLyB0aGUgcmlwcGxlKS5cbiAgICBDTE9TRV9USU1FT1VUOiAxNTBcbiAgfTtcblxuICAvKipcbiAgICogS2V5Y29kZXMsIGZvciBjb2RlIHJlYWRhYmlsaXR5LlxuICAgKlxuICAgKiBAZW51bSB7bnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5LZXljb2Rlc18gPSB7XG4gICAgRU5URVI6IDEzLFxuICAgIEVTQ0FQRTogMjcsXG4gICAgU1BBQ0U6IDMyLFxuICAgIFVQX0FSUk9XOiAzOCxcbiAgICBET1dOX0FSUk9XOiA0MFxuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9yZSBzdHJpbmdzIGZvciBjbGFzcyBuYW1lcyBkZWZpbmVkIGJ5IHRoaXMgY29tcG9uZW50IHRoYXQgYXJlIHVzZWQgaW5cbiAgICogSmF2YVNjcmlwdC4gVGhpcyBhbGxvd3MgdXMgdG8gc2ltcGx5IGNoYW5nZSBpdCBpbiBvbmUgcGxhY2Ugc2hvdWxkIHdlXG4gICAqIGRlY2lkZSB0byBtb2RpZnkgYXQgYSBsYXRlciBkYXRlLlxuICAgKlxuICAgKiBAZW51bSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5Dc3NDbGFzc2VzXyA9IHtcbiAgICBDT05UQUlORVI6ICdtZGwtbWVudV9fY29udGFpbmVyJyxcbiAgICBPVVRMSU5FOiAnbWRsLW1lbnVfX291dGxpbmUnLFxuICAgIElURU06ICdtZGwtbWVudV9faXRlbScsXG4gICAgSVRFTV9SSVBQTEVfQ09OVEFJTkVSOiAnbWRsLW1lbnVfX2l0ZW0tcmlwcGxlLWNvbnRhaW5lcicsXG4gICAgUklQUExFX0VGRkVDVDogJ21kbC1qcy1yaXBwbGUtZWZmZWN0JyxcbiAgICBSSVBQTEVfSUdOT1JFX0VWRU5UUzogJ21kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzJyxcbiAgICBSSVBQTEU6ICdtZGwtcmlwcGxlJyxcbiAgICAvLyBTdGF0dXNlc1xuICAgIElTX1VQR1JBREVEOiAnaXMtdXBncmFkZWQnLFxuICAgIElTX1ZJU0lCTEU6ICdpcy12aXNpYmxlJyxcbiAgICBJU19BTklNQVRJTkc6ICdpcy1hbmltYXRpbmcnLFxuICAgIC8vIEFsaWdubWVudCBvcHRpb25zXG4gICAgQk9UVE9NX0xFRlQ6ICdtZGwtbWVudS0tYm90dG9tLWxlZnQnLCAgLy8gVGhpcyBpcyB0aGUgZGVmYXVsdC5cbiAgICBCT1RUT01fUklHSFQ6ICdtZGwtbWVudS0tYm90dG9tLXJpZ2h0JyxcbiAgICBUT1BfTEVGVDogJ21kbC1tZW51LS10b3AtbGVmdCcsXG4gICAgVE9QX1JJR0hUOiAnbWRsLW1lbnUtLXRvcC1yaWdodCcsXG4gICAgVU5BTElHTkVEOiAnbWRsLW1lbnUtLXVuYWxpZ25lZCdcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBlbGVtZW50LlxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudF8pIHtcbiAgICAgIC8vIENyZWF0ZSBjb250YWluZXIgZm9yIHRoZSBtZW51LlxuICAgICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5DT05UQUlORVIpO1xuICAgICAgdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShjb250YWluZXIsIHRoaXMuZWxlbWVudF8pO1xuICAgICAgdGhpcy5lbGVtZW50Xy5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZWxlbWVudF8pO1xuICAgICAgdGhpcy5jb250YWluZXJfID0gY29udGFpbmVyO1xuXG4gICAgICAvLyBDcmVhdGUgb3V0bGluZSBmb3IgdGhlIG1lbnUgKHNoYWRvdyBhbmQgYmFja2dyb3VuZCkuXG4gICAgICB2YXIgb3V0bGluZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgb3V0bGluZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uT1VUTElORSk7XG4gICAgICB0aGlzLm91dGxpbmVfID0gb3V0bGluZTtcbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUob3V0bGluZSwgdGhpcy5lbGVtZW50Xyk7XG5cbiAgICAgIC8vIEZpbmQgdGhlIFwiZm9yXCIgZWxlbWVudCBhbmQgYmluZCBldmVudHMgdG8gaXQuXG4gICAgICB2YXIgZm9yRWxJZCA9IHRoaXMuZWxlbWVudF8uZ2V0QXR0cmlidXRlKCdmb3InKSB8fFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudF8uZ2V0QXR0cmlidXRlKCdkYXRhLW1kbC1mb3InKTtcbiAgICAgIHZhciBmb3JFbCA9IG51bGw7XG4gICAgICBpZiAoZm9yRWxJZCkge1xuICAgICAgICBmb3JFbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZvckVsSWQpO1xuICAgICAgICBpZiAoZm9yRWwpIHtcbiAgICAgICAgICB0aGlzLmZvckVsZW1lbnRfID0gZm9yRWw7XG4gICAgICAgICAgZm9yRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUZvckNsaWNrXy5iaW5kKHRoaXMpKTtcbiAgICAgICAgICBmb3JFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJyxcbiAgICAgICAgICAgICAgdGhpcy5oYW5kbGVGb3JLZXlib2FyZEV2ZW50Xy5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaXRlbXMgPSB0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5JVEVNKTtcbiAgICAgIHRoaXMuYm91bmRJdGVtS2V5ZG93bl8gPSB0aGlzLmhhbmRsZUl0ZW1LZXlib2FyZEV2ZW50Xy5iaW5kKHRoaXMpO1xuICAgICAgdGhpcy5ib3VuZEl0ZW1DbGlja18gPSB0aGlzLmhhbmRsZUl0ZW1DbGlja18uYmluZCh0aGlzKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gQWRkIGEgbGlzdGVuZXIgdG8gZWFjaCBtZW51IGl0ZW0uXG4gICAgICAgIGl0ZW1zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZEl0ZW1DbGlja18pO1xuICAgICAgICAvLyBBZGQgYSB0YWIgaW5kZXggdG8gZWFjaCBtZW51IGl0ZW0uXG4gICAgICAgIGl0ZW1zW2ldLnRhYkluZGV4ID0gJy0xJztcbiAgICAgICAgLy8gQWRkIGEga2V5Ym9hcmQgbGlzdGVuZXIgdG8gZWFjaCBtZW51IGl0ZW0uXG4gICAgICAgIGl0ZW1zW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmJvdW5kSXRlbUtleWRvd25fKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIHJpcHBsZSBjbGFzc2VzIHRvIGVhY2ggaXRlbSwgaWYgdGhlIHVzZXIgaGFzIGVuYWJsZWQgcmlwcGxlcy5cbiAgICAgIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9FRkZFQ1QpKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRV9JR05PUkVfRVZFTlRTKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IGl0ZW1zW2ldO1xuXG4gICAgICAgICAgdmFyIHJpcHBsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICByaXBwbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklURU1fUklQUExFX0NPTlRBSU5FUik7XG5cbiAgICAgICAgICB2YXIgcmlwcGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgIHJpcHBsZS5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFKTtcbiAgICAgICAgICByaXBwbGVDb250YWluZXIuYXBwZW5kQ2hpbGQocmlwcGxlKTtcblxuICAgICAgICAgIGl0ZW0uYXBwZW5kQ2hpbGQocmlwcGxlQ29udGFpbmVyKTtcbiAgICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfRUZGRUNUKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb3B5IGFsaWdubWVudCBjbGFzc2VzIHRvIHRoZSBjb250YWluZXIsIHNvIHRoZSBvdXRsaW5lIGNhbiB1c2UgdGhlbS5cbiAgICAgIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9MRUZUKSkge1xuICAgICAgICB0aGlzLm91dGxpbmVfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5CT1RUT01fTEVGVCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5CT1RUT01fUklHSFQpKSB7XG4gICAgICAgIHRoaXMub3V0bGluZV8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9SSUdIVCk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfTEVGVCkpIHtcbiAgICAgICAgdGhpcy5vdXRsaW5lXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX0xFRlQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX1JJR0hUKSkge1xuICAgICAgICB0aGlzLm91dGxpbmVfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UT1BfUklHSFQpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVU5BTElHTkVEKSkge1xuICAgICAgICB0aGlzLm91dGxpbmVfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5VTkFMSUdORUQpO1xuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBjbGljayBvbiB0aGUgXCJmb3JcIiBlbGVtZW50LCBieSBwb3NpdGlvbmluZyB0aGUgbWVudSBhbmQgdGhlblxuICAgKiB0b2dnbGluZyBpdC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZ0IFRoZSBldmVudCB0aGF0IGZpcmVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5oYW5kbGVGb3JDbGlja18gPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50XyAmJiB0aGlzLmZvckVsZW1lbnRfKSB7XG4gICAgICB2YXIgcmVjdCA9IHRoaXMuZm9yRWxlbWVudF8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgZm9yUmVjdCA9IHRoaXMuZm9yRWxlbWVudF8ucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgaWYgKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVU5BTElHTkVEKSkge1xuICAgICAgICAvLyBEbyBub3QgcG9zaXRpb24gdGhlIG1lbnUgYXV0b21hdGljYWxseS4gUmVxdWlyZXMgdGhlIGRldmVsb3BlciB0b1xuICAgICAgICAvLyBtYW51YWxseSBzcGVjaWZ5IHBvc2l0aW9uLlxuICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyhcbiAgICAgICAgICB0aGlzLkNzc0NsYXNzZXNfLkJPVFRPTV9SSUdIVCkpIHtcbiAgICAgICAgLy8gUG9zaXRpb24gYmVsb3cgdGhlIFwiZm9yXCIgZWxlbWVudCwgYWxpZ25lZCB0byBpdHMgcmlnaHQuXG4gICAgICAgIHRoaXMuY29udGFpbmVyXy5zdHlsZS5yaWdodCA9IChmb3JSZWN0LnJpZ2h0IC0gcmVjdC5yaWdodCkgKyAncHgnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lcl8uc3R5bGUudG9wID1cbiAgICAgICAgICAgIHRoaXMuZm9yRWxlbWVudF8ub2Zmc2V0VG9wICsgdGhpcy5mb3JFbGVtZW50Xy5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9MRUZUKSkge1xuICAgICAgICAvLyBQb3NpdGlvbiBhYm92ZSB0aGUgXCJmb3JcIiBlbGVtZW50LCBhbGlnbmVkIHRvIGl0cyBsZWZ0LlxuICAgICAgICB0aGlzLmNvbnRhaW5lcl8uc3R5bGUubGVmdCA9IHRoaXMuZm9yRWxlbWVudF8ub2Zmc2V0TGVmdCArICdweCc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyXy5zdHlsZS5ib3R0b20gPSAoZm9yUmVjdC5ib3R0b20gLSByZWN0LnRvcCkgKyAncHgnO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCkpIHtcbiAgICAgICAgLy8gUG9zaXRpb24gYWJvdmUgdGhlIFwiZm9yXCIgZWxlbWVudCwgYWxpZ25lZCB0byBpdHMgcmlnaHQuXG4gICAgICAgIHRoaXMuY29udGFpbmVyXy5zdHlsZS5yaWdodCA9IChmb3JSZWN0LnJpZ2h0IC0gcmVjdC5yaWdodCkgKyAncHgnO1xuICAgICAgICB0aGlzLmNvbnRhaW5lcl8uc3R5bGUuYm90dG9tID0gKGZvclJlY3QuYm90dG9tIC0gcmVjdC50b3ApICsgJ3B4JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIERlZmF1bHQ6IHBvc2l0aW9uIGJlbG93IHRoZSBcImZvclwiIGVsZW1lbnQsIGFsaWduZWQgdG8gaXRzIGxlZnQuXG4gICAgICAgIHRoaXMuY29udGFpbmVyXy5zdHlsZS5sZWZ0ID0gdGhpcy5mb3JFbGVtZW50Xy5vZmZzZXRMZWZ0ICsgJ3B4JztcbiAgICAgICAgdGhpcy5jb250YWluZXJfLnN0eWxlLnRvcCA9XG4gICAgICAgICAgICB0aGlzLmZvckVsZW1lbnRfLm9mZnNldFRvcCArIHRoaXMuZm9yRWxlbWVudF8ub2Zmc2V0SGVpZ2h0ICsgJ3B4JztcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLnRvZ2dsZShldnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEga2V5Ym9hcmQgZXZlbnQgb24gdGhlIFwiZm9yXCIgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZ0IFRoZSBldmVudCB0aGF0IGZpcmVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5oYW5kbGVGb3JLZXlib2FyZEV2ZW50XyA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRfICYmIHRoaXMuY29udGFpbmVyXyAmJiB0aGlzLmZvckVsZW1lbnRfKSB7XG4gICAgICB2YXIgaXRlbXMgPSB0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5JVEVNICtcbiAgICAgICAgJzpub3QoW2Rpc2FibGVkXSknKTtcblxuICAgICAgaWYgKGl0ZW1zICYmIGl0ZW1zLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICB0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSkpIHtcbiAgICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5VUF9BUlJPVykge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdLmZvY3VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZ0LmtleUNvZGUgPT09IHRoaXMuS2V5Y29kZXNfLkRPV05fQVJST1cpIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBpdGVtc1swXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGEga2V5Ym9hcmQgZXZlbnQgb24gYW4gaXRlbS5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZ0IFRoZSBldmVudCB0aGF0IGZpcmVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5oYW5kbGVJdGVtS2V5Ym9hcmRFdmVudF8gPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50XyAmJiB0aGlzLmNvbnRhaW5lcl8pIHtcbiAgICAgIHZhciBpdGVtcyA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbCgnLicgKyB0aGlzLkNzc0NsYXNzZXNfLklURU0gK1xuICAgICAgICAnOm5vdChbZGlzYWJsZWRdKScpO1xuXG4gICAgICBpZiAoaXRlbXMgJiYgaXRlbXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgIHRoaXMuY29udGFpbmVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKSkge1xuICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaXRlbXMpLmluZGV4T2YoZXZ0LnRhcmdldCk7XG5cbiAgICAgICAgaWYgKGV2dC5rZXlDb2RlID09PSB0aGlzLktleWNvZGVzXy5VUF9BUlJPVykge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICAgICAgICBpdGVtc1tjdXJyZW50SW5kZXggLSAxXS5mb2N1cygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gdGhpcy5LZXljb2Rlc18uRE9XTl9BUlJPVykge1xuICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiBjdXJyZW50SW5kZXggKyAxKSB7XG4gICAgICAgICAgICBpdGVtc1tjdXJyZW50SW5kZXggKyAxXS5mb2N1cygpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpdGVtc1swXS5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gdGhpcy5LZXljb2Rlc18uU1BBQ0UgfHxcbiAgICAgICAgICAgICAgZXZ0LmtleUNvZGUgPT09IHRoaXMuS2V5Y29kZXNfLkVOVEVSKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgLy8gU2VuZCBtb3VzZWRvd24gYW5kIG1vdXNldXAgdG8gdHJpZ2dlciByaXBwbGUuXG4gICAgICAgICAgdmFyIGUgPSBuZXcgTW91c2VFdmVudCgnbW91c2Vkb3duJyk7XG4gICAgICAgICAgZXZ0LnRhcmdldC5kaXNwYXRjaEV2ZW50KGUpO1xuICAgICAgICAgIGUgPSBuZXcgTW91c2VFdmVudCgnbW91c2V1cCcpO1xuICAgICAgICAgIGV2dC50YXJnZXQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAvLyBTZW5kIGNsaWNrLlxuICAgICAgICAgIGV2dC50YXJnZXQuY2xpY2soKTtcbiAgICAgICAgfSBlbHNlIGlmIChldnQua2V5Q29kZSA9PT0gdGhpcy5LZXljb2Rlc18uRVNDQVBFKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYSBjbGljayBldmVudCBvbiBhbiBpdGVtLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldnQgVGhlIGV2ZW50IHRoYXQgZmlyZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbE1lbnUucHJvdG90eXBlLmhhbmRsZUl0ZW1DbGlja18gPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAoZXZ0LnRhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpIHtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gV2FpdCBzb21lIHRpbWUgYmVmb3JlIGNsb3NpbmcgbWVudSwgc28gdGhlIHVzZXIgY2FuIHNlZSB0aGUgcmlwcGxlLlxuICAgICAgdGhpcy5jbG9zaW5nXyA9IHRydWU7XG4gICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbihldnQpIHtcbiAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIHRoaXMuY2xvc2luZ18gPSBmYWxzZTtcbiAgICAgIH0uYmluZCh0aGlzKSwgLyoqIEB0eXBlIHtudW1iZXJ9ICovICh0aGlzLkNvbnN0YW50Xy5DTE9TRV9USU1FT1VUKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGVzIHRoZSBpbml0aWFsIGNsaXAgKGZvciBvcGVuaW5nIHRoZSBtZW51KSBvciBmaW5hbCBjbGlwIChmb3IgY2xvc2luZ1xuICAgKiBpdCksIGFuZCBhcHBsaWVzIGl0LiBUaGlzIGFsbG93cyB1cyB0byBhbmltYXRlIGZyb20gb3IgdG8gdGhlIGNvcnJlY3QgcG9pbnQsXG4gICAqIHRoYXQgaXMsIHRoZSBwb2ludCBpdCdzIGFsaWduZWQgdG8gaW4gdGhlIFwiZm9yXCIgZWxlbWVudC5cbiAgICpcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodCBIZWlnaHQgb2YgdGhlIGNsaXAgcmVjdGFuZ2xlXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCBXaWR0aCBvZiB0aGUgY2xpcCByZWN0YW5nbGVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsTWVudS5wcm90b3R5cGUuYXBwbHlDbGlwXyA9IGZ1bmN0aW9uKGhlaWdodCwgd2lkdGgpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5VTkFMSUdORUQpKSB7XG4gICAgICAvLyBEbyBub3QgY2xpcC5cbiAgICAgIHRoaXMuZWxlbWVudF8uc3R5bGUuY2xpcCA9ICcnO1xuICAgIH0gZWxzZSBpZiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5CT1RUT01fUklHSFQpKSB7XG4gICAgICAvLyBDbGlwIHRvIHRoZSB0b3AgcmlnaHQgY29ybmVyIG9mIHRoZSBtZW51LlxuICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwID1cbiAgICAgICAgICAncmVjdCgwICcgKyB3aWR0aCArICdweCAnICsgJzAgJyArIHdpZHRoICsgJ3B4KSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9MRUZUKSkge1xuICAgICAgLy8gQ2xpcCB0byB0aGUgYm90dG9tIGxlZnQgY29ybmVyIG9mIHRoZSBtZW51LlxuICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwID1cbiAgICAgICAgICAncmVjdCgnICsgaGVpZ2h0ICsgJ3B4IDAgJyArIGhlaWdodCArICdweCAwKSc7XG4gICAgfSBlbHNlIGlmICh0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLlRPUF9SSUdIVCkpIHtcbiAgICAgIC8vIENsaXAgdG8gdGhlIGJvdHRvbSByaWdodCBjb3JuZXIgb2YgdGhlIG1lbnUuXG4gICAgICB0aGlzLmVsZW1lbnRfLnN0eWxlLmNsaXAgPSAncmVjdCgnICsgaGVpZ2h0ICsgJ3B4ICcgKyB3aWR0aCArICdweCAnICtcbiAgICAgICAgICBoZWlnaHQgKyAncHggJyArIHdpZHRoICsgJ3B4KSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERlZmF1bHQ6IGRvIG5vdCBjbGlwIChzYW1lIGFzIGNsaXBwaW5nIHRvIHRoZSB0b3AgbGVmdCBjb3JuZXIpLlxuICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwID0gJyc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGNsZWFuIHVwIGFmdGVyIHRoZSBhbmltYXRpb24gZW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsTWVudS5wcm90b3R5cGUuYWRkQW5pbWF0aW9uRW5kTGlzdGVuZXJfID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNsZWFudXApO1xuICAgICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCd3ZWJraXRUcmFuc2l0aW9uRW5kJywgY2xlYW51cCk7XG4gICAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpO1xuICAgIH0uYmluZCh0aGlzKTtcblxuICAgIC8vIFJlbW92ZSBhbmltYXRpb24gY2xhc3Mgb25jZSB0aGUgdHJhbnNpdGlvbiBpcyBkb25lLlxuICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGNsZWFudXApO1xuICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIGNsZWFudXApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwbGF5cyB0aGUgbWVudS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudF8gJiYgdGhpcy5jb250YWluZXJfICYmIHRoaXMub3V0bGluZV8pIHtcbiAgICAgIC8vIE1lYXN1cmUgdGhlIGlubmVyIGVsZW1lbnQuXG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gICAgICB2YXIgd2lkdGggPSB0aGlzLmVsZW1lbnRfLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuXG4gICAgICAvLyBBcHBseSB0aGUgaW5uZXIgZWxlbWVudCdzIHNpemUgdG8gdGhlIGNvbnRhaW5lciBhbmQgb3V0bGluZS5cbiAgICAgIHRoaXMuY29udGFpbmVyXy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMuY29udGFpbmVyXy5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgdGhpcy5vdXRsaW5lXy5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcbiAgICAgIHRoaXMub3V0bGluZV8uc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRoaXMuQ29uc3RhbnRfLlRSQU5TSVRJT05fRFVSQVRJT05fU0VDT05EUyAqXG4gICAgICAgICAgdGhpcy5Db25zdGFudF8uVFJBTlNJVElPTl9EVVJBVElPTl9GUkFDVElPTjtcblxuICAgICAgLy8gQ2FsY3VsYXRlIHRyYW5zaXRpb24gZGVsYXlzIGZvciBpbmRpdmlkdWFsIG1lbnUgaXRlbXMsIHNvIHRoYXQgdGhleSBmYWRlXG4gICAgICAvLyBpbiBvbmUgYXQgYSB0aW1lLlxuICAgICAgdmFyIGl0ZW1zID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVRFTSk7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtRGVsYXkgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5UT1BfTEVGVCkgfHxcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uVE9QX1JJR0hUKSkge1xuICAgICAgICAgIGl0ZW1EZWxheSA9ICgoaGVpZ2h0IC0gaXRlbXNbaV0ub2Zmc2V0VG9wIC0gaXRlbXNbaV0ub2Zmc2V0SGVpZ2h0KSAvXG4gICAgICAgICAgICAgIGhlaWdodCAqIHRyYW5zaXRpb25EdXJhdGlvbikgKyAncyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbURlbGF5ID0gKGl0ZW1zW2ldLm9mZnNldFRvcCAvIGhlaWdodCAqIHRyYW5zaXRpb25EdXJhdGlvbikgKyAncyc7XG4gICAgICAgIH1cbiAgICAgICAgaXRlbXNbaV0uc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gaXRlbURlbGF5O1xuICAgICAgfVxuXG4gICAgICAvLyBBcHBseSB0aGUgaW5pdGlhbCBjbGlwIHRvIHRoZSB0ZXh0IGJlZm9yZSB3ZSBzdGFydCBhbmltYXRpbmcuXG4gICAgICB0aGlzLmFwcGx5Q2xpcF8oaGVpZ2h0LCB3aWR0aCk7XG5cbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBuZXh0IGZyYW1lLCB0dXJuIG9uIGFuaW1hdGlvbiwgYW5kIGFwcGx5IHRoZSBmaW5hbCBjbGlwLlxuICAgICAgLy8gQWxzbyBtYWtlIGl0IHZpc2libGUuIFRoaXMgdHJpZ2dlcnMgdGhlIHRyYW5zaXRpb25zLlxuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQU5JTUFUSU5HKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5zdHlsZS5jbGlwID0gJ3JlY3QoMCAnICsgd2lkdGggKyAncHggJyArIGhlaWdodCArICdweCAwKSc7XG4gICAgICAgIHRoaXMuY29udGFpbmVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgICAvLyBDbGVhbiB1cCBhZnRlciB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAgdGhpcy5hZGRBbmltYXRpb25FbmRMaXN0ZW5lcl8oKTtcblxuICAgICAgLy8gQWRkIGEgY2xpY2sgbGlzdGVuZXIgdG8gdGhlIGRvY3VtZW50LCB0byBjbG9zZSB0aGUgbWVudS5cbiAgICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBkb2N1bWVudCBpcyBwcm9jZXNzaW5nIHRoZSBzYW1lIGV2ZW50IHRoYXRcbiAgICAgICAgLy8gZGlzcGxheWVkIHRoZSBtZW51IGluIHRoZSBmaXJzdCBwbGFjZS4gSWYgc28sIGRvIG5vdGhpbmcuXG4gICAgICAgIC8vIEFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZSBtZW51IGlzIGluIHRoZSBwcm9jZXNzIG9mIGNsb3NpbmcgaXRzZWxmLCBhbmRcbiAgICAgICAgLy8gZG8gbm90aGluZyBpbiB0aGF0IGNhc2UuXG4gICAgICAgIC8vIEFsc28gY2hlY2sgaWYgdGhlIGNsaWNrZWQgZWxlbWVudCBpcyBhIG1lbnUgaXRlbVxuICAgICAgICAvLyBpZiBzbywgZG8gbm90aGluZy5cbiAgICAgICAgaWYgKGUgIT09IGV2dCAmJiAhdGhpcy5jbG9zaW5nXyAmJiBlLnRhcmdldC5wYXJlbnROb2RlICE9PSB0aGlzLmVsZW1lbnRfKSB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYWxsYmFjayk7XG4gICAgICAgICAgdGhpcy5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2spO1xuICAgIH1cbiAgfTtcbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZVsnc2hvdyddID0gTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5zaG93O1xuXG4gIC8qKlxuICAgKiBIaWRlcyB0aGUgbWVudS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudF8gJiYgdGhpcy5jb250YWluZXJfICYmIHRoaXMub3V0bGluZV8pIHtcbiAgICAgIHZhciBpdGVtcyA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvckFsbCgnLicgKyB0aGlzLkNzc0NsYXNzZXNfLklURU0pO1xuXG4gICAgICAvLyBSZW1vdmUgYWxsIHRyYW5zaXRpb24gZGVsYXlzOyBtZW51IGl0ZW1zIGZhZGUgb3V0IGNvbmN1cnJlbnRseS5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaXRlbXNbaV0uc3R5bGUudHJhbnNpdGlvbkRlbGF5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgLy8gTWVhc3VyZSB0aGUgaW5uZXIgZWxlbWVudC5cbiAgICAgIHZhciByZWN0ID0gdGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHZhciBoZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICAgIHZhciB3aWR0aCA9IHJlY3Qud2lkdGg7XG5cbiAgICAgIC8vIFR1cm4gb24gYW5pbWF0aW9uLCBhbmQgYXBwbHkgdGhlIGZpbmFsIGNsaXAuIEFsc28gbWFrZSBpbnZpc2libGUuXG4gICAgICAvLyBUaGlzIHRyaWdnZXJzIHRoZSB0cmFuc2l0aW9ucy5cbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyk7XG4gICAgICB0aGlzLmFwcGx5Q2xpcF8oaGVpZ2h0LCB3aWR0aCk7XG4gICAgICB0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX1ZJU0lCTEUpO1xuXG4gICAgICAvLyBDbGVhbiB1cCBhZnRlciB0aGUgYW5pbWF0aW9uIGlzIGNvbXBsZXRlLlxuICAgICAgdGhpcy5hZGRBbmltYXRpb25FbmRMaXN0ZW5lcl8oKTtcbiAgICB9XG4gIH07XG4gIE1hdGVyaWFsTWVudS5wcm90b3R5cGVbJ2hpZGUnXSA9IE1hdGVyaWFsTWVudS5wcm90b3R5cGUuaGlkZTtcblxuICAvKipcbiAgICogRGlzcGxheXMgb3IgaGlkZXMgdGhlIG1lbnUsIGRlcGVuZGluZyBvbiBjdXJyZW50IHN0YXRlLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBNYXRlcmlhbE1lbnUucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIGlmICh0aGlzLmNvbnRhaW5lcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfVklTSUJMRSkpIHtcbiAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnNob3coZXZ0KTtcbiAgICB9XG4gIH07XG4gIE1hdGVyaWFsTWVudS5wcm90b3R5cGVbJ3RvZ2dsZSddID0gTWF0ZXJpYWxNZW51LnByb3RvdHlwZS50b2dnbGU7XG5cbiAgLyoqXG4gICAqIERvd25ncmFkZSB0aGUgY29tcG9uZW50LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxNZW51LnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGl0ZW1zID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uSVRFTSk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpdGVtc1tpXS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRJdGVtQ2xpY2tfKTtcbiAgICAgIGl0ZW1zW2ldLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmJvdW5kSXRlbUtleWRvd25fKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBhbGlhcyBmb3IgdGhlIGRvd25ncmFkZSBtZXRob2QuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIE1hdGVyaWFsTWVudS5wcm90b3R5cGUubWRsRG93bmdyYWRlID1cbiAgICAgIE1hdGVyaWFsTWVudS5wcm90b3R5cGUubWRsRG93bmdyYWRlXztcblxuICBNYXRlcmlhbE1lbnUucHJvdG90eXBlWydtZGxEb3duZ3JhZGUnXSA9XG4gICAgICBNYXRlcmlhbE1lbnUucHJvdG90eXBlLm1kbERvd25ncmFkZTtcblxuICAvLyBUaGUgY29tcG9uZW50IHJlZ2lzdGVycyBpdHNlbGYuIEl0IGNhbiBhc3N1bWUgY29tcG9uZW50SGFuZGxlciBpcyBhdmFpbGFibGVcbiAgLy8gaW4gdGhlIGdsb2JhbCBzY29wZS5cbiAgY29tcG9uZW50SGFuZGxlci5yZWdpc3Rlcih7XG4gICAgY29uc3RydWN0b3I6IE1hdGVyaWFsTWVudSxcbiAgICBjbGFzc0FzU3RyaW5nOiAnTWF0ZXJpYWxNZW51JyxcbiAgICBjc3NDbGFzczogJ21kbC1qcy1tZW51JyxcbiAgICB3aWRnZXQ6IHRydWVcbiAgfSk7XG59KSgpO1xuIl0sImZpbGUiOiJtZW51LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function() {
  'use strict';

  /**
   * Class constructor for Tabs MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @constructor
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var MaterialTabs = function MaterialTabs(element) {
    // Stores the HTML element.
    this.element_ = element;

    // Initialize instance.
    this.init();
  };
  window['MaterialTabs'] = MaterialTabs;

  /**
   * Store constants in one place so they can be updated easily.
   *
   * @enum {string}
   * @private
   */
  MaterialTabs.prototype.Constant_ = {
    // None at the moment.
  };

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  MaterialTabs.prototype.CssClasses_ = {
    TAB_CLASS: 'mdl-tabs__tab',
    PANEL_CLASS: 'mdl-tabs__panel',
    ACTIVE_CLASS: 'is-active',
    UPGRADED_CLASS: 'is-upgraded',

    MDL_JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',
    MDL_RIPPLE_CONTAINER: 'mdl-tabs__ripple-container',
    MDL_RIPPLE: 'mdl-ripple',
    MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events'
  };

  /**
   * Handle clicks to a tabs component
   *
   * @private
   */
  MaterialTabs.prototype.initTabs_ = function() {
    if (this.element_.classList.contains(this.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {
      this.element_.classList.add(
        this.CssClasses_.MDL_JS_RIPPLE_EFFECT_IGNORE_EVENTS);
    }

    // Select element tabs, document panels
    this.tabs_ = this.element_.querySelectorAll('.' + this.CssClasses_.TAB_CLASS);
    this.panels_ =
        this.element_.querySelectorAll('.' + this.CssClasses_.PANEL_CLASS);

    // Create new tabs for each tab element
    for (var i = 0; i < this.tabs_.length; i++) {
      new MaterialTab(this.tabs_[i], this);
    }

    this.element_.classList.add(this.CssClasses_.UPGRADED_CLASS);
  };

  /**
   * Reset tab state, dropping active classes
   *
   * @private
   */
  MaterialTabs.prototype.resetTabState_ = function() {
    for (var k = 0; k < this.tabs_.length; k++) {
      this.tabs_[k].classList.remove(this.CssClasses_.ACTIVE_CLASS);
    }
  };

  /**
   * Reset panel state, droping active classes
   *
   * @private
   */
  MaterialTabs.prototype.resetPanelState_ = function() {
    for (var j = 0; j < this.panels_.length; j++) {
      this.panels_[j].classList.remove(this.CssClasses_.ACTIVE_CLASS);
    }
  };

  /**
   * Initialize element.
   */
  MaterialTabs.prototype.init = function() {
    if (this.element_) {
      this.initTabs_();
    }
  };

  /**
   * Constructor for an individual tab.
   *
   * @constructor
   * @param {HTMLElement} tab The HTML element for the tab.
   * @param {MaterialTabs} ctx The MaterialTabs object that owns the tab.
   */
  function MaterialTab(tab, ctx) {
    if (tab) {
      if (ctx.element_.classList.contains(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT)) {
        var rippleContainer = document.createElement('span');
        rippleContainer.classList.add(ctx.CssClasses_.MDL_RIPPLE_CONTAINER);
        rippleContainer.classList.add(ctx.CssClasses_.MDL_JS_RIPPLE_EFFECT);
        var ripple = document.createElement('span');
        ripple.classList.add(ctx.CssClasses_.MDL_RIPPLE);
        rippleContainer.appendChild(ripple);
        tab.appendChild(rippleContainer);
      }

      tab.addEventListener('click', function(e) {
        e.preventDefault();
        var href = tab.href.split('#')[1];
        var panel = ctx.element_.querySelector('#' + href);
        ctx.resetTabState_();
        ctx.resetPanelState_();
        tab.classList.add(ctx.CssClasses_.ACTIVE_CLASS);
        panel.classList.add(ctx.CssClasses_.ACTIVE_CLASS);
      });

    }
  }

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
    constructor: MaterialTabs,
    classAsString: 'MaterialTabs',
    cssClass: 'mdl-js-tabs'
  });
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJ0YWJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvKipcbiAgICogQ2xhc3MgY29uc3RydWN0b3IgZm9yIFRhYnMgTURMIGNvbXBvbmVudC5cbiAgICogSW1wbGVtZW50cyBNREwgY29tcG9uZW50IGRlc2lnbiBwYXR0ZXJuIGRlZmluZWQgYXQ6XG4gICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYXNvbm1heWVzL21kbC1jb21wb25lbnQtZGVzaWduLXBhdHRlcm5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgdGhhdCB3aWxsIGJlIHVwZ3JhZGVkLlxuICAgKi9cbiAgdmFyIE1hdGVyaWFsVGFicyA9IGZ1bmN0aW9uIE1hdGVyaWFsVGFicyhlbGVtZW50KSB7XG4gICAgLy8gU3RvcmVzIHRoZSBIVE1MIGVsZW1lbnQuXG4gICAgdGhpcy5lbGVtZW50XyA9IGVsZW1lbnQ7XG5cbiAgICAvLyBJbml0aWFsaXplIGluc3RhbmNlLlxuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICB3aW5kb3dbJ01hdGVyaWFsVGFicyddID0gTWF0ZXJpYWxUYWJzO1xuXG4gIC8qKlxuICAgKiBTdG9yZSBjb25zdGFudHMgaW4gb25lIHBsYWNlIHNvIHRoZXkgY2FuIGJlIHVwZGF0ZWQgZWFzaWx5LlxuICAgKlxuICAgKiBAZW51bSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxUYWJzLnByb3RvdHlwZS5Db25zdGFudF8gPSB7XG4gICAgLy8gTm9uZSBhdCB0aGUgbW9tZW50LlxuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9yZSBzdHJpbmdzIGZvciBjbGFzcyBuYW1lcyBkZWZpbmVkIGJ5IHRoaXMgY29tcG9uZW50IHRoYXQgYXJlIHVzZWQgaW5cbiAgICogSmF2YVNjcmlwdC4gVGhpcyBhbGxvd3MgdXMgdG8gc2ltcGx5IGNoYW5nZSBpdCBpbiBvbmUgcGxhY2Ugc2hvdWxkIHdlXG4gICAqIGRlY2lkZSB0byBtb2RpZnkgYXQgYSBsYXRlciBkYXRlLlxuICAgKlxuICAgKiBAZW51bSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxUYWJzLnByb3RvdHlwZS5Dc3NDbGFzc2VzXyA9IHtcbiAgICBUQUJfQ0xBU1M6ICdtZGwtdGFic19fdGFiJyxcbiAgICBQQU5FTF9DTEFTUzogJ21kbC10YWJzX19wYW5lbCcsXG4gICAgQUNUSVZFX0NMQVNTOiAnaXMtYWN0aXZlJyxcbiAgICBVUEdSQURFRF9DTEFTUzogJ2lzLXVwZ3JhZGVkJyxcblxuICAgIE1ETF9KU19SSVBQTEVfRUZGRUNUOiAnbWRsLWpzLXJpcHBsZS1lZmZlY3QnLFxuICAgIE1ETF9SSVBQTEVfQ09OVEFJTkVSOiAnbWRsLXRhYnNfX3JpcHBsZS1jb250YWluZXInLFxuICAgIE1ETF9SSVBQTEU6ICdtZGwtcmlwcGxlJyxcbiAgICBNRExfSlNfUklQUExFX0VGRkVDVF9JR05PUkVfRVZFTlRTOiAnbWRsLWpzLXJpcHBsZS1lZmZlY3QtLWlnbm9yZS1ldmVudHMnXG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBjbGlja3MgdG8gYSB0YWJzIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxUYWJzLnByb3RvdHlwZS5pbml0VGFic18gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5NRExfSlNfUklQUExFX0VGRkVDVCkpIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZChcbiAgICAgICAgdGhpcy5Dc3NDbGFzc2VzXy5NRExfSlNfUklQUExFX0VGRkVDVF9JR05PUkVfRVZFTlRTKTtcbiAgICB9XG5cbiAgICAvLyBTZWxlY3QgZWxlbWVudCB0YWJzLCBkb2N1bWVudCBwYW5lbHNcbiAgICB0aGlzLnRhYnNfID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uVEFCX0NMQVNTKTtcbiAgICB0aGlzLnBhbmVsc18gPVxuICAgICAgICB0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9DTEFTUyk7XG5cbiAgICAvLyBDcmVhdGUgbmV3IHRhYnMgZm9yIGVhY2ggdGFiIGVsZW1lbnRcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMudGFic18ubGVuZ3RoOyBpKyspIHtcbiAgICAgIG5ldyBNYXRlcmlhbFRhYih0aGlzLnRhYnNfW2ldLCB0aGlzKTtcbiAgICB9XG5cbiAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5VUEdSQURFRF9DTEFTUyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRhYiBzdGF0ZSwgZHJvcHBpbmcgYWN0aXZlIGNsYXNzZXNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsVGFicy5wcm90b3R5cGUucmVzZXRUYWJTdGF0ZV8gPSBmdW5jdGlvbigpIHtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMudGFic18ubGVuZ3RoOyBrKyspIHtcbiAgICAgIHRoaXMudGFic19ba10uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLkFDVElWRV9DTEFTUyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldCBwYW5lbCBzdGF0ZSwgZHJvcGluZyBhY3RpdmUgY2xhc3Nlc1xuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxUYWJzLnByb3RvdHlwZS5yZXNldFBhbmVsU3RhdGVfID0gZnVuY3Rpb24oKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnBhbmVsc18ubGVuZ3RoOyBqKyspIHtcbiAgICAgIHRoaXMucGFuZWxzX1tqXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uQUNUSVZFX0NMQVNTKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZWxlbWVudC5cbiAgICovXG4gIE1hdGVyaWFsVGFicy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRfKSB7XG4gICAgICB0aGlzLmluaXRUYWJzXygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGFuIGluZGl2aWR1YWwgdGFiLlxuICAgKlxuICAgKiBAY29uc3RydWN0b3JcbiAgICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFiIFRoZSBIVE1MIGVsZW1lbnQgZm9yIHRoZSB0YWIuXG4gICAqIEBwYXJhbSB7TWF0ZXJpYWxUYWJzfSBjdHggVGhlIE1hdGVyaWFsVGFicyBvYmplY3QgdGhhdCBvd25zIHRoZSB0YWIuXG4gICAqL1xuICBmdW5jdGlvbiBNYXRlcmlhbFRhYih0YWIsIGN0eCkge1xuICAgIGlmICh0YWIpIHtcbiAgICAgIGlmIChjdHguZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKGN0eC5Dc3NDbGFzc2VzXy5NRExfSlNfUklQUExFX0VGRkVDVCkpIHtcbiAgICAgICAgdmFyIHJpcHBsZUNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgcmlwcGxlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3R4LkNzc0NsYXNzZXNfLk1ETF9SSVBQTEVfQ09OVEFJTkVSKTtcbiAgICAgICAgcmlwcGxlQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY3R4LkNzc0NsYXNzZXNfLk1ETF9KU19SSVBQTEVfRUZGRUNUKTtcbiAgICAgICAgdmFyIHJpcHBsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgcmlwcGxlLmNsYXNzTGlzdC5hZGQoY3R4LkNzc0NsYXNzZXNfLk1ETF9SSVBQTEUpO1xuICAgICAgICByaXBwbGVDb250YWluZXIuYXBwZW5kQ2hpbGQocmlwcGxlKTtcbiAgICAgICAgdGFiLmFwcGVuZENoaWxkKHJpcHBsZUNvbnRhaW5lcik7XG4gICAgICB9XG5cbiAgICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB2YXIgaHJlZiA9IHRhYi5ocmVmLnNwbGl0KCcjJylbMV07XG4gICAgICAgIHZhciBwYW5lbCA9IGN0eC5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcjJyArIGhyZWYpO1xuICAgICAgICBjdHgucmVzZXRUYWJTdGF0ZV8oKTtcbiAgICAgICAgY3R4LnJlc2V0UGFuZWxTdGF0ZV8oKTtcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoY3R4LkNzc0NsYXNzZXNfLkFDVElWRV9DTEFTUyk7XG4gICAgICAgIHBhbmVsLmNsYXNzTGlzdC5hZGQoY3R4LkNzc0NsYXNzZXNfLkFDVElWRV9DTEFTUyk7XG4gICAgICB9KTtcblxuICAgIH1cbiAgfVxuXG4gIC8vIFRoZSBjb21wb25lbnQgcmVnaXN0ZXJzIGl0c2VsZi4gSXQgY2FuIGFzc3VtZSBjb21wb25lbnRIYW5kbGVyIGlzIGF2YWlsYWJsZVxuICAvLyBpbiB0aGUgZ2xvYmFsIHNjb3BlLlxuICBjb21wb25lbnRIYW5kbGVyLnJlZ2lzdGVyKHtcbiAgICBjb25zdHJ1Y3RvcjogTWF0ZXJpYWxUYWJzLFxuICAgIGNsYXNzQXNTdHJpbmc6ICdNYXRlcmlhbFRhYnMnLFxuICAgIGNzc0NsYXNzOiAnbWRsLWpzLXRhYnMnXG4gIH0pO1xufSkoKTtcbiJdLCJmaWxlIjoidGFicy5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function() {
  'use strict';

  /**
   * Class constructor for Textfield MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @constructor
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var MaterialTextfield = function MaterialTextfield(element) {
    this.element_ = element;
    this.maxRows = this.Constant_.NO_MAX_ROWS;
    // Initialize instance.
    this.init();
  };
  window['MaterialTextfield'] = MaterialTextfield;

  /**
   * Store constants in one place so they can be updated easily.
   *
   * @enum {string | number}
   * @private
   */
  MaterialTextfield.prototype.Constant_ = {
    NO_MAX_ROWS: -1,
    MAX_ROWS_ATTRIBUTE: 'maxrows'
  };

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  MaterialTextfield.prototype.CssClasses_ = {
    LABEL: 'mdl-textfield__label',
    INPUT: 'mdl-textfield__input',
    IS_DIRTY: 'is-dirty',
    IS_FOCUSED: 'is-focused',
    IS_DISABLED: 'is-disabled',
    IS_INVALID: 'is-invalid',
    IS_UPGRADED: 'is-upgraded'
  };

  /**
   * Handle input being entered.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialTextfield.prototype.onKeyDown_ = function(event) {
    var currentRowCount = event.target.value.split('\n').length;
    if (event.keyCode === 13) {
      if (currentRowCount >= this.maxRows) {
        event.preventDefault();
      }
    }
  };

  /**
   * Handle focus.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialTextfield.prototype.onFocus_ = function(event) {
    this.element_.classList.add(this.CssClasses_.IS_FOCUSED);
  };

  /**
   * Handle lost focus.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialTextfield.prototype.onBlur_ = function(event) {
    this.element_.classList.remove(this.CssClasses_.IS_FOCUSED);
  };

  /**
   * Handle reset event from out side.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialTextfield.prototype.onReset_ = function(event) {
    this.updateClasses_();
  };

  /**
   * Handle class updates.
   *
   * @private
   */
  MaterialTextfield.prototype.updateClasses_ = function() {
    this.checkDisabled();
    this.checkValidity();
    this.checkDirty();
  };

  // Public methods.

  /**
   * Check the disabled state and update field accordingly.
   *
   * @public
   */
  MaterialTextfield.prototype.checkDisabled = function() {
    if (this.input_.disabled) {
      this.element_.classList.add(this.CssClasses_.IS_DISABLED);
    } else {
      this.element_.classList.remove(this.CssClasses_.IS_DISABLED);
    }
  };
  MaterialTextfield.prototype['checkDisabled'] =
      MaterialTextfield.prototype.checkDisabled;

  /**
   * Check the validity state and update field accordingly.
   *
   * @public
   */
  MaterialTextfield.prototype.checkValidity = function() {
    if (this.input_.validity) {
      if (this.input_.validity.valid) {
        this.element_.classList.remove(this.CssClasses_.IS_INVALID);
      } else {
        this.element_.classList.add(this.CssClasses_.IS_INVALID);
      }
    }
  };
  MaterialTextfield.prototype['checkValidity'] =
      MaterialTextfield.prototype.checkValidity;

  /**
   * Check the dirty state and update field accordingly.
   *
   * @public
   */
  MaterialTextfield.prototype.checkDirty = function() {
    if (this.input_.value && this.input_.value.length > 0) {
      this.element_.classList.add(this.CssClasses_.IS_DIRTY);
    } else {
      this.element_.classList.remove(this.CssClasses_.IS_DIRTY);
    }
  };
  MaterialTextfield.prototype['checkDirty'] =
      MaterialTextfield.prototype.checkDirty;

  /**
   * Disable text field.
   *
   * @public
   */
  MaterialTextfield.prototype.disable = function() {
    this.input_.disabled = true;
    this.updateClasses_();
  };
  MaterialTextfield.prototype['disable'] = MaterialTextfield.prototype.disable;

  /**
   * Enable text field.
   *
   * @public
   */
  MaterialTextfield.prototype.enable = function() {
    this.input_.disabled = false;
    this.updateClasses_();
  };
  MaterialTextfield.prototype['enable'] = MaterialTextfield.prototype.enable;

  /**
   * Update text field value.
   *
   * @param {string} value The value to which to set the control (optional).
   * @public
   */
  MaterialTextfield.prototype.change = function(value) {

    this.input_.value = value || '';
    this.updateClasses_();
  };
  MaterialTextfield.prototype['change'] = MaterialTextfield.prototype.change;

  /**
   * Initialize element.
   */
  MaterialTextfield.prototype.init = function() {

    if (this.element_) {
      this.label_ = this.element_.querySelector('.' + this.CssClasses_.LABEL);
      this.input_ = this.element_.querySelector('.' + this.CssClasses_.INPUT);

      if (this.input_) {
        if (this.input_.hasAttribute(
              /** @type {string} */ (this.Constant_.MAX_ROWS_ATTRIBUTE))) {
          this.maxRows = parseInt(this.input_.getAttribute(
              /** @type {string} */ (this.Constant_.MAX_ROWS_ATTRIBUTE)), 10);
          if (isNaN(this.maxRows)) {
            this.maxRows = this.Constant_.NO_MAX_ROWS;
          }
        }

        this.boundUpdateClassesHandler = this.updateClasses_.bind(this);
        this.boundFocusHandler = this.onFocus_.bind(this);
        this.boundBlurHandler = this.onBlur_.bind(this);
        this.boundResetHandler = this.onReset_.bind(this);
        this.input_.addEventListener('input', this.boundUpdateClassesHandler);
        this.input_.addEventListener('focus', this.boundFocusHandler);
        this.input_.addEventListener('blur', this.boundBlurHandler);
        this.input_.addEventListener('reset', this.boundResetHandler);

        if (this.maxRows !== this.Constant_.NO_MAX_ROWS) {
          // TODO: This should handle pasting multi line text.
          // Currently doesn't.
          this.boundKeyDownHandler = this.onKeyDown_.bind(this);
          this.input_.addEventListener('keydown', this.boundKeyDownHandler);
        }
        var invalid = this.element_.classList
          .contains(this.CssClasses_.IS_INVALID);
        this.updateClasses_();
        this.element_.classList.add(this.CssClasses_.IS_UPGRADED);
        if (invalid) {
          this.element_.classList.add(this.CssClasses_.IS_INVALID);
        }
      }
    }
  };

  /**
   * Downgrade the component
   *
   * @private
   */
  MaterialTextfield.prototype.mdlDowngrade_ = function() {
    this.input_.removeEventListener('input', this.boundUpdateClassesHandler);
    this.input_.removeEventListener('focus', this.boundFocusHandler);
    this.input_.removeEventListener('blur', this.boundBlurHandler);
    this.input_.removeEventListener('reset', this.boundResetHandler);
    if (this.boundKeyDownHandler) {
      this.input_.removeEventListener('keydown', this.boundKeyDownHandler);
    }
  };

  /**
   * Public alias for the downgrade method.
   *
   * @public
   */
  MaterialTextfield.prototype.mdlDowngrade =
      MaterialTextfield.prototype.mdlDowngrade_;

  MaterialTextfield.prototype['mdlDowngrade'] =
      MaterialTextfield.prototype.mdlDowngrade;

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
    constructor: MaterialTextfield,
    classAsString: 'MaterialTextfield',
    cssClass: 'mdl-js-textfield',
    widget: true
  });
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJ0ZXh0ZmllbGQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDbGFzcyBjb25zdHJ1Y3RvciBmb3IgVGV4dGZpZWxkIE1ETCBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudHMgTURMIGNvbXBvbmVudCBkZXNpZ24gcGF0dGVybiBkZWZpbmVkIGF0OlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGdyYWRlZC5cbiAgICovXG4gIHZhciBNYXRlcmlhbFRleHRmaWVsZCA9IGZ1bmN0aW9uIE1hdGVyaWFsVGV4dGZpZWxkKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcbiAgICB0aGlzLm1heFJvd3MgPSB0aGlzLkNvbnN0YW50Xy5OT19NQVhfUk9XUztcbiAgICAvLyBJbml0aWFsaXplIGluc3RhbmNlLlxuICAgIHRoaXMuaW5pdCgpO1xuICB9O1xuICB3aW5kb3dbJ01hdGVyaWFsVGV4dGZpZWxkJ10gPSBNYXRlcmlhbFRleHRmaWVsZDtcblxuICAvKipcbiAgICogU3RvcmUgY29uc3RhbnRzIGluIG9uZSBwbGFjZSBzbyB0aGV5IGNhbiBiZSB1cGRhdGVkIGVhc2lseS5cbiAgICpcbiAgICogQGVudW0ge3N0cmluZyB8IG51bWJlcn1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5Db25zdGFudF8gPSB7XG4gICAgTk9fTUFYX1JPV1M6IC0xLFxuICAgIE1BWF9ST1dTX0FUVFJJQlVURTogJ21heHJvd3MnXG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3JlIHN0cmluZ3MgZm9yIGNsYXNzIG5hbWVzIGRlZmluZWQgYnkgdGhpcyBjb21wb25lbnQgdGhhdCBhcmUgdXNlZCBpblxuICAgKiBKYXZhU2NyaXB0LiBUaGlzIGFsbG93cyB1cyB0byBzaW1wbHkgY2hhbmdlIGl0IGluIG9uZSBwbGFjZSBzaG91bGQgd2VcbiAgICogZGVjaWRlIHRvIG1vZGlmeSBhdCBhIGxhdGVyIGRhdGUuXG4gICAqXG4gICAqIEBlbnVtIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuQ3NzQ2xhc3Nlc18gPSB7XG4gICAgTEFCRUw6ICdtZGwtdGV4dGZpZWxkX19sYWJlbCcsXG4gICAgSU5QVVQ6ICdtZGwtdGV4dGZpZWxkX19pbnB1dCcsXG4gICAgSVNfRElSVFk6ICdpcy1kaXJ0eScsXG4gICAgSVNfRk9DVVNFRDogJ2lzLWZvY3VzZWQnLFxuICAgIElTX0RJU0FCTEVEOiAnaXMtZGlzYWJsZWQnLFxuICAgIElTX0lOVkFMSUQ6ICdpcy1pbnZhbGlkJyxcbiAgICBJU19VUEdSQURFRDogJ2lzLXVwZ3JhZGVkJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgaW5wdXQgYmVpbmcgZW50ZXJlZC5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRoYXQgZmlyZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUub25LZXlEb3duXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdmFyIGN1cnJlbnRSb3dDb3VudCA9IGV2ZW50LnRhcmdldC52YWx1ZS5zcGxpdCgnXFxuJykubGVuZ3RoO1xuICAgIGlmIChldmVudC5rZXlDb2RlID09PSAxMykge1xuICAgICAgaWYgKGN1cnJlbnRSb3dDb3VudCA+PSB0aGlzLm1heFJvd3MpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZSBmb2N1cy5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRoYXQgZmlyZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUub25Gb2N1c18gPSBmdW5jdGlvbihldmVudCkge1xuICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0ZPQ1VTRUQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgbG9zdCBmb2N1cy5cbiAgICpcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgVGhlIGV2ZW50IHRoYXQgZmlyZWQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUub25CbHVyXyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRk9DVVNFRCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZXNldCBldmVudCBmcm9tIG91dCBzaWRlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCBmaXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5vblJlc2V0XyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgdGhpcy51cGRhdGVDbGFzc2VzXygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgY2xhc3MgdXBkYXRlcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS51cGRhdGVDbGFzc2VzXyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2hlY2tEaXNhYmxlZCgpO1xuICAgIHRoaXMuY2hlY2tWYWxpZGl0eSgpO1xuICAgIHRoaXMuY2hlY2tEaXJ0eSgpO1xuICB9O1xuXG4gIC8vIFB1YmxpYyBtZXRob2RzLlxuXG4gIC8qKlxuICAgKiBDaGVjayB0aGUgZGlzYWJsZWQgc3RhdGUgYW5kIHVwZGF0ZSBmaWVsZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5pbnB1dF8uZGlzYWJsZWQpIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJU0FCTEVEKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElTQUJMRUQpO1xuICAgIH1cbiAgfTtcbiAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlWydjaGVja0Rpc2FibGVkJ10gPVxuICAgICAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmNoZWNrRGlzYWJsZWQ7XG5cbiAgLyoqXG4gICAqIENoZWNrIHRoZSB2YWxpZGl0eSBzdGF0ZSBhbmQgdXBkYXRlIGZpZWxkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmlucHV0Xy52YWxpZGl0eSkge1xuICAgICAgaWYgKHRoaXMuaW5wdXRfLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfSU5WQUxJRCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGVbJ2NoZWNrVmFsaWRpdHknXSA9XG4gICAgICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuY2hlY2tWYWxpZGl0eTtcblxuICAvKipcbiAgICogQ2hlY2sgdGhlIGRpcnR5IHN0YXRlIGFuZCB1cGRhdGUgZmllbGQgYWNjb3JkaW5nbHkuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5jaGVja0RpcnR5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaW5wdXRfLnZhbHVlICYmIHRoaXMuaW5wdXRfLnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0RJUlRZKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5lbGVtZW50Xy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRElSVFkpO1xuICAgIH1cbiAgfTtcbiAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlWydjaGVja0RpcnR5J10gPVxuICAgICAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmNoZWNrRGlydHk7XG5cbiAgLyoqXG4gICAqIERpc2FibGUgdGV4dCBmaWVsZC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlucHV0Xy5kaXNhYmxlZCA9IHRydWU7XG4gICAgdGhpcy51cGRhdGVDbGFzc2VzXygpO1xuICB9O1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGVbJ2Rpc2FibGUnXSA9IE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5kaXNhYmxlO1xuXG4gIC8qKlxuICAgKiBFbmFibGUgdGV4dCBmaWVsZC5cbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuaW5wdXRfLmRpc2FibGVkID0gZmFsc2U7XG4gICAgdGhpcy51cGRhdGVDbGFzc2VzXygpO1xuICB9O1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGVbJ2VuYWJsZSddID0gTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLmVuYWJsZTtcblxuICAvKipcbiAgICogVXBkYXRlIHRleHQgZmllbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdG8gc2V0IHRoZSBjb250cm9sIChvcHRpb25hbCkuXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5jaGFuZ2UgPSBmdW5jdGlvbih2YWx1ZSkge1xuXG4gICAgdGhpcy5pbnB1dF8udmFsdWUgPSB2YWx1ZSB8fCAnJztcbiAgICB0aGlzLnVwZGF0ZUNsYXNzZXNfKCk7XG4gIH07XG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZVsnY2hhbmdlJ10gPSBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuY2hhbmdlO1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGVsZW1lbnQuXG4gICAqL1xuICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgaWYgKHRoaXMuZWxlbWVudF8pIHtcbiAgICAgIHRoaXMubGFiZWxfID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uTEFCRUwpO1xuICAgICAgdGhpcy5pbnB1dF8gPSB0aGlzLmVsZW1lbnRfLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5JTlBVVCk7XG5cbiAgICAgIGlmICh0aGlzLmlucHV0Xykge1xuICAgICAgICBpZiAodGhpcy5pbnB1dF8uaGFzQXR0cmlidXRlKFxuICAgICAgICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRoaXMuQ29uc3RhbnRfLk1BWF9ST1dTX0FUVFJJQlVURSkpKSB7XG4gICAgICAgICAgdGhpcy5tYXhSb3dzID0gcGFyc2VJbnQodGhpcy5pbnB1dF8uZ2V0QXR0cmlidXRlKFxuICAgICAgICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRoaXMuQ29uc3RhbnRfLk1BWF9ST1dTX0FUVFJJQlVURSkpLCAxMCk7XG4gICAgICAgICAgaWYgKGlzTmFOKHRoaXMubWF4Um93cykpIHtcbiAgICAgICAgICAgIHRoaXMubWF4Um93cyA9IHRoaXMuQ29uc3RhbnRfLk5PX01BWF9ST1dTO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYm91bmRVcGRhdGVDbGFzc2VzSGFuZGxlciA9IHRoaXMudXBkYXRlQ2xhc3Nlc18uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ib3VuZEZvY3VzSGFuZGxlciA9IHRoaXMub25Gb2N1c18uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5ib3VuZEJsdXJIYW5kbGVyID0gdGhpcy5vbkJsdXJfLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYm91bmRSZXNldEhhbmRsZXIgPSB0aGlzLm9uUmVzZXRfLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaW5wdXRfLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5ib3VuZFVwZGF0ZUNsYXNzZXNIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLmJvdW5kRm9jdXNIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuYm91bmRCbHVySGFuZGxlcik7XG4gICAgICAgIHRoaXMuaW5wdXRfLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2V0JywgdGhpcy5ib3VuZFJlc2V0SGFuZGxlcik7XG5cbiAgICAgICAgaWYgKHRoaXMubWF4Um93cyAhPT0gdGhpcy5Db25zdGFudF8uTk9fTUFYX1JPV1MpIHtcbiAgICAgICAgICAvLyBUT0RPOiBUaGlzIHNob3VsZCBoYW5kbGUgcGFzdGluZyBtdWx0aSBsaW5lIHRleHQuXG4gICAgICAgICAgLy8gQ3VycmVudGx5IGRvZXNuJ3QuXG4gICAgICAgICAgdGhpcy5ib3VuZEtleURvd25IYW5kbGVyID0gdGhpcy5vbktleURvd25fLmJpbmQodGhpcyk7XG4gICAgICAgICAgdGhpcy5pbnB1dF8uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuYm91bmRLZXlEb3duSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludmFsaWQgPSB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdFxuICAgICAgICAgIC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0lOVkFMSUQpO1xuICAgICAgICB0aGlzLnVwZGF0ZUNsYXNzZXNfKCk7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKTtcbiAgICAgICAgaWYgKGludmFsaWQpIHtcbiAgICAgICAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19JTlZBTElEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogRG93bmdyYWRlIHRoZSBjb21wb25lbnRcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5pbnB1dF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLmJvdW5kVXBkYXRlQ2xhc3Nlc0hhbmRsZXIpO1xuICAgIHRoaXMuaW5wdXRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgdGhpcy5ib3VuZEZvY3VzSGFuZGxlcik7XG4gICAgdGhpcy5pbnB1dF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuYm91bmRCbHVySGFuZGxlcik7XG4gICAgdGhpcy5pbnB1dF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzZXQnLCB0aGlzLmJvdW5kUmVzZXRIYW5kbGVyKTtcbiAgICBpZiAodGhpcy5ib3VuZEtleURvd25IYW5kbGVyKSB7XG4gICAgICB0aGlzLmlucHV0Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5ib3VuZEtleURvd25IYW5kbGVyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFB1YmxpYyBhbGlhcyBmb3IgdGhlIGRvd25ncmFkZSBtZXRob2QuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIE1hdGVyaWFsVGV4dGZpZWxkLnByb3RvdHlwZS5tZGxEb3duZ3JhZGUgPVxuICAgICAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlLm1kbERvd25ncmFkZV87XG5cbiAgTWF0ZXJpYWxUZXh0ZmllbGQucHJvdG90eXBlWydtZGxEb3duZ3JhZGUnXSA9XG4gICAgICBNYXRlcmlhbFRleHRmaWVsZC5wcm90b3R5cGUubWRsRG93bmdyYWRlO1xuXG4gIC8vIFRoZSBjb21wb25lbnQgcmVnaXN0ZXJzIGl0c2VsZi4gSXQgY2FuIGFzc3VtZSBjb21wb25lbnRIYW5kbGVyIGlzIGF2YWlsYWJsZVxuICAvLyBpbiB0aGUgZ2xvYmFsIHNjb3BlLlxuICBjb21wb25lbnRIYW5kbGVyLnJlZ2lzdGVyKHtcbiAgICBjb25zdHJ1Y3RvcjogTWF0ZXJpYWxUZXh0ZmllbGQsXG4gICAgY2xhc3NBc1N0cmluZzogJ01hdGVyaWFsVGV4dGZpZWxkJyxcbiAgICBjc3NDbGFzczogJ21kbC1qcy10ZXh0ZmllbGQnLFxuICAgIHdpZGdldDogdHJ1ZVxuICB9KTtcbn0pKCk7XG4iXSwiZmlsZSI6InRleHRmaWVsZC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function() {
  'use strict';

  /**
   * Class constructor for Layout MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @constructor
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var MaterialLayout = function MaterialLayout(element) {
    this.element_ = element;

    // Initialize instance.
    this.init();
  };
  window['MaterialLayout'] = MaterialLayout;

  /**
   * Store constants in one place so they can be updated easily.
   *
   * @enum {string | number}
   * @private
   */
  MaterialLayout.prototype.Constant_ = {
    MAX_WIDTH: '(max-width: 1024px)',
    TAB_SCROLL_PIXELS: 100,

    MENU_ICON: 'menu',
    CHEVRON_LEFT: 'chevron_left',
    CHEVRON_RIGHT: 'chevron_right'
  };

  /**
   * Modes.
   *
   * @enum {number}
   * @private
   */
  MaterialLayout.prototype.Mode_ = {
    STANDARD: 0,
    SEAMED: 1,
    WATERFALL: 2,
    SCROLL: 3
  };

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  MaterialLayout.prototype.CssClasses_ = {
    CONTAINER: 'mdl-layout__container',
    HEADER: 'mdl-layout__header',
    DRAWER: 'mdl-layout__drawer',
    CONTENT: 'mdl-layout__content',
    DRAWER_BTN: 'mdl-layout__drawer-button',

    ICON: 'material-icons',

    JS_RIPPLE_EFFECT: 'mdl-js-ripple-effect',
    RIPPLE_CONTAINER: 'mdl-layout__tab-ripple-container',
    RIPPLE: 'mdl-ripple',
    RIPPLE_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',

    HEADER_SEAMED: 'mdl-layout__header--seamed',
    HEADER_WATERFALL: 'mdl-layout__header--waterfall',
    HEADER_SCROLL: 'mdl-layout__header--scroll',

    FIXED_HEADER: 'mdl-layout--fixed-header',
    OBFUSCATOR: 'mdl-layout__obfuscator',

    TAB_BAR: 'mdl-layout__tab-bar',
    TAB_CONTAINER: 'mdl-layout__tab-bar-container',
    TAB: 'mdl-layout__tab',
    TAB_BAR_BUTTON: 'mdl-layout__tab-bar-button',
    TAB_BAR_LEFT_BUTTON: 'mdl-layout__tab-bar-left-button',
    TAB_BAR_RIGHT_BUTTON: 'mdl-layout__tab-bar-right-button',
    PANEL: 'mdl-layout__tab-panel',

    HAS_DRAWER: 'has-drawer',
    HAS_TABS: 'has-tabs',
    HAS_SCROLLING_HEADER: 'has-scrolling-header',
    CASTING_SHADOW: 'is-casting-shadow',
    IS_COMPACT: 'is-compact',
    IS_SMALL_SCREEN: 'is-small-screen',
    IS_DRAWER_OPEN: 'is-visible',
    IS_ACTIVE: 'is-active',
    IS_UPGRADED: 'is-upgraded',
    IS_ANIMATING: 'is-animating',

    ON_LARGE_SCREEN: 'mdl-layout--large-screen-only',
    ON_SMALL_SCREEN: 'mdl-layout--small-screen-only'

  };

  /**
   * Handles scrolling on the content.
   *
   * @private
   */
  MaterialLayout.prototype.contentScrollHandler_ = function() {
    if (this.header_.classList.contains(this.CssClasses_.IS_ANIMATING)) {
      return;
    }

    if (this.content_.scrollTop > 0 &&
        !this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {
      this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);
      this.header_.classList.add(this.CssClasses_.IS_COMPACT);
      this.header_.classList.add(this.CssClasses_.IS_ANIMATING);
    } else if (this.content_.scrollTop <= 0 &&
        this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {
      this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);
      this.header_.classList.remove(this.CssClasses_.IS_COMPACT);
      this.header_.classList.add(this.CssClasses_.IS_ANIMATING);
    }
  };

  /**
   * Handles changes in screen size.
   *
   * @private
   */
  MaterialLayout.prototype.screenSizeHandler_ = function() {
    if (this.screenSizeMediaQuery_.matches) {
      this.element_.classList.add(this.CssClasses_.IS_SMALL_SCREEN);
    } else {
      this.element_.classList.remove(this.CssClasses_.IS_SMALL_SCREEN);
      // Collapse drawer (if any) when moving to a large screen size.
      if (this.drawer_) {
        this.drawer_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);
        this.obfuscator_.classList.remove(this.CssClasses_.IS_DRAWER_OPEN);
      }
    }
  };

  /**
   * Handles toggling of the drawer.
   *
   * @private
   */
  MaterialLayout.prototype.drawerToggleHandler_ = function() {
    this.drawer_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);
    this.obfuscator_.classList.toggle(this.CssClasses_.IS_DRAWER_OPEN);
  };

  /**
   * Handles (un)setting the `is-animating` class
   *
   * @private
   */
  MaterialLayout.prototype.headerTransitionEndHandler_ = function() {
    this.header_.classList.remove(this.CssClasses_.IS_ANIMATING);
  };

  /**
   * Handles expanding the header on click
   *
   * @private
   */
  MaterialLayout.prototype.headerClickHandler_ = function() {
    if (this.header_.classList.contains(this.CssClasses_.IS_COMPACT)) {
      this.header_.classList.remove(this.CssClasses_.IS_COMPACT);
      this.header_.classList.add(this.CssClasses_.IS_ANIMATING);
    }
  };

  /**
   * Reset tab state, dropping active classes
   *
   * @private
   */
  MaterialLayout.prototype.resetTabState_ = function(tabBar) {
    for (var k = 0; k < tabBar.length; k++) {
      tabBar[k].classList.remove(this.CssClasses_.IS_ACTIVE);
    }
  };

  /**
   * Reset panel state, droping active classes
   *
   * @private
   */
  MaterialLayout.prototype.resetPanelState_ = function(panels) {
    for (var j = 0; j < panels.length; j++) {
      panels[j].classList.remove(this.CssClasses_.IS_ACTIVE);
    }
  };

  /**
   * Initialize element.
   */
  MaterialLayout.prototype.init = function() {
    if (this.element_) {
      var container = document.createElement('div');
      container.classList.add(this.CssClasses_.CONTAINER);
      this.element_.parentElement.insertBefore(container, this.element_);
      this.element_.parentElement.removeChild(this.element_);
      container.appendChild(this.element_);

      var directChildren = this.element_.childNodes;
      var numChildren = directChildren.length;
      for (var c = 0; c < numChildren; c++) {
        var child = directChildren[c];
        if (child.classList &&
            child.classList.contains(this.CssClasses_.HEADER)) {
          this.header_ = child;
        }

        if (child.classList &&
            child.classList.contains(this.CssClasses_.DRAWER)) {
          this.drawer_ = child;
        }

        if (child.classList &&
            child.classList.contains(this.CssClasses_.CONTENT)) {
          this.content_ = child;
        }
      }

      if (this.header_) {
        this.tabBar_ = this.header_.querySelector('.' + this.CssClasses_.TAB_BAR);
      }

      var mode = this.Mode_.STANDARD;

      if (this.header_) {
        if (this.header_.classList.contains(this.CssClasses_.HEADER_SEAMED)) {
          mode = this.Mode_.SEAMED;
        } else if (this.header_.classList.contains(
            this.CssClasses_.HEADER_WATERFALL)) {
          mode = this.Mode_.WATERFALL;
          this.header_.addEventListener('transitionend',
            this.headerTransitionEndHandler_.bind(this));
          this.header_.addEventListener('click',
            this.headerClickHandler_.bind(this));
        } else if (this.header_.classList.contains(
            this.CssClasses_.HEADER_SCROLL)) {
          mode = this.Mode_.SCROLL;
          container.classList.add(this.CssClasses_.HAS_SCROLLING_HEADER);
        }

        if (mode === this.Mode_.STANDARD) {
          this.header_.classList.add(this.CssClasses_.CASTING_SHADOW);
          if (this.tabBar_) {
            this.tabBar_.classList.add(this.CssClasses_.CASTING_SHADOW);
          }
        } else if (mode === this.Mode_.SEAMED || mode === this.Mode_.SCROLL) {
          this.header_.classList.remove(this.CssClasses_.CASTING_SHADOW);
          if (this.tabBar_) {
            this.tabBar_.classList.remove(this.CssClasses_.CASTING_SHADOW);
          }
        } else if (mode === this.Mode_.WATERFALL) {
          // Add and remove shadows depending on scroll position.
          // Also add/remove auxiliary class for styling of the compact version of
          // the header.
          this.content_.addEventListener('scroll',
              this.contentScrollHandler_.bind(this));
          this.contentScrollHandler_();
        }
      }

      // Add drawer toggling button to our layout, if we have an openable drawer.
      if (this.drawer_) {
        var drawerButton = this.element_.querySelector('.' +
          this.CssClasses_.DRAWER_BTN);
        if (!drawerButton) {
          drawerButton = document.createElement('div');
          drawerButton.classList.add(this.CssClasses_.DRAWER_BTN);

          var drawerButtonIcon = document.createElement('i');
          drawerButtonIcon.classList.add(this.CssClasses_.ICON);
          drawerButtonIcon.textContent = this.Constant_.MENU_ICON;
          drawerButton.appendChild(drawerButtonIcon);
        }

        if (this.drawer_.classList.contains(this.CssClasses_.ON_LARGE_SCREEN)) {
          //If drawer has ON_LARGE_SCREEN class then add it to the drawer toggle button as well.
          drawerButton.classList.add(this.CssClasses_.ON_LARGE_SCREEN);
        } else if (this.drawer_.classList.contains(this.CssClasses_.ON_SMALL_SCREEN)) {
          //If drawer has ON_SMALL_SCREEN class then add it to the drawer toggle button as well.
          drawerButton.classList.add(this.CssClasses_.ON_SMALL_SCREEN);
        }

        drawerButton.addEventListener('click',
            this.drawerToggleHandler_.bind(this));

        // Add a class if the layout has a drawer, for altering the left padding.
        // Adds the HAS_DRAWER to the elements since this.header_ may or may
        // not be present.
        this.element_.classList.add(this.CssClasses_.HAS_DRAWER);

        // If we have a fixed header, add the button to the header rather than
        // the layout.
        if (this.element_.classList.contains(this.CssClasses_.FIXED_HEADER)) {
          this.header_.insertBefore(drawerButton, this.header_.firstChild);
        } else {
          this.element_.insertBefore(drawerButton, this.content_);
        }

        var obfuscator = document.createElement('div');
        obfuscator.classList.add(this.CssClasses_.OBFUSCATOR);
        this.element_.appendChild(obfuscator);
        obfuscator.addEventListener('click',
            this.drawerToggleHandler_.bind(this));
        this.obfuscator_ = obfuscator;
      }

      // Keep an eye on screen size, and add/remove auxiliary class for styling
      // of small screens.
      this.screenSizeMediaQuery_ = window.matchMedia(
          /** @type {string} */ (this.Constant_.MAX_WIDTH));
      this.screenSizeMediaQuery_.addListener(this.screenSizeHandler_.bind(this));
      this.screenSizeHandler_();

      // Initialize tabs, if any.
      if (this.header_ && this.tabBar_) {
        this.element_.classList.add(this.CssClasses_.HAS_TABS);

        var tabContainer = document.createElement('div');
        tabContainer.classList.add(this.CssClasses_.TAB_CONTAINER);
        this.header_.insertBefore(tabContainer, this.tabBar_);
        this.header_.removeChild(this.tabBar_);

        var leftButton = document.createElement('div');
        leftButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);
        leftButton.classList.add(this.CssClasses_.TAB_BAR_LEFT_BUTTON);
        var leftButtonIcon = document.createElement('i');
        leftButtonIcon.classList.add(this.CssClasses_.ICON);
        leftButtonIcon.textContent = this.Constant_.CHEVRON_LEFT;
        leftButton.appendChild(leftButtonIcon);
        leftButton.addEventListener('click', function() {
          this.tabBar_.scrollLeft -= this.Constant_.TAB_SCROLL_PIXELS;
        }.bind(this));

        var rightButton = document.createElement('div');
        rightButton.classList.add(this.CssClasses_.TAB_BAR_BUTTON);
        rightButton.classList.add(this.CssClasses_.TAB_BAR_RIGHT_BUTTON);
        var rightButtonIcon = document.createElement('i');
        rightButtonIcon.classList.add(this.CssClasses_.ICON);
        rightButtonIcon.textContent = this.Constant_.CHEVRON_RIGHT;
        rightButton.appendChild(rightButtonIcon);
        rightButton.addEventListener('click', function() {
          this.tabBar_.scrollLeft += this.Constant_.TAB_SCROLL_PIXELS;
        }.bind(this));

        tabContainer.appendChild(leftButton);
        tabContainer.appendChild(this.tabBar_);
        tabContainer.appendChild(rightButton);

        // Add and remove buttons depending on scroll position.
        var tabScrollHandler = function() {
          if (this.tabBar_.scrollLeft > 0) {
            leftButton.classList.add(this.CssClasses_.IS_ACTIVE);
          } else {
            leftButton.classList.remove(this.CssClasses_.IS_ACTIVE);
          }

          if (this.tabBar_.scrollLeft <
              this.tabBar_.scrollWidth - this.tabBar_.offsetWidth) {
            rightButton.classList.add(this.CssClasses_.IS_ACTIVE);
          } else {
            rightButton.classList.remove(this.CssClasses_.IS_ACTIVE);
          }
        }.bind(this);

        this.tabBar_.addEventListener('scroll', tabScrollHandler);
        tabScrollHandler();

        if (this.tabBar_.classList.contains(this.CssClasses_.JS_RIPPLE_EFFECT)) {
          this.tabBar_.classList.add(this.CssClasses_.RIPPLE_IGNORE_EVENTS);
        }

        // Select element tabs, document panels
        var tabs = this.tabBar_.querySelectorAll('.' + this.CssClasses_.TAB);
        var panels = this.content_.querySelectorAll('.' + this.CssClasses_.PANEL);

        // Create new tabs for each tab element
        for (var i = 0; i < tabs.length; i++) {
          new MaterialLayoutTab(tabs[i], tabs, panels, this);
        }
      }

      this.element_.classList.add(this.CssClasses_.IS_UPGRADED);
    }
  };

  /**
   * Constructor for an individual tab.
   *
   * @constructor
   * @param {HTMLElement} tab The HTML element for the tab.
   * @param {!Array<HTMLElement>} tabs Array with HTML elements for all tabs.
   * @param {!Array<HTMLElement>} panels Array with HTML elements for all panels.
   * @param {MaterialLayout} layout The MaterialLayout object that owns the tab.
   */
  function MaterialLayoutTab(tab, tabs, panels, layout) {

    /**
     * Auxiliary method to programmatically select a tab in the UI.
     */
    function selectTab() {
      var href = tab.href.split('#')[1];
      var panel = layout.content_.querySelector('#' + href);
      layout.resetTabState_(tabs);
      layout.resetPanelState_(panels);
      tab.classList.add(layout.CssClasses_.IS_ACTIVE);
      panel.classList.add(layout.CssClasses_.IS_ACTIVE);
    }

    if (layout.tabBar_.classList.contains(
        layout.CssClasses_.JS_RIPPLE_EFFECT)) {
      var rippleContainer = document.createElement('span');
      rippleContainer.classList.add(layout.CssClasses_.RIPPLE_CONTAINER);
      rippleContainer.classList.add(layout.CssClasses_.JS_RIPPLE_EFFECT);
      var ripple = document.createElement('span');
      ripple.classList.add(layout.CssClasses_.RIPPLE);
      rippleContainer.appendChild(ripple);
      tab.appendChild(rippleContainer);
    }

    tab.addEventListener('click', function(e) {
      if (tab.getAttribute('href').charAt(0) === '#') {
        e.preventDefault();
        selectTab();
      }
    });

    tab.show = selectTab;

    tab.addEventListener('click', function(e) {
      e.preventDefault();
      var href = tab.href.split('#')[1];
      var panel = layout.content_.querySelector('#' + href);
      layout.resetTabState_(tabs);
      layout.resetPanelState_(panels);
      tab.classList.add(layout.CssClasses_.IS_ACTIVE);
      panel.classList.add(layout.CssClasses_.IS_ACTIVE);
    });
  }
  window['MaterialLayoutTab'] = MaterialLayoutTab;

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
    constructor: MaterialLayout,
    classAsString: 'MaterialLayout',
    cssClass: 'mdl-js-layout'
  });
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJsYXlvdXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDbGFzcyBjb25zdHJ1Y3RvciBmb3IgTGF5b3V0IE1ETCBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudHMgTURMIGNvbXBvbmVudCBkZXNpZ24gcGF0dGVybiBkZWZpbmVkIGF0OlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGdyYWRlZC5cbiAgICovXG4gIHZhciBNYXRlcmlhbExheW91dCA9IGZ1bmN0aW9uIE1hdGVyaWFsTGF5b3V0KGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuICAgIC8vIEluaXRpYWxpemUgaW5zdGFuY2UuXG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIHdpbmRvd1snTWF0ZXJpYWxMYXlvdXQnXSA9IE1hdGVyaWFsTGF5b3V0O1xuXG4gIC8qKlxuICAgKiBTdG9yZSBjb25zdGFudHMgaW4gb25lIHBsYWNlIHNvIHRoZXkgY2FuIGJlIHVwZGF0ZWQgZWFzaWx5LlxuICAgKlxuICAgKiBAZW51bSB7c3RyaW5nIHwgbnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxMYXlvdXQucHJvdG90eXBlLkNvbnN0YW50XyA9IHtcbiAgICBNQVhfV0lEVEg6ICcobWF4LXdpZHRoOiAxMDI0cHgpJyxcbiAgICBUQUJfU0NST0xMX1BJWEVMUzogMTAwLFxuXG4gICAgTUVOVV9JQ09OOiAnbWVudScsXG4gICAgQ0hFVlJPTl9MRUZUOiAnY2hldnJvbl9sZWZ0JyxcbiAgICBDSEVWUk9OX1JJR0hUOiAnY2hldnJvbl9yaWdodCdcbiAgfTtcblxuICAvKipcbiAgICogTW9kZXMuXG4gICAqXG4gICAqIEBlbnVtIHtudW1iZXJ9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbExheW91dC5wcm90b3R5cGUuTW9kZV8gPSB7XG4gICAgU1RBTkRBUkQ6IDAsXG4gICAgU0VBTUVEOiAxLFxuICAgIFdBVEVSRkFMTDogMixcbiAgICBTQ1JPTEw6IDNcbiAgfTtcblxuICAvKipcbiAgICogU3RvcmUgc3RyaW5ncyBmb3IgY2xhc3MgbmFtZXMgZGVmaW5lZCBieSB0aGlzIGNvbXBvbmVudCB0aGF0IGFyZSB1c2VkIGluXG4gICAqIEphdmFTY3JpcHQuIFRoaXMgYWxsb3dzIHVzIHRvIHNpbXBseSBjaGFuZ2UgaXQgaW4gb25lIHBsYWNlIHNob3VsZCB3ZVxuICAgKiBkZWNpZGUgdG8gbW9kaWZ5IGF0IGEgbGF0ZXIgZGF0ZS5cbiAgICpcbiAgICogQGVudW0ge3N0cmluZ31cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsTGF5b3V0LnByb3RvdHlwZS5Dc3NDbGFzc2VzXyA9IHtcbiAgICBDT05UQUlORVI6ICdtZGwtbGF5b3V0X19jb250YWluZXInLFxuICAgIEhFQURFUjogJ21kbC1sYXlvdXRfX2hlYWRlcicsXG4gICAgRFJBV0VSOiAnbWRsLWxheW91dF9fZHJhd2VyJyxcbiAgICBDT05URU5UOiAnbWRsLWxheW91dF9fY29udGVudCcsXG4gICAgRFJBV0VSX0JUTjogJ21kbC1sYXlvdXRfX2RyYXdlci1idXR0b24nLFxuXG4gICAgSUNPTjogJ21hdGVyaWFsLWljb25zJyxcblxuICAgIEpTX1JJUFBMRV9FRkZFQ1Q6ICdtZGwtanMtcmlwcGxlLWVmZmVjdCcsXG4gICAgUklQUExFX0NPTlRBSU5FUjogJ21kbC1sYXlvdXRfX3RhYi1yaXBwbGUtY29udGFpbmVyJyxcbiAgICBSSVBQTEU6ICdtZGwtcmlwcGxlJyxcbiAgICBSSVBQTEVfSUdOT1JFX0VWRU5UUzogJ21kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzJyxcblxuICAgIEhFQURFUl9TRUFNRUQ6ICdtZGwtbGF5b3V0X19oZWFkZXItLXNlYW1lZCcsXG4gICAgSEVBREVSX1dBVEVSRkFMTDogJ21kbC1sYXlvdXRfX2hlYWRlci0td2F0ZXJmYWxsJyxcbiAgICBIRUFERVJfU0NST0xMOiAnbWRsLWxheW91dF9faGVhZGVyLS1zY3JvbGwnLFxuXG4gICAgRklYRURfSEVBREVSOiAnbWRsLWxheW91dC0tZml4ZWQtaGVhZGVyJyxcbiAgICBPQkZVU0NBVE9SOiAnbWRsLWxheW91dF9fb2JmdXNjYXRvcicsXG5cbiAgICBUQUJfQkFSOiAnbWRsLWxheW91dF9fdGFiLWJhcicsXG4gICAgVEFCX0NPTlRBSU5FUjogJ21kbC1sYXlvdXRfX3RhYi1iYXItY29udGFpbmVyJyxcbiAgICBUQUI6ICdtZGwtbGF5b3V0X190YWInLFxuICAgIFRBQl9CQVJfQlVUVE9OOiAnbWRsLWxheW91dF9fdGFiLWJhci1idXR0b24nLFxuICAgIFRBQl9CQVJfTEVGVF9CVVRUT046ICdtZGwtbGF5b3V0X190YWItYmFyLWxlZnQtYnV0dG9uJyxcbiAgICBUQUJfQkFSX1JJR0hUX0JVVFRPTjogJ21kbC1sYXlvdXRfX3RhYi1iYXItcmlnaHQtYnV0dG9uJyxcbiAgICBQQU5FTDogJ21kbC1sYXlvdXRfX3RhYi1wYW5lbCcsXG5cbiAgICBIQVNfRFJBV0VSOiAnaGFzLWRyYXdlcicsXG4gICAgSEFTX1RBQlM6ICdoYXMtdGFicycsXG4gICAgSEFTX1NDUk9MTElOR19IRUFERVI6ICdoYXMtc2Nyb2xsaW5nLWhlYWRlcicsXG4gICAgQ0FTVElOR19TSEFET1c6ICdpcy1jYXN0aW5nLXNoYWRvdycsXG4gICAgSVNfQ09NUEFDVDogJ2lzLWNvbXBhY3QnLFxuICAgIElTX1NNQUxMX1NDUkVFTjogJ2lzLXNtYWxsLXNjcmVlbicsXG4gICAgSVNfRFJBV0VSX09QRU46ICdpcy12aXNpYmxlJyxcbiAgICBJU19BQ1RJVkU6ICdpcy1hY3RpdmUnLFxuICAgIElTX1VQR1JBREVEOiAnaXMtdXBncmFkZWQnLFxuICAgIElTX0FOSU1BVElORzogJ2lzLWFuaW1hdGluZycsXG5cbiAgICBPTl9MQVJHRV9TQ1JFRU46ICdtZGwtbGF5b3V0LS1sYXJnZS1zY3JlZW4tb25seScsXG4gICAgT05fU01BTExfU0NSRUVOOiAnbWRsLWxheW91dC0tc21hbGwtc2NyZWVuLW9ubHknXG5cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyBzY3JvbGxpbmcgb24gdGhlIGNvbnRlbnQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbExheW91dC5wcm90b3R5cGUuY29udGVudFNjcm9sbEhhbmRsZXJfID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY29udGVudF8uc2Nyb2xsVG9wID4gMCAmJlxuICAgICAgICAhdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLklTX0NPTVBBQ1QpKSB7XG4gICAgICB0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkNBU1RJTkdfU0hBRE9XKTtcbiAgICAgIHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCk7XG4gICAgICB0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmNvbnRlbnRfLnNjcm9sbFRvcCA8PSAwICYmXG4gICAgICAgIHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5JU19DT01QQUNUKSkge1xuICAgICAgdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5DQVNUSU5HX1NIQURPVyk7XG4gICAgICB0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0NPTVBBQ1QpO1xuICAgICAgdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyBjaGFuZ2VzIGluIHNjcmVlbiBzaXplLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxMYXlvdXQucHJvdG90eXBlLnNjcmVlblNpemVIYW5kbGVyXyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLnNjcmVlblNpemVNZWRpYVF1ZXJ5Xy5tYXRjaGVzKSB7XG4gICAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19TTUFMTF9TQ1JFRU4pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19TTUFMTF9TQ1JFRU4pO1xuICAgICAgLy8gQ29sbGFwc2UgZHJhd2VyIChpZiBhbnkpIHdoZW4gbW92aW5nIHRvIGEgbGFyZ2Ugc2NyZWVuIHNpemUuXG4gICAgICBpZiAodGhpcy5kcmF3ZXJfKSB7XG4gICAgICAgIHRoaXMuZHJhd2VyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfRFJBV0VSX09QRU4pO1xuICAgICAgICB0aGlzLm9iZnVzY2F0b3JfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHRvZ2dsaW5nIG9mIHRoZSBkcmF3ZXIuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbExheW91dC5wcm90b3R5cGUuZHJhd2VyVG9nZ2xlSGFuZGxlcl8gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmRyYXdlcl8uY2xhc3NMaXN0LnRvZ2dsZSh0aGlzLkNzc0NsYXNzZXNfLklTX0RSQVdFUl9PUEVOKTtcbiAgICB0aGlzLm9iZnVzY2F0b3JfLmNsYXNzTGlzdC50b2dnbGUodGhpcy5Dc3NDbGFzc2VzXy5JU19EUkFXRVJfT1BFTik7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgKHVuKXNldHRpbmcgdGhlIGBpcy1hbmltYXRpbmdgIGNsYXNzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbExheW91dC5wcm90b3R5cGUuaGVhZGVyVHJhbnNpdGlvbkVuZEhhbmRsZXJfID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIGV4cGFuZGluZyB0aGUgaGVhZGVyIG9uIGNsaWNrXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbExheW91dC5wcm90b3R5cGUuaGVhZGVyQ2xpY2tIYW5kbGVyXyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCkpIHtcbiAgICAgIHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQ09NUEFDVCk7XG4gICAgICB0aGlzLmhlYWRlcl8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXNldCB0YWIgc3RhdGUsIGRyb3BwaW5nIGFjdGl2ZSBjbGFzc2VzXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBNYXRlcmlhbExheW91dC5wcm90b3R5cGUucmVzZXRUYWJTdGF0ZV8gPSBmdW5jdGlvbih0YWJCYXIpIHtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHRhYkJhci5sZW5ndGg7IGsrKykge1xuICAgICAgdGFiQmFyW2tdLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmVzZXQgcGFuZWwgc3RhdGUsIGRyb3BpbmcgYWN0aXZlIGNsYXNzZXNcbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsTGF5b3V0LnByb3RvdHlwZS5yZXNldFBhbmVsU3RhdGVfID0gZnVuY3Rpb24ocGFuZWxzKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYW5lbHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIHBhbmVsc1tqXS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgZWxlbWVudC5cbiAgICovXG4gIE1hdGVyaWFsTGF5b3V0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudF8pIHtcbiAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ09OVEFJTkVSKTtcbiAgICAgIHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoY29udGFpbmVyLCB0aGlzLmVsZW1lbnRfKTtcbiAgICAgIHRoaXMuZWxlbWVudF8ucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnRfKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnRfKTtcblxuICAgICAgdmFyIGRpcmVjdENoaWxkcmVuID0gdGhpcy5lbGVtZW50Xy5jaGlsZE5vZGVzO1xuICAgICAgdmFyIG51bUNoaWxkcmVuID0gZGlyZWN0Q2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBudW1DaGlsZHJlbjsgYysrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IGRpcmVjdENoaWxkcmVuW2NdO1xuICAgICAgICBpZiAoY2hpbGQuY2xhc3NMaXN0ICYmXG4gICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5IRUFERVIpKSB7XG4gICAgICAgICAgdGhpcy5oZWFkZXJfID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQuY2xhc3NMaXN0ICYmXG4gICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5EUkFXRVIpKSB7XG4gICAgICAgICAgdGhpcy5kcmF3ZXJfID0gY2hpbGQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY2hpbGQuY2xhc3NMaXN0ICYmXG4gICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5DT05URU5UKSkge1xuICAgICAgICAgIHRoaXMuY29udGVudF8gPSBjaGlsZDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5oZWFkZXJfKSB7XG4gICAgICAgIHRoaXMudGFiQmFyXyA9IHRoaXMuaGVhZGVyXy5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuQ3NzQ2xhc3Nlc18uVEFCX0JBUik7XG4gICAgICB9XG5cbiAgICAgIHZhciBtb2RlID0gdGhpcy5Nb2RlXy5TVEFOREFSRDtcblxuICAgICAgaWYgKHRoaXMuaGVhZGVyXykge1xuICAgICAgICBpZiAodGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkhFQURFUl9TRUFNRUQpKSB7XG4gICAgICAgICAgbW9kZSA9IHRoaXMuTW9kZV8uU0VBTUVEO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuY29udGFpbnMoXG4gICAgICAgICAgICB0aGlzLkNzc0NsYXNzZXNfLkhFQURFUl9XQVRFUkZBTEwpKSB7XG4gICAgICAgICAgbW9kZSA9IHRoaXMuTW9kZV8uV0FURVJGQUxMO1xuICAgICAgICAgIHRoaXMuaGVhZGVyXy5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyVHJhbnNpdGlvbkVuZEhhbmRsZXJfLmJpbmQodGhpcykpO1xuICAgICAgICAgIHRoaXMuaGVhZGVyXy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgICAgICB0aGlzLmhlYWRlckNsaWNrSGFuZGxlcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5oZWFkZXJfLmNsYXNzTGlzdC5jb250YWlucyhcbiAgICAgICAgICAgIHRoaXMuQ3NzQ2xhc3Nlc18uSEVBREVSX1NDUk9MTCkpIHtcbiAgICAgICAgICBtb2RlID0gdGhpcy5Nb2RlXy5TQ1JPTEw7XG4gICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5IQVNfU0NST0xMSU5HX0hFQURFUik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobW9kZSA9PT0gdGhpcy5Nb2RlXy5TVEFOREFSRCkge1xuICAgICAgICAgIHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpO1xuICAgICAgICAgIGlmICh0aGlzLnRhYkJhcl8pIHtcbiAgICAgICAgICAgIHRoaXMudGFiQmFyXy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSB0aGlzLk1vZGVfLlNFQU1FRCB8fCBtb2RlID09PSB0aGlzLk1vZGVfLlNDUk9MTCkge1xuICAgICAgICAgIHRoaXMuaGVhZGVyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpO1xuICAgICAgICAgIGlmICh0aGlzLnRhYkJhcl8pIHtcbiAgICAgICAgICAgIHRoaXMudGFiQmFyXy5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uQ0FTVElOR19TSEFET1cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChtb2RlID09PSB0aGlzLk1vZGVfLldBVEVSRkFMTCkge1xuICAgICAgICAgIC8vIEFkZCBhbmQgcmVtb3ZlIHNoYWRvd3MgZGVwZW5kaW5nIG9uIHNjcm9sbCBwb3NpdGlvbi5cbiAgICAgICAgICAvLyBBbHNvIGFkZC9yZW1vdmUgYXV4aWxpYXJ5IGNsYXNzIGZvciBzdHlsaW5nIG9mIHRoZSBjb21wYWN0IHZlcnNpb24gb2ZcbiAgICAgICAgICAvLyB0aGUgaGVhZGVyLlxuICAgICAgICAgIHRoaXMuY29udGVudF8uYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJyxcbiAgICAgICAgICAgICAgdGhpcy5jb250ZW50U2Nyb2xsSGFuZGxlcl8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgdGhpcy5jb250ZW50U2Nyb2xsSGFuZGxlcl8oKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBBZGQgZHJhd2VyIHRvZ2dsaW5nIGJ1dHRvbiB0byBvdXIgbGF5b3V0LCBpZiB3ZSBoYXZlIGFuIG9wZW5hYmxlIGRyYXdlci5cbiAgICAgIGlmICh0aGlzLmRyYXdlcl8pIHtcbiAgICAgICAgdmFyIGRyYXdlckJ1dHRvbiA9IHRoaXMuZWxlbWVudF8ucXVlcnlTZWxlY3RvcignLicgK1xuICAgICAgICAgIHRoaXMuQ3NzQ2xhc3Nlc18uRFJBV0VSX0JUTik7XG4gICAgICAgIGlmICghZHJhd2VyQnV0dG9uKSB7XG4gICAgICAgICAgZHJhd2VyQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgZHJhd2VyQnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5EUkFXRVJfQlROKTtcblxuICAgICAgICAgIHZhciBkcmF3ZXJCdXR0b25JY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xuICAgICAgICAgIGRyYXdlckJ1dHRvbkljb24uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklDT04pO1xuICAgICAgICAgIGRyYXdlckJ1dHRvbkljb24udGV4dENvbnRlbnQgPSB0aGlzLkNvbnN0YW50Xy5NRU5VX0lDT047XG4gICAgICAgICAgZHJhd2VyQnV0dG9uLmFwcGVuZENoaWxkKGRyYXdlckJ1dHRvbkljb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZHJhd2VyXy5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5PTl9MQVJHRV9TQ1JFRU4pKSB7XG4gICAgICAgICAgLy9JZiBkcmF3ZXIgaGFzIE9OX0xBUkdFX1NDUkVFTiBjbGFzcyB0aGVuIGFkZCBpdCB0byB0aGUgZHJhd2VyIHRvZ2dsZSBidXR0b24gYXMgd2VsbC5cbiAgICAgICAgICBkcmF3ZXJCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk9OX0xBUkdFX1NDUkVFTik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5kcmF3ZXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLk9OX1NNQUxMX1NDUkVFTikpIHtcbiAgICAgICAgICAvL0lmIGRyYXdlciBoYXMgT05fU01BTExfU0NSRUVOIGNsYXNzIHRoZW4gYWRkIGl0IHRvIHRoZSBkcmF3ZXIgdG9nZ2xlIGJ1dHRvbiBhcyB3ZWxsLlxuICAgICAgICAgIGRyYXdlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uT05fU01BTExfU0NSRUVOKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRyYXdlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsXG4gICAgICAgICAgICB0aGlzLmRyYXdlclRvZ2dsZUhhbmRsZXJfLmJpbmQodGhpcykpO1xuXG4gICAgICAgIC8vIEFkZCBhIGNsYXNzIGlmIHRoZSBsYXlvdXQgaGFzIGEgZHJhd2VyLCBmb3IgYWx0ZXJpbmcgdGhlIGxlZnQgcGFkZGluZy5cbiAgICAgICAgLy8gQWRkcyB0aGUgSEFTX0RSQVdFUiB0byB0aGUgZWxlbWVudHMgc2luY2UgdGhpcy5oZWFkZXJfIG1heSBvciBtYXlcbiAgICAgICAgLy8gbm90IGJlIHByZXNlbnQuXG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkhBU19EUkFXRVIpO1xuXG4gICAgICAgIC8vIElmIHdlIGhhdmUgYSBmaXhlZCBoZWFkZXIsIGFkZCB0aGUgYnV0dG9uIHRvIHRoZSBoZWFkZXIgcmF0aGVyIHRoYW5cbiAgICAgICAgLy8gdGhlIGxheW91dC5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uRklYRURfSEVBREVSKSkge1xuICAgICAgICAgIHRoaXMuaGVhZGVyXy5pbnNlcnRCZWZvcmUoZHJhd2VyQnV0dG9uLCB0aGlzLmhlYWRlcl8uZmlyc3RDaGlsZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5lbGVtZW50Xy5pbnNlcnRCZWZvcmUoZHJhd2VyQnV0dG9uLCB0aGlzLmNvbnRlbnRfKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvYmZ1c2NhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIG9iZnVzY2F0b3IuY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLk9CRlVTQ0FUT1IpO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLmFwcGVuZENoaWxkKG9iZnVzY2F0b3IpO1xuICAgICAgICBvYmZ1c2NhdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyxcbiAgICAgICAgICAgIHRoaXMuZHJhd2VyVG9nZ2xlSGFuZGxlcl8uYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMub2JmdXNjYXRvcl8gPSBvYmZ1c2NhdG9yO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIGFuIGV5ZSBvbiBzY3JlZW4gc2l6ZSwgYW5kIGFkZC9yZW1vdmUgYXV4aWxpYXJ5IGNsYXNzIGZvciBzdHlsaW5nXG4gICAgICAvLyBvZiBzbWFsbCBzY3JlZW5zLlxuICAgICAgdGhpcy5zY3JlZW5TaXplTWVkaWFRdWVyeV8gPSB3aW5kb3cubWF0Y2hNZWRpYShcbiAgICAgICAgICAvKiogQHR5cGUge3N0cmluZ30gKi8gKHRoaXMuQ29uc3RhbnRfLk1BWF9XSURUSCkpO1xuICAgICAgdGhpcy5zY3JlZW5TaXplTWVkaWFRdWVyeV8uYWRkTGlzdGVuZXIodGhpcy5zY3JlZW5TaXplSGFuZGxlcl8uYmluZCh0aGlzKSk7XG4gICAgICB0aGlzLnNjcmVlblNpemVIYW5kbGVyXygpO1xuXG4gICAgICAvLyBJbml0aWFsaXplIHRhYnMsIGlmIGFueS5cbiAgICAgIGlmICh0aGlzLmhlYWRlcl8gJiYgdGhpcy50YWJCYXJfKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLkhBU19UQUJTKTtcblxuICAgICAgICB2YXIgdGFiQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRhYkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uVEFCX0NPTlRBSU5FUik7XG4gICAgICAgIHRoaXMuaGVhZGVyXy5pbnNlcnRCZWZvcmUodGFiQ29udGFpbmVyLCB0aGlzLnRhYkJhcl8pO1xuICAgICAgICB0aGlzLmhlYWRlcl8ucmVtb3ZlQ2hpbGQodGhpcy50YWJCYXJfKTtcblxuICAgICAgICB2YXIgbGVmdEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBsZWZ0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UQUJfQkFSX0JVVFRPTik7XG4gICAgICAgIGxlZnRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLlRBQl9CQVJfTEVGVF9CVVRUT04pO1xuICAgICAgICB2YXIgbGVmdEJ1dHRvbkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICAgIGxlZnRCdXR0b25JY29uLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JQ09OKTtcbiAgICAgICAgbGVmdEJ1dHRvbkljb24udGV4dENvbnRlbnQgPSB0aGlzLkNvbnN0YW50Xy5DSEVWUk9OX0xFRlQ7XG4gICAgICAgIGxlZnRCdXR0b24uYXBwZW5kQ2hpbGQobGVmdEJ1dHRvbkljb24pO1xuICAgICAgICBsZWZ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy50YWJCYXJfLnNjcm9sbExlZnQgLT0gdGhpcy5Db25zdGFudF8uVEFCX1NDUk9MTF9QSVhFTFM7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdmFyIHJpZ2h0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJpZ2h0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UQUJfQkFSX0JVVFRPTik7XG4gICAgICAgIHJpZ2h0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5UQUJfQkFSX1JJR0hUX0JVVFRPTik7XG4gICAgICAgIHZhciByaWdodEJ1dHRvbkljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICAgIHJpZ2h0QnV0dG9uSWNvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSUNPTik7XG4gICAgICAgIHJpZ2h0QnV0dG9uSWNvbi50ZXh0Q29udGVudCA9IHRoaXMuQ29uc3RhbnRfLkNIRVZST05fUklHSFQ7XG4gICAgICAgIHJpZ2h0QnV0dG9uLmFwcGVuZENoaWxkKHJpZ2h0QnV0dG9uSWNvbik7XG4gICAgICAgIHJpZ2h0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy50YWJCYXJfLnNjcm9sbExlZnQgKz0gdGhpcy5Db25zdGFudF8uVEFCX1NDUk9MTF9QSVhFTFM7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGFiQ29udGFpbmVyLmFwcGVuZENoaWxkKGxlZnRCdXR0b24pO1xuICAgICAgICB0YWJDb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy50YWJCYXJfKTtcbiAgICAgICAgdGFiQ29udGFpbmVyLmFwcGVuZENoaWxkKHJpZ2h0QnV0dG9uKTtcblxuICAgICAgICAvLyBBZGQgYW5kIHJlbW92ZSBidXR0b25zIGRlcGVuZGluZyBvbiBzY3JvbGwgcG9zaXRpb24uXG4gICAgICAgIHZhciB0YWJTY3JvbGxIYW5kbGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRoaXMudGFiQmFyXy5zY3JvbGxMZWZ0ID4gMCkge1xuICAgICAgICAgICAgbGVmdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGVmdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAodGhpcy50YWJCYXJfLnNjcm9sbExlZnQgPFxuICAgICAgICAgICAgICB0aGlzLnRhYkJhcl8uc2Nyb2xsV2lkdGggLSB0aGlzLnRhYkJhcl8ub2Zmc2V0V2lkdGgpIHtcbiAgICAgICAgICAgIHJpZ2h0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByaWdodEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0uYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLnRhYkJhcl8uYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGFiU2Nyb2xsSGFuZGxlcik7XG4gICAgICAgIHRhYlNjcm9sbEhhbmRsZXIoKTtcblxuICAgICAgICBpZiAodGhpcy50YWJCYXJfLmNsYXNzTGlzdC5jb250YWlucyh0aGlzLkNzc0NsYXNzZXNfLkpTX1JJUFBMRV9FRkZFQ1QpKSB7XG4gICAgICAgICAgdGhpcy50YWJCYXJfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5SSVBQTEVfSUdOT1JFX0VWRU5UUyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTZWxlY3QgZWxlbWVudCB0YWJzLCBkb2N1bWVudCBwYW5lbHNcbiAgICAgICAgdmFyIHRhYnMgPSB0aGlzLnRhYkJhcl8ucXVlcnlTZWxlY3RvckFsbCgnLicgKyB0aGlzLkNzc0NsYXNzZXNfLlRBQik7XG4gICAgICAgIHZhciBwYW5lbHMgPSB0aGlzLmNvbnRlbnRfLnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgdGhpcy5Dc3NDbGFzc2VzXy5QQU5FTCk7XG5cbiAgICAgICAgLy8gQ3JlYXRlIG5ldyB0YWJzIGZvciBlYWNoIHRhYiBlbGVtZW50XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFicy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIG5ldyBNYXRlcmlhbExheW91dFRhYih0YWJzW2ldLCB0YWJzLCBwYW5lbHMsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmFkZCh0aGlzLkNzc0NsYXNzZXNfLklTX1VQR1JBREVEKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBhbiBpbmRpdmlkdWFsIHRhYi5cbiAgICpcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHRhYiBUaGUgSFRNTCBlbGVtZW50IGZvciB0aGUgdGFiLlxuICAgKiBAcGFyYW0geyFBcnJheTxIVE1MRWxlbWVudD59IHRhYnMgQXJyYXkgd2l0aCBIVE1MIGVsZW1lbnRzIGZvciBhbGwgdGFicy5cbiAgICogQHBhcmFtIHshQXJyYXk8SFRNTEVsZW1lbnQ+fSBwYW5lbHMgQXJyYXkgd2l0aCBIVE1MIGVsZW1lbnRzIGZvciBhbGwgcGFuZWxzLlxuICAgKiBAcGFyYW0ge01hdGVyaWFsTGF5b3V0fSBsYXlvdXQgVGhlIE1hdGVyaWFsTGF5b3V0IG9iamVjdCB0aGF0IG93bnMgdGhlIHRhYi5cbiAgICovXG4gIGZ1bmN0aW9uIE1hdGVyaWFsTGF5b3V0VGFiKHRhYiwgdGFicywgcGFuZWxzLCBsYXlvdXQpIHtcblxuICAgIC8qKlxuICAgICAqIEF1eGlsaWFyeSBtZXRob2QgdG8gcHJvZ3JhbW1hdGljYWxseSBzZWxlY3QgYSB0YWIgaW4gdGhlIFVJLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNlbGVjdFRhYigpIHtcbiAgICAgIHZhciBocmVmID0gdGFiLmhyZWYuc3BsaXQoJyMnKVsxXTtcbiAgICAgIHZhciBwYW5lbCA9IGxheW91dC5jb250ZW50Xy5xdWVyeVNlbGVjdG9yKCcjJyArIGhyZWYpO1xuICAgICAgbGF5b3V0LnJlc2V0VGFiU3RhdGVfKHRhYnMpO1xuICAgICAgbGF5b3V0LnJlc2V0UGFuZWxTdGF0ZV8ocGFuZWxzKTtcbiAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKGxheW91dC5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpO1xuICAgICAgcGFuZWwuY2xhc3NMaXN0LmFkZChsYXlvdXQuQ3NzQ2xhc3Nlc18uSVNfQUNUSVZFKTtcbiAgICB9XG5cbiAgICBpZiAobGF5b3V0LnRhYkJhcl8uY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgICBsYXlvdXQuQ3NzQ2xhc3Nlc18uSlNfUklQUExFX0VGRkVDVCkpIHtcbiAgICAgIHZhciByaXBwbGVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICByaXBwbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChsYXlvdXQuQ3NzQ2xhc3Nlc18uUklQUExFX0NPTlRBSU5FUik7XG4gICAgICByaXBwbGVDb250YWluZXIuY2xhc3NMaXN0LmFkZChsYXlvdXQuQ3NzQ2xhc3Nlc18uSlNfUklQUExFX0VGRkVDVCk7XG4gICAgICB2YXIgcmlwcGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgcmlwcGxlLmNsYXNzTGlzdC5hZGQobGF5b3V0LkNzc0NsYXNzZXNfLlJJUFBMRSk7XG4gICAgICByaXBwbGVDb250YWluZXIuYXBwZW5kQ2hpbGQocmlwcGxlKTtcbiAgICAgIHRhYi5hcHBlbmRDaGlsZChyaXBwbGVDb250YWluZXIpO1xuICAgIH1cblxuICAgIHRhYi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIGlmICh0YWIuZ2V0QXR0cmlidXRlKCdocmVmJykuY2hhckF0KDApID09PSAnIycpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBzZWxlY3RUYWIoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRhYi5zaG93ID0gc2VsZWN0VGFiO1xuXG4gICAgdGFiLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGhyZWYgPSB0YWIuaHJlZi5zcGxpdCgnIycpWzFdO1xuICAgICAgdmFyIHBhbmVsID0gbGF5b3V0LmNvbnRlbnRfLnF1ZXJ5U2VsZWN0b3IoJyMnICsgaHJlZik7XG4gICAgICBsYXlvdXQucmVzZXRUYWJTdGF0ZV8odGFicyk7XG4gICAgICBsYXlvdXQucmVzZXRQYW5lbFN0YXRlXyhwYW5lbHMpO1xuICAgICAgdGFiLmNsYXNzTGlzdC5hZGQobGF5b3V0LkNzc0NsYXNzZXNfLklTX0FDVElWRSk7XG4gICAgICBwYW5lbC5jbGFzc0xpc3QuYWRkKGxheW91dC5Dc3NDbGFzc2VzXy5JU19BQ1RJVkUpO1xuICAgIH0pO1xuICB9XG4gIHdpbmRvd1snTWF0ZXJpYWxMYXlvdXRUYWInXSA9IE1hdGVyaWFsTGF5b3V0VGFiO1xuXG4gIC8vIFRoZSBjb21wb25lbnQgcmVnaXN0ZXJzIGl0c2VsZi4gSXQgY2FuIGFzc3VtZSBjb21wb25lbnRIYW5kbGVyIGlzIGF2YWlsYWJsZVxuICAvLyBpbiB0aGUgZ2xvYmFsIHNjb3BlLlxuICBjb21wb25lbnRIYW5kbGVyLnJlZ2lzdGVyKHtcbiAgICBjb25zdHJ1Y3RvcjogTWF0ZXJpYWxMYXlvdXQsXG4gICAgY2xhc3NBc1N0cmluZzogJ01hdGVyaWFsTGF5b3V0JyxcbiAgICBjc3NDbGFzczogJ21kbC1qcy1sYXlvdXQnXG4gIH0pO1xufSkoKTtcbiJdLCJmaWxlIjoibGF5b3V0LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

(function() {
  'use strict';

  /**
   * Class constructor for Ripple MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @constructor
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var MaterialRipple = function MaterialRipple(element) {
    this.element_ = element;

    // Initialize instance.
    this.init();
  };
  window['MaterialRipple'] = MaterialRipple;

  /**
   * Store constants in one place so they can be updated easily.
   *
   * @enum {string | number}
   * @private
   */
  MaterialRipple.prototype.Constant_ = {
    INITIAL_SCALE: 'scale(0.0001, 0.0001)',
    INITIAL_SIZE: '1px',
    INITIAL_OPACITY: '0.4',
    FINAL_OPACITY: '0',
    FINAL_SCALE: ''
  };

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  MaterialRipple.prototype.CssClasses_ = {
    RIPPLE_CENTER: 'mdl-ripple--center',
    RIPPLE_EFFECT_IGNORE_EVENTS: 'mdl-js-ripple-effect--ignore-events',
    RIPPLE: 'mdl-ripple',
    IS_ANIMATING: 'is-animating',
    IS_VISIBLE: 'is-visible'
  };

  /**
   * Handle mouse / finger down on element.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialRipple.prototype.downHandler_ = function(event) {
    if (!this.rippleElement_.style.width && !this.rippleElement_.style.height) {
      var rect = this.element_.getBoundingClientRect();
      this.boundHeight = rect.height;
      this.boundWidth = rect.width;
      this.rippleSize_ = Math.sqrt(rect.width * rect.width +
          rect.height * rect.height) * 2 + 2;
      this.rippleElement_.style.width = this.rippleSize_ + 'px';
      this.rippleElement_.style.height = this.rippleSize_ + 'px';
    }

    this.rippleElement_.classList.add(this.CssClasses_.IS_VISIBLE);

    if (event.type === 'mousedown' && this.ignoringMouseDown_) {
      this.ignoringMouseDown_ = false;
    } else {
      if (event.type === 'touchstart') {
        this.ignoringMouseDown_ = true;
      }
      var frameCount = this.getFrameCount();
      if (frameCount > 0) {
        return;
      }
      this.setFrameCount(1);
      var bound = event.currentTarget.getBoundingClientRect();
      var x;
      var y;
      // Check if we are handling a keyboard click.
      if (event.clientX === 0 && event.clientY === 0) {
        x = Math.round(bound.width / 2);
        y = Math.round(bound.height / 2);
      } else {
        var clientX = event.clientX ? event.clientX : event.touches[0].clientX;
        var clientY = event.clientY ? event.clientY : event.touches[0].clientY;
        x = Math.round(clientX - bound.left);
        y = Math.round(clientY - bound.top);
      }
      this.setRippleXY(x, y);
      this.setRippleStyles(true);
      window.requestAnimationFrame(this.animFrameHandler.bind(this));
    }
  };

  /**
   * Handle mouse / finger up on element.
   *
   * @param {Event} event The event that fired.
   * @private
   */
  MaterialRipple.prototype.upHandler_ = function(event) {
    // Don't fire for the artificial "mouseup" generated by a double-click.
    if (event && event.detail !== 2) {
      this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE);
    }
    // Allow a repaint to occur before removing this class, so the animation
    // shows for tap events, which seem to trigger a mouseup too soon after
    // mousedown.
    window.setTimeout(function() {
      this.rippleElement_.classList.remove(this.CssClasses_.IS_VISIBLE);
    }.bind(this), 0);
  };

  /**
   * Initialize element.
   */
  MaterialRipple.prototype.init = function() {
    if (this.element_) {
      var recentering =
          this.element_.classList.contains(this.CssClasses_.RIPPLE_CENTER);
      if (!this.element_.classList.contains(
          this.CssClasses_.RIPPLE_EFFECT_IGNORE_EVENTS)) {
        this.rippleElement_ = this.element_.querySelector('.' +
            this.CssClasses_.RIPPLE);
        this.frameCount_ = 0;
        this.rippleSize_ = 0;
        this.x_ = 0;
        this.y_ = 0;

        // Touch start produces a compat mouse down event, which would cause a
        // second ripples. To avoid that, we use this property to ignore the first
        // mouse down after a touch start.
        this.ignoringMouseDown_ = false;

        this.boundDownHandler = this.downHandler_.bind(this);
        this.element_.addEventListener('mousedown',
          this.boundDownHandler);
        this.element_.addEventListener('touchstart',
            this.boundDownHandler);

        this.boundUpHandler = this.upHandler_.bind(this);
        this.element_.addEventListener('mouseup', this.boundUpHandler);
        this.element_.addEventListener('mouseleave', this.boundUpHandler);
        this.element_.addEventListener('touchend', this.boundUpHandler);
        this.element_.addEventListener('blur', this.boundUpHandler);

        /**
         * Getter for frameCount_.
         * @return {number} the frame count.
         */
        this.getFrameCount = function() {
          return this.frameCount_;
        };

        /**
         * Setter for frameCount_.
         * @param {number} fC the frame count.
         */
        this.setFrameCount = function(fC) {
          this.frameCount_ = fC;
        };

        /**
         * Getter for rippleElement_.
         * @return {Element} the ripple element.
         */
        this.getRippleElement = function() {
          return this.rippleElement_;
        };

        /**
         * Sets the ripple X and Y coordinates.
         * @param  {number} newX the new X coordinate
         * @param  {number} newY the new Y coordinate
         */
        this.setRippleXY = function(newX, newY) {
          this.x_ = newX;
          this.y_ = newY;
        };

        /**
         * Sets the ripple styles.
         * @param  {boolean} start whether or not this is the start frame.
         */
        this.setRippleStyles = function(start) {
          if (this.rippleElement_ !== null) {
            var transformString;
            var scale;
            var size;
            var offset = 'translate(' + this.x_ + 'px, ' + this.y_ + 'px)';

            if (start) {
              scale = this.Constant_.INITIAL_SCALE;
              size = this.Constant_.INITIAL_SIZE;
            } else {
              scale = this.Constant_.FINAL_SCALE;
              size = this.rippleSize_ + 'px';
              if (recentering) {
                offset = 'translate(' + this.boundWidth / 2 + 'px, ' +
                  this.boundHeight / 2 + 'px)';
              }
            }

            transformString = 'translate(-50%, -50%) ' + offset + scale;

            this.rippleElement_.style.webkitTransform = transformString;
            this.rippleElement_.style.msTransform = transformString;
            this.rippleElement_.style.transform = transformString;

            if (start) {
              this.rippleElement_.classList.remove(this.CssClasses_.IS_ANIMATING);
            } else {
              this.rippleElement_.classList.add(this.CssClasses_.IS_ANIMATING);
            }
          }
        };

        /**
         * Handles an animation frame.
         */
        this.animFrameHandler = function() {
          if (this.frameCount_-- > 0) {
            window.requestAnimationFrame(this.animFrameHandler.bind(this));
          } else {
            this.setRippleStyles(false);
          }
        };
      }
    }
  };

  /**
   * Downgrade the component
   *
   * @private
   */
  MaterialRipple.prototype.mdlDowngrade_ = function() {
    this.element_.removeEventListener('mousedown',
    this.boundDownHandler);
    this.element_.removeEventListener('touchstart',
        this.boundDownHandler);

    this.element_.removeEventListener('mouseup', this.boundUpHandler);
    this.element_.removeEventListener('mouseleave', this.boundUpHandler);
    this.element_.removeEventListener('touchend', this.boundUpHandler);
    this.element_.removeEventListener('blur', this.boundUpHandler);
  };

  /**
   * Public alias for the downgrade method.
   *
   * @public
   */
  MaterialRipple.prototype.mdlDowngrade =
      MaterialRipple.prototype.mdlDowngrade_;

  MaterialRipple.prototype['mdlDowngrade'] =
      MaterialRipple.prototype.mdlDowngrade;

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
    constructor: MaterialRipple,
    classAsString: 'MaterialRipple',
    cssClass: 'mdl-js-ripple-effect',
    widget: false
  });
})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJyaXBwbGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTUgR29vZ2xlIEluYy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDbGFzcyBjb25zdHJ1Y3RvciBmb3IgUmlwcGxlIE1ETCBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudHMgTURMIGNvbXBvbmVudCBkZXNpZ24gcGF0dGVybiBkZWZpbmVkIGF0OlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGdyYWRlZC5cbiAgICovXG4gIHZhciBNYXRlcmlhbFJpcHBsZSA9IGZ1bmN0aW9uIE1hdGVyaWFsUmlwcGxlKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcblxuICAgIC8vIEluaXRpYWxpemUgaW5zdGFuY2UuXG4gICAgdGhpcy5pbml0KCk7XG4gIH07XG4gIHdpbmRvd1snTWF0ZXJpYWxSaXBwbGUnXSA9IE1hdGVyaWFsUmlwcGxlO1xuXG4gIC8qKlxuICAgKiBTdG9yZSBjb25zdGFudHMgaW4gb25lIHBsYWNlIHNvIHRoZXkgY2FuIGJlIHVwZGF0ZWQgZWFzaWx5LlxuICAgKlxuICAgKiBAZW51bSB7c3RyaW5nIHwgbnVtYmVyfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxSaXBwbGUucHJvdG90eXBlLkNvbnN0YW50XyA9IHtcbiAgICBJTklUSUFMX1NDQUxFOiAnc2NhbGUoMC4wMDAxLCAwLjAwMDEpJyxcbiAgICBJTklUSUFMX1NJWkU6ICcxcHgnLFxuICAgIElOSVRJQUxfT1BBQ0lUWTogJzAuNCcsXG4gICAgRklOQUxfT1BBQ0lUWTogJzAnLFxuICAgIEZJTkFMX1NDQUxFOiAnJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9yZSBzdHJpbmdzIGZvciBjbGFzcyBuYW1lcyBkZWZpbmVkIGJ5IHRoaXMgY29tcG9uZW50IHRoYXQgYXJlIHVzZWQgaW5cbiAgICogSmF2YVNjcmlwdC4gVGhpcyBhbGxvd3MgdXMgdG8gc2ltcGx5IGNoYW5nZSBpdCBpbiBvbmUgcGxhY2Ugc2hvdWxkIHdlXG4gICAqIGRlY2lkZSB0byBtb2RpZnkgYXQgYSBsYXRlciBkYXRlLlxuICAgKlxuICAgKiBAZW51bSB7c3RyaW5nfVxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxSaXBwbGUucHJvdG90eXBlLkNzc0NsYXNzZXNfID0ge1xuICAgIFJJUFBMRV9DRU5URVI6ICdtZGwtcmlwcGxlLS1jZW50ZXInLFxuICAgIFJJUFBMRV9FRkZFQ1RfSUdOT1JFX0VWRU5UUzogJ21kbC1qcy1yaXBwbGUtZWZmZWN0LS1pZ25vcmUtZXZlbnRzJyxcbiAgICBSSVBQTEU6ICdtZGwtcmlwcGxlJyxcbiAgICBJU19BTklNQVRJTkc6ICdpcy1hbmltYXRpbmcnLFxuICAgIElTX1ZJU0lCTEU6ICdpcy12aXNpYmxlJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGUgbW91c2UgLyBmaW5nZXIgZG93biBvbiBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgZXZlbnQgdGhhdCBmaXJlZC5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIE1hdGVyaWFsUmlwcGxlLnByb3RvdHlwZS5kb3duSGFuZGxlcl8gPSBmdW5jdGlvbihldmVudCkge1xuICAgIGlmICghdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS53aWR0aCAmJiAhdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS5oZWlnaHQpIHtcbiAgICAgIHZhciByZWN0ID0gdGhpcy5lbGVtZW50Xy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHRoaXMuYm91bmRIZWlnaHQgPSByZWN0LmhlaWdodDtcbiAgICAgIHRoaXMuYm91bmRXaWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICB0aGlzLnJpcHBsZVNpemVfID0gTWF0aC5zcXJ0KHJlY3Qud2lkdGggKiByZWN0LndpZHRoICtcbiAgICAgICAgICByZWN0LmhlaWdodCAqIHJlY3QuaGVpZ2h0KSAqIDIgKyAyO1xuICAgICAgdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS53aWR0aCA9IHRoaXMucmlwcGxlU2l6ZV8gKyAncHgnO1xuICAgICAgdGhpcy5yaXBwbGVFbGVtZW50Xy5zdHlsZS5oZWlnaHQgPSB0aGlzLnJpcHBsZVNpemVfICsgJ3B4JztcbiAgICB9XG5cbiAgICB0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKTtcblxuICAgIGlmIChldmVudC50eXBlID09PSAnbW91c2Vkb3duJyAmJiB0aGlzLmlnbm9yaW5nTW91c2VEb3duXykge1xuICAgICAgdGhpcy5pZ25vcmluZ01vdXNlRG93bl8gPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuICAgICAgICB0aGlzLmlnbm9yaW5nTW91c2VEb3duXyA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZnJhbWVDb3VudCA9IHRoaXMuZ2V0RnJhbWVDb3VudCgpO1xuICAgICAgaWYgKGZyYW1lQ291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0RnJhbWVDb3VudCgxKTtcbiAgICAgIHZhciBib3VuZCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgeDtcbiAgICAgIHZhciB5O1xuICAgICAgLy8gQ2hlY2sgaWYgd2UgYXJlIGhhbmRsaW5nIGEga2V5Ym9hcmQgY2xpY2suXG4gICAgICBpZiAoZXZlbnQuY2xpZW50WCA9PT0gMCAmJiBldmVudC5jbGllbnRZID09PSAwKSB7XG4gICAgICAgIHggPSBNYXRoLnJvdW5kKGJvdW5kLndpZHRoIC8gMik7XG4gICAgICAgIHkgPSBNYXRoLnJvdW5kKGJvdW5kLmhlaWdodCAvIDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNsaWVudFggPSBldmVudC5jbGllbnRYID8gZXZlbnQuY2xpZW50WCA6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgICAgdmFyIGNsaWVudFkgPSBldmVudC5jbGllbnRZID8gZXZlbnQuY2xpZW50WSA6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTtcbiAgICAgICAgeCA9IE1hdGgucm91bmQoY2xpZW50WCAtIGJvdW5kLmxlZnQpO1xuICAgICAgICB5ID0gTWF0aC5yb3VuZChjbGllbnRZIC0gYm91bmQudG9wKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0UmlwcGxlWFkoeCwgeSk7XG4gICAgICB0aGlzLnNldFJpcHBsZVN0eWxlcyh0cnVlKTtcbiAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltRnJhbWVIYW5kbGVyLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlIG1vdXNlIC8gZmluZ2VyIHVwIG9uIGVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBldmVudCB0aGF0IGZpcmVkLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxSaXBwbGUucHJvdG90eXBlLnVwSGFuZGxlcl8gPSBmdW5jdGlvbihldmVudCkge1xuICAgIC8vIERvbid0IGZpcmUgZm9yIHRoZSBhcnRpZmljaWFsIFwibW91c2V1cFwiIGdlbmVyYXRlZCBieSBhIGRvdWJsZS1jbGljay5cbiAgICBpZiAoZXZlbnQgJiYgZXZlbnQuZGV0YWlsICE9PSAyKSB7XG4gICAgICB0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKTtcbiAgICB9XG4gICAgLy8gQWxsb3cgYSByZXBhaW50IHRvIG9jY3VyIGJlZm9yZSByZW1vdmluZyB0aGlzIGNsYXNzLCBzbyB0aGUgYW5pbWF0aW9uXG4gICAgLy8gc2hvd3MgZm9yIHRhcCBldmVudHMsIHdoaWNoIHNlZW0gdG8gdHJpZ2dlciBhIG1vdXNldXAgdG9vIHNvb24gYWZ0ZXJcbiAgICAvLyBtb3VzZWRvd24uXG4gICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5JU19WSVNJQkxFKTtcbiAgICB9LmJpbmQodGhpcyksIDApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGVsZW1lbnQuXG4gICAqL1xuICBNYXRlcmlhbFJpcHBsZS5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnRfKSB7XG4gICAgICB2YXIgcmVjZW50ZXJpbmcgPVxuICAgICAgICAgIHRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0NFTlRFUik7XG4gICAgICBpZiAoIXRoaXMuZWxlbWVudF8uY2xhc3NMaXN0LmNvbnRhaW5zKFxuICAgICAgICAgIHRoaXMuQ3NzQ2xhc3Nlc18uUklQUExFX0VGRkVDVF9JR05PUkVfRVZFTlRTKSkge1xuICAgICAgICB0aGlzLnJpcHBsZUVsZW1lbnRfID0gdGhpcy5lbGVtZW50Xy5xdWVyeVNlbGVjdG9yKCcuJyArXG4gICAgICAgICAgICB0aGlzLkNzc0NsYXNzZXNfLlJJUFBMRSk7XG4gICAgICAgIHRoaXMuZnJhbWVDb3VudF8gPSAwO1xuICAgICAgICB0aGlzLnJpcHBsZVNpemVfID0gMDtcbiAgICAgICAgdGhpcy54XyA9IDA7XG4gICAgICAgIHRoaXMueV8gPSAwO1xuXG4gICAgICAgIC8vIFRvdWNoIHN0YXJ0IHByb2R1Y2VzIGEgY29tcGF0IG1vdXNlIGRvd24gZXZlbnQsIHdoaWNoIHdvdWxkIGNhdXNlIGFcbiAgICAgICAgLy8gc2Vjb25kIHJpcHBsZXMuIFRvIGF2b2lkIHRoYXQsIHdlIHVzZSB0aGlzIHByb3BlcnR5IHRvIGlnbm9yZSB0aGUgZmlyc3RcbiAgICAgICAgLy8gbW91c2UgZG93biBhZnRlciBhIHRvdWNoIHN0YXJ0LlxuICAgICAgICB0aGlzLmlnbm9yaW5nTW91c2VEb3duXyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYm91bmREb3duSGFuZGxlciA9IHRoaXMuZG93bkhhbmRsZXJfLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJyxcbiAgICAgICAgICB0aGlzLmJvdW5kRG93bkhhbmRsZXIpO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLFxuICAgICAgICAgICAgdGhpcy5ib3VuZERvd25IYW5kbGVyKTtcblxuICAgICAgICB0aGlzLmJvdW5kVXBIYW5kbGVyID0gdGhpcy51cEhhbmRsZXJfLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZWxlbWVudF8uYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuYm91bmRVcEhhbmRsZXIpO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLmJvdW5kVXBIYW5kbGVyKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Xy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuYm91bmRVcEhhbmRsZXIpO1xuICAgICAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLmJvdW5kVXBIYW5kbGVyKTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0dGVyIGZvciBmcmFtZUNvdW50Xy5cbiAgICAgICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgZnJhbWUgY291bnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldEZyYW1lQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mcmFtZUNvdW50XztcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0dGVyIGZvciBmcmFtZUNvdW50Xy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IGZDIHRoZSBmcmFtZSBjb3VudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0RnJhbWVDb3VudCA9IGZ1bmN0aW9uKGZDKSB7XG4gICAgICAgICAgdGhpcy5mcmFtZUNvdW50XyA9IGZDO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXR0ZXIgZm9yIHJpcHBsZUVsZW1lbnRfLlxuICAgICAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSB0aGUgcmlwcGxlIGVsZW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdldFJpcHBsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5yaXBwbGVFbGVtZW50XztcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgcmlwcGxlIFggYW5kIFkgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEBwYXJhbSAge251bWJlcn0gbmV3WCB0aGUgbmV3IFggY29vcmRpbmF0ZVxuICAgICAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IG5ld1kgdGhlIG5ldyBZIGNvb3JkaW5hdGVcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0UmlwcGxlWFkgPSBmdW5jdGlvbihuZXdYLCBuZXdZKSB7XG4gICAgICAgICAgdGhpcy54XyA9IG5ld1g7XG4gICAgICAgICAgdGhpcy55XyA9IG5ld1k7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHJpcHBsZSBzdHlsZXMuXG4gICAgICAgICAqIEBwYXJhbSAge2Jvb2xlYW59IHN0YXJ0IHdoZXRoZXIgb3Igbm90IHRoaXMgaXMgdGhlIHN0YXJ0IGZyYW1lLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRSaXBwbGVTdHlsZXMgPSBmdW5jdGlvbihzdGFydCkge1xuICAgICAgICAgIGlmICh0aGlzLnJpcHBsZUVsZW1lbnRfICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNmb3JtU3RyaW5nO1xuICAgICAgICAgICAgdmFyIHNjYWxlO1xuICAgICAgICAgICAgdmFyIHNpemU7XG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gJ3RyYW5zbGF0ZSgnICsgdGhpcy54XyArICdweCwgJyArIHRoaXMueV8gKyAncHgpJztcblxuICAgICAgICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgICAgICAgIHNjYWxlID0gdGhpcy5Db25zdGFudF8uSU5JVElBTF9TQ0FMRTtcbiAgICAgICAgICAgICAgc2l6ZSA9IHRoaXMuQ29uc3RhbnRfLklOSVRJQUxfU0laRTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjYWxlID0gdGhpcy5Db25zdGFudF8uRklOQUxfU0NBTEU7XG4gICAgICAgICAgICAgIHNpemUgPSB0aGlzLnJpcHBsZVNpemVfICsgJ3B4JztcbiAgICAgICAgICAgICAgaWYgKHJlY2VudGVyaW5nKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gJ3RyYW5zbGF0ZSgnICsgdGhpcy5ib3VuZFdpZHRoIC8gMiArICdweCwgJyArXG4gICAgICAgICAgICAgICAgICB0aGlzLmJvdW5kSGVpZ2h0IC8gMiArICdweCknO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyYW5zZm9ybVN0cmluZyA9ICd0cmFuc2xhdGUoLTUwJSwgLTUwJSkgJyArIG9mZnNldCArIHNjYWxlO1xuXG4gICAgICAgICAgICB0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9IHRyYW5zZm9ybVN0cmluZztcbiAgICAgICAgICAgIHRoaXMucmlwcGxlRWxlbWVudF8uc3R5bGUubXNUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1TdHJpbmc7XG4gICAgICAgICAgICB0aGlzLnJpcHBsZUVsZW1lbnRfLnN0eWxlLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVN0cmluZztcblxuICAgICAgICAgICAgaWYgKHN0YXJ0KSB7XG4gICAgICAgICAgICAgIHRoaXMucmlwcGxlRWxlbWVudF8uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLklTX0FOSU1BVElORyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aGlzLnJpcHBsZUVsZW1lbnRfLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5JU19BTklNQVRJTkcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSGFuZGxlcyBhbiBhbmltYXRpb24gZnJhbWUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuaW1GcmFtZUhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcy5mcmFtZUNvdW50Xy0tID4gMCkge1xuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1GcmFtZUhhbmRsZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmlwcGxlU3R5bGVzKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBEb3duZ3JhZGUgdGhlIGNvbXBvbmVudFxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgTWF0ZXJpYWxSaXBwbGUucHJvdG90eXBlLm1kbERvd25ncmFkZV8gPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsXG4gICAgdGhpcy5ib3VuZERvd25IYW5kbGVyKTtcbiAgICB0aGlzLmVsZW1lbnRfLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLFxuICAgICAgICB0aGlzLmJvdW5kRG93bkhhbmRsZXIpO1xuXG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5ib3VuZFVwSGFuZGxlcik7XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgdGhpcy5ib3VuZFVwSGFuZGxlcik7XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMuYm91bmRVcEhhbmRsZXIpO1xuICAgIHRoaXMuZWxlbWVudF8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMuYm91bmRVcEhhbmRsZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgYWxpYXMgZm9yIHRoZSBkb3duZ3JhZGUgbWV0aG9kLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBNYXRlcmlhbFJpcHBsZS5wcm90b3R5cGUubWRsRG93bmdyYWRlID1cbiAgICAgIE1hdGVyaWFsUmlwcGxlLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfO1xuXG4gIE1hdGVyaWFsUmlwcGxlLnByb3RvdHlwZVsnbWRsRG93bmdyYWRlJ10gPVxuICAgICAgTWF0ZXJpYWxSaXBwbGUucHJvdG90eXBlLm1kbERvd25ncmFkZTtcblxuICAvLyBUaGUgY29tcG9uZW50IHJlZ2lzdGVycyBpdHNlbGYuIEl0IGNhbiBhc3N1bWUgY29tcG9uZW50SGFuZGxlciBpcyBhdmFpbGFibGVcbiAgLy8gaW4gdGhlIGdsb2JhbCBzY29wZS5cbiAgY29tcG9uZW50SGFuZGxlci5yZWdpc3Rlcih7XG4gICAgY29uc3RydWN0b3I6IE1hdGVyaWFsUmlwcGxlLFxuICAgIGNsYXNzQXNTdHJpbmc6ICdNYXRlcmlhbFJpcHBsZScsXG4gICAgY3NzQ2xhc3M6ICdtZGwtanMtcmlwcGxlLWVmZmVjdCcsXG4gICAgd2lkZ2V0OiBmYWxzZVxuICB9KTtcbn0pKCk7XG4iXSwiZmlsZSI6InJpcHBsZS5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/*!
 * VERSION: 1.18.0
 * DATE: 2015-09-05
 * UPDATES AND DOCS AT: http://greensock.com
 * 
 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},r=function(t,e,i){var s,r,n=t.cycle;for(s in n)r=n[s],t[s]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},n=function(t,e,s){i.call(this,t,e,s),this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=n.prototype.render},a=1e-10,o=i._internals,l=o.isSelector,h=o.isArray,_=n.prototype=i.to({},.1,{}),u=[];n.version="1.18.0",_.constructor=n,_.kill()._gc=!1,n.killTweensOf=n.killDelayedCallsTo=i.killTweensOf,n.getTweensOf=i.getTweensOf,n.lagSmoothing=i.lagSmoothing,n.ticker=i.ticker,n.render=i.render,_.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),i.prototype.invalidate.call(this)},_.updateTo=function(t,e){var s,r=this.ratio,n=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(s in t)this.vars[s]=t[s];if(this._initted||n)if(e)this._initted=!1,n&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._time;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._time>0||n){this._initted=!1,this._init();for(var o,l=1/(1-r),h=this._firstPT;h;)o=h.s+h.c,h.c*=l,h.s=o-h.c,h=h._next}return this},_.render=function(t,e,i){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var s,r,n,l,h,_,u,c,f=this._dirty?this.totalDuration():this._totalDuration,p=this._time,m=this._totalTime,d=this._cycle,g=this._duration,v=this._rawPrevTime;if(t>=f?(this._totalTime=f,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=g,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===g&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>v||v===a)&&v!==t&&(i=!0,v>a&&(r="onReverseComplete")),this._rawPrevTime=c=!e||t||v===t?t:a)):1e-7>t?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===g&&v>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===g&&(this._initted||!this.vars.lazy||i)&&(v>=0&&(i=!0),this._rawPrevTime=c=!e||t||v===t?t:a)),this._initted||(i=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=g+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=g-this._time),this._time>g?this._time=g:0>this._time&&(this._time=0)),this._easeType?(h=this._time/g,_=this._easeType,u=this._easePower,(1===_||3===_&&h>=.5)&&(h=1-h),3===_&&(h*=2),1===u?h*=h:2===u?h*=h*h:3===u?h*=h*h*h:4===u&&(h*=h*h*h*h),this.ratio=1===_?1-h:2===_?h:.5>this._time/g?h/2:1-h/2):this.ratio=this._ease.getRatio(this._time/g)),p===this._time&&!i&&d===this._cycle)return m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")),void 0;if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=m,this._rawPrevTime=v,this._cycle=d,o.lazyTweens.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/g):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===g)&&(e||this._callback("onStart"))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,i),e||(this._totalTime!==m||s)&&this._callback("onUpdate")),this._cycle!==d&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===g&&this._rawPrevTime===a&&c!==a&&(this._rawPrevTime=0))},n.to=function(t,e,i){return new n(t,e,i)},n.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new n(t,e,i)},n.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new n(t,e,s)},n.staggerTo=n.allTo=function(t,e,a,o,_,c,f){o=o||0;var p,m,d,g,v=a.delay||0,y=[],T=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),_.apply(f||a.callbackScope||this,c||u)},x=a.cycle,w=a.startAt&&a.startAt.cycle;for(h(t)||("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=s(t))),t=t||[],0>o&&(t=s(t),t.reverse(),o*=-1),p=t.length-1,d=0;p>=d;d++){m={};for(g in a)m[g]=a[g];if(x&&r(m,t,d),w){w=m.startAt={};for(g in a.startAt)w[g]=a.startAt[g];r(m.startAt,t,d)}m.delay=v,d===p&&_&&(m.onComplete=T),y[d]=new n(t[d],e,m),v+=o}return y},n.staggerFrom=n.allFrom=function(t,e,i,s,r,a,o){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,n.staggerTo(t,e,i,s,r,a,o)},n.staggerFromTo=n.allFromTo=function(t,e,i,s,r,a,o,l){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,n.staggerTo(t,e,s,r,a,o,l)},n.delayedCall=function(t,e,i,s,r){return new n(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},n.set=function(t,e){return new n(t,0,e)},n.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var c=function(t,e){for(var s=[],r=0,n=t._first;n;)n instanceof i?s[r++]=n:(e&&(s[r++]=n),s=s.concat(c(n,e)),r=s.length),n=n._next;return s},f=n.getAllTweens=function(e){return c(t._rootTimeline,e).concat(c(t._rootFramesTimeline,e))};n.killAll=function(t,i,s,r){null==i&&(i=!0),null==s&&(s=!0);var n,a,o,l=f(0!=r),h=l.length,_=i&&s&&r;for(o=0;h>o;o++)a=l[o],(_||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},n.killChildTweensOf=function(t,e){if(null!=t){var r,a,_,u,c,f=o.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),l(t)&&(t=s(t)),h(t))for(u=t.length;--u>-1;)n.killChildTweensOf(t[u],e);else{r=[];for(_ in f)for(a=f[_].target.parentNode;a;)a===t&&(r=r.concat(f[_].tweens)),a=a.parentNode;for(c=r.length,u=0;c>u;u++)e&&r[u].totalTime(r[u].totalDuration()),r[u]._enabled(!1,!1)}}};var p=function(t,i,s,r){i=i!==!1,s=s!==!1,r=r!==!1;for(var n,a,o=f(r),l=i&&s&&r,h=o.length;--h>-1;)a=o[h],(l||a instanceof e||(n=a.target===a.vars.onComplete)&&s||i&&!n)&&a.paused(t)};return n.pauseAll=function(t,e,i){p(!0,t,e,i)},n.resumeAll=function(t,e,i){p(!1,t,e,i)},n.globalTimeScale=function(e){var s=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||a,s._startTime=r-(r-s._startTime)*s._timeScale/e,s=t._rootFramesTimeline,r=i.ticker.frame,s._startTime=r-(r-s._startTime)*s._timeScale/e,s._timeScale=t._rootTimeline._timeScale=e,e):s._timeScale},_.progress=function(t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),!1):this._time/this.duration()},_.totalProgress=function(t){return arguments.length?this.totalTime(this.totalDuration()*t,!1):this._totalTime/this.totalDuration()},_.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},_.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},_.totalDuration=function(t){return arguments.length?-1===this._repeat?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},_.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},_.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},_.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},n},!0),_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],l(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,n=i._internals,a=s._internals={},o=n.isSelector,l=n.isArray,h=n.lazyTweens,_=n.lazyRender,u=_gsScope._gsDefine.globals,c=function(t){var e,i={};for(e in t)i[e]=t[e];return i},f=function(t,e,i){var s,r,n=t.cycle;for(s in n)r=n[s],t[s]="function"==typeof r?r.call(e[i],i):r[i%r.length];delete t.cycle},p=a.pauseCallback=function(){},m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},d=s.prototype=new e;return s.version="1.18.0",d.constructor=s,d.kill()._gc=d._forcingPlayhead=d._hasPause=!1,d.to=function(t,e,s,r){var n=s.repeat&&u.TweenMax||i;return e?this.add(new n(t,e,s),r):this.set(t,s,r)},d.from=function(t,e,s,r){return this.add((s.repeat&&u.TweenMax||i).from(t,e,s),r)},d.fromTo=function(t,e,s,r,n){var a=r.repeat&&u.TweenMax||i;return e?this.add(a.fromTo(t,e,s,r),n):this.set(t,r,n)},d.staggerTo=function(t,e,r,n,a,l,h,_){var u,p,d=new s({onComplete:l,onCompleteParams:h,callbackScope:_,smoothChildTiming:this.smoothChildTiming}),g=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=m(t)),n=n||0,0>n&&(t=m(t),t.reverse(),n*=-1),p=0;t.length>p;p++)u=c(r),u.startAt&&(u.startAt=c(u.startAt),u.startAt.cycle&&f(u.startAt,t,p)),g&&f(u,t,p),d.to(t[p],e,u,p*n);return this.add(d,a)},d.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},d.staggerFromTo=function(t,e,i,s,r,n,a,o,l){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,l)},d.call=function(t,e,s,r){return this.add(i.delayedCall(0,t,e,s),r)},d.set=function(t,e,s){return s=this._parseTimeOrLabel(s,0,!0),null==e.immediateRender&&(e.immediateRender=s===this._time&&!this._paused),this.add(new i(t,0,e),s)},s.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,n,a=new s(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)n=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=n;return o.add(a,0),a},d.add=function(r,n,a,o){var h,_,u,c,f,p;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",o=o||0,h=n,_=r.length,u=0;_>u;u++)l(c=r[u])&&(c=new s({tweens:c})),this.add(c,h),"string"!=typeof c&&"function"!=typeof c&&("sequence"===a?h=c._startTime+c.totalDuration()/c._timeScale:"start"===a&&(c._startTime-=c.delay())),h+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,n);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,n),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,p=f.rawTime()>r._startTime;f._timeline;)p&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},d.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var s=e.length;--s>-1;)this.remove(e[s]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var s=this._last;return s?this._time>s._startTime+s._totalDuration/s._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},d.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,s,r){var n=i.delayedCall(0,p,s,r||this);return n.vars.onComplete=n.vars.onReverseComplete=e,n.data="isPause",this._hasPause=!0,this.add(n,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,s,r){var n;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(n=r.length;--n>-1;)r[n]instanceof t&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(n=e.indexOf("="),-1===n)return null==this._labels[e]?s?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(n-1)+"1",10)*Number(e.substr(n+1)),e=n>1?this._parseTimeOrLabel(e.substr(0,n-1),0,s):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,a,o,l,u,c=this._dirty?this.totalDuration():this._totalDuration,f=this._time,p=this._startTime,m=this._timeScale,d=this._paused;if(t>=c)this._totalTime=this._time=c,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(l=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=c+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=f)for(s=this._first;s&&t>=s._startTime&&!u;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(u=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!u;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(u=s),s=s._prev;u&&(this._time=t=u._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==f&&this._first||i||l||u){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&0!==this._time&&(e||this._callback("onStart")),this._time>=f)for(s=this._first;s&&(a=s._next,!this._paused||d);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(u===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,!this._paused||d);){if(s._active||f>=s._startTime&&!s._paused&&!s._gc){if(u===s){for(u=s._prev;u&&u.endTime()>this._time;)u.render(u._reversed?u.totalDuration()-(t-u._startTime)*u._timeScale:(t-u._startTime)*u._timeScale,e,i),u=u._prev;u=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=a}this._onUpdate&&(e||(h.length&&_(),this._callback("onUpdate"))),o&&(this._gc||(p===this._startTime||m!==this._timeScale)&&(0===this._time||c>=this.totalDuration())&&(n&&(h.length&&_(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof s&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,s,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(n[o++]=a):(s!==!1&&(n[o++]=a),t!==!1&&(n=n.concat(a.getChildren(!0,e,s)),o=n.length))),a=a._next;return n},d.getTweensOf=function(t,e){var s,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),s=i.getTweensOf(t),r=s.length;--r>-1;)(s[r].timeline===this||e&&this._contains(s[r]))&&(a[o++]=s[r]);return n&&this._enabled(!1,!0),a},d.recent=function(){return this._recent},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},d._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},d.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):n=r._startTime,0>r._startTime&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),i=r._startTime+r._totalDuration/r._timeScale,i>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},s},!0),_gsScope._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var s=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,n=e._internals,a=n.lazyTweens,o=n.lazyRender,l=new i(null,null,1,0),h=s.prototype=new t;return h.constructor=s,h.kill()._gc=!1,s.version="1.18.0",h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},h.addCallback=function(t,i,s,r){return this.add(e.delayedCall(0,t,s,r),i)},h.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),s=i.length,r=this._parseTimeOrLabel(e);--s>-1;)i[s]._startTime===r&&i[s]._enabled(!1,!1);return this},h.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},h.tweenTo=function(t,i){i=i||{};var s,r,n,a={ease:l,useFrames:this.usesFrames(),immediateRender:!1};for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),s=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,n=new e(this,s,a),a.onStart=function(){n.target.paused(!0),n.vars.time!==n.target.time()&&s===n.duration()&&n.duration(Math.abs(n.vars.time-n.target.time())/n.target._timeScale),i.onStart&&n._callback("onStart")},n},h.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var s=this.tweenTo(e,i);return s.duration(Math.abs(s.vars.time-t)/this._timeScale||.001)},h.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,l,h,_,u,c,f=this._dirty?this.totalDuration():this._totalDuration,p=this._duration,m=this._time,d=this._totalTime,g=this._startTime,v=this._timeScale,y=this._rawPrevTime,T=this._paused,x=this._cycle;if(t>=f)this._locked||(this._totalTime=f,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(n=!0,h="onComplete",_=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>y||y===r)&&y!==t&&this._first&&(_=!0,y>r&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=p,t=p+1e-4);else if(1e-7>t)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===p&&y!==r&&(y>0||0>t&&y>=0)&&!this._locked)&&(h="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(_=n=!0,h="onReverseComplete"):y>=0&&this._first&&(_=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=p||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(_=!0)}else if(0===p&&0>y&&(_=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(u=p+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!==(1&this._cycle)&&(this._time=p-this._time),this._time>p?(this._time=p,t=p+1e-4):0>this._time?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=m)for(s=this._first;s&&t>=s._startTime&&!c;)s._duration||"isPause"!==s.data||s.ratio||0===s._startTime&&0===this._rawPrevTime||(c=s),s=s._next;else for(s=this._last;s&&s._startTime>=t&&!c;)s._duration||"isPause"===s.data&&s._rawPrevTime>0&&(c=s),s=s._prev;c&&(this._time=t=c._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var w=this._yoyo&&0!==(1&x),b=w===(this._yoyo&&0!==(1&this._cycle)),P=this._totalTime,k=this._cycle,S=this._rawPrevTime,R=this._time;if(this._totalTime=x*p,x>this._cycle?w=!w:this._totalTime+=p,this._time=m,this._rawPrevTime=0===p?y-1e-4:y,this._cycle=x,this._locked=!0,m=w?0:p,this.render(m,e,0===p),e||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),b&&(m=w?p+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!T)return;this._time=R,this._totalTime=P,this._cycle=k,this._rawPrevTime=S}if(!(this._time!==m&&this._first||i||_||c))return d!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")),void 0;if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==d&&t>0&&(this._active=!0),0===d&&this.vars.onStart&&0!==this._totalTime&&(e||this._callback("onStart")),this._time>=m)for(s=this._first;s&&(l=s._next,!this._paused||T);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(c===s&&this.pause(),s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=l;else for(s=this._last;s&&(l=s._prev,!this._paused||T);){if(s._active||m>=s._startTime&&!s._paused&&!s._gc){if(c===s){for(c=s._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(t-c._startTime)*c._timeScale:(t-c._startTime)*c._timeScale,e,i),c=c._prev;c=null,this.pause()}s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)}s=l}this._onUpdate&&(e||(a.length&&o(),this._callback("onUpdate"))),h&&(this._locked||this._gc||(g===this._startTime||v!==this._timeScale)&&(0===this._time||f>=this.totalDuration())&&(n&&(a.length&&o(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[h]&&this._callback(h)))},h.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var s,r,n=[],a=this.getChildren(t,e,i),o=0,l=a.length;for(s=0;l>s;s++)r=a[s],r.isActive()&&(n[o++]=r);return n},h.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),s=i.length;for(e=0;s>e;e++)if(i[e].time>t)return i[e].name;return null},h.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(t>e[i].time)return e[i].name;return null},h.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},h.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},s},!0),function(){var t=180/Math.PI,e=[],i=[],s=[],r={},n=_gsScope._gsDefine.globals,a=function(t,e,i,s){this.a=t,this.b=e,this.c=i,this.d=s,this.da=s-t,this.ca=i-t,this.ba=e-t},o=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,i,s){var r={a:t},n={},a={},o={c:s},l=(t+e)/2,h=(e+i)/2,_=(i+s)/2,u=(l+h)/2,c=(h+_)/2,f=(c-u)/8;return r.b=l+(t-l)/4,n.b=u+f,r.c=n.a=(r.b+n.b)/2,n.c=a.a=(u+c)/2,a.b=c-f,o.b=_+(s-_)/4,a.c=o.a=(a.b+o.b)/2,[r,n,a,o]},h=function(t,r,n,a,o){var h,_,u,c,f,p,m,d,g,v,y,T,x,w=t.length-1,b=0,P=t[0].a;for(h=0;w>h;h++)f=t[b],_=f.a,u=f.d,c=t[b+1].d,o?(y=e[h],T=i[h],x=.25*(T+y)*r/(a?.5:s[h]||.5),p=u-(u-_)*(a?.5*r:0!==y?x/y:0),m=u+(c-u)*(a?.5*r:0!==T?x/T:0),d=u-(p+((m-p)*(3*y/(y+T)+.5)/4||0))):(p=u-.5*(u-_)*r,m=u+.5*(c-u)*r,d=u-(p+m)/2),p+=d,m+=d,f.c=g=p,f.b=0!==h?P:P=f.a+.6*(f.c-f.a),f.da=u-_,f.ca=g-_,f.ba=P-_,n?(v=l(_,P,g,u),t.splice(b,1,v[0],v[1],v[2],v[3]),b+=4):b++,P=m;f=t[b],f.b=P,f.c=P+.4*(f.d-P),f.da=f.d-f.a,f.ca=f.c-f.a,f.ba=P-f.a,n&&(v=l(f.a,P,f.c,f.d),t.splice(b,1,v[0],v[1],v[2],v[3]))},_=function(t,s,r,n){var o,l,h,_,u,c,f=[];if(n)for(t=[n].concat(t),l=t.length;--l>-1;)"string"==typeof(c=t[l][s])&&"="===c.charAt(1)&&(t[l][s]=n[s]+Number(c.charAt(0)+c.substr(2)));if(o=t.length-2,0>o)return f[0]=new a(t[0][s],0,0,t[-1>o?0:1][s]),f;for(l=0;o>l;l++)h=t[l][s],_=t[l+1][s],f[l]=new a(h,0,0,_),r&&(u=t[l+2][s],e[l]=(e[l]||0)+(_-h)*(_-h),i[l]=(i[l]||0)+(u-_)*(u-_));return f[l]=new a(t[l][s],0,0,t[l+1][s]),f},u=function(t,n,a,l,u,c){var f,p,m,d,g,v,y,T,x={},w=[],b=c||t[0];u="string"==typeof u?","+u+",":o,null==n&&(n=1);for(p in t[0])w.push(p);if(t.length>1){for(T=t[t.length-1],y=!0,f=w.length;--f>-1;)if(p=w[f],Math.abs(b[p]-T[p])>.05){y=!1;break}y&&(t=t.concat(),c&&t.unshift(c),t.push(t[1]),c=t[t.length-3])}for(e.length=i.length=s.length=0,f=w.length;--f>-1;)p=w[f],r[p]=-1!==u.indexOf(","+p+","),x[p]=_(t,p,r[p],c);for(f=e.length;--f>-1;)e[f]=Math.sqrt(e[f]),i[f]=Math.sqrt(i[f]);if(!l){for(f=w.length;--f>-1;)if(r[p])for(m=x[w[f]],v=m.length-1,d=0;v>d;d++)g=m[d+1].da/i[d]+m[d].da/e[d],s[d]=(s[d]||0)+g*g;for(f=s.length;--f>-1;)s[f]=Math.sqrt(s[f])}for(f=w.length,d=a?4:1;--f>-1;)p=w[f],m=x[p],h(m,n,a,l,r[p]),y&&(m.splice(0,d),m.splice(m.length-d,d));return x},c=function(t,e,i){e=e||"soft";var s,r,n,o,l,h,_,u,c,f,p,m={},d="cubic"===e?3:2,g="soft"===e,v=[];if(g&&i&&(t=[i].concat(t)),null==t||d+1>t.length)throw"invalid Bezier data";for(c in t[0])v.push(c);for(h=v.length;--h>-1;){for(c=v[h],m[c]=l=[],f=0,u=t.length,_=0;u>_;_++)s=null==i?t[_][c]:"string"==typeof(p=t[_][c])&&"="===p.charAt(1)?i[c]+Number(p.charAt(0)+p.substr(2)):Number(p),g&&_>1&&u-1>_&&(l[f++]=(s+l[f-2])/2),l[f++]=s;for(u=f-d+1,f=0,_=0;u>_;_+=d)s=l[_],r=l[_+1],n=l[_+2],o=2===d?0:l[_+3],l[f++]=p=3===d?new a(s,r,n,o):new a(s,(2*r+s)/3,(2*r+n)/3,n);l.length=f}return m},f=function(t,e,i){for(var s,r,n,a,o,l,h,_,u,c,f,p=1/i,m=t.length;--m>-1;)for(c=t[m],n=c.a,a=c.d-n,o=c.c-n,l=c.b-n,s=r=0,_=1;i>=_;_++)h=p*_,u=1-h,s=r-(r=(h*h*a+3*u*(h*o+u*l))*h),f=m*i+_-1,e[f]=(e[f]||0)+s*s},p=function(t,e){e=e>>0||6;var i,s,r,n,a=[],o=[],l=0,h=0,_=e-1,u=[],c=[];for(i in t)f(t[i],a,e);for(r=a.length,s=0;r>s;s++)l+=Math.sqrt(a[s]),n=s%e,c[n]=l,n===_&&(h+=l,n=s/e>>0,u[n]=c,o[n]=h,l=0,c=[]);return{length:h,lengths:o,segments:u}},m=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._round={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var s,r,n,a,o,l=e.values||[],h={},_=l[0],f=e.autoRotate||i.vars.orientToBezier;this._autoRotate=f?f instanceof Array?f:[["x","y","rotation",f===!0?0:Number(f)||0]]:null;
for(s in _)this._props.push(s);for(n=this._props.length;--n>-1;)s=this._props[n],this._overwriteProps.push(s),r=this._func[s]="function"==typeof t[s],h[s]=r?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(t[s]),o||h[s]!==l[0][s]&&(o=h);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?u(l,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,o):c(l,e.type,h),this._segCount=this._beziers[s].length,this._timeRes){var m=p(this._beziers,this._timeRes);this._length=m.length,this._lengths=m.lengths,this._segments=m.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(f=this._autoRotate)for(this._initialRotations=[],f[0]instanceof Array||(this._autoRotate=f=[f]),n=f.length;--n>-1;){for(a=0;3>a;a++)s=f[n][a],this._func[s]="function"==typeof t[s]?t[s.indexOf("set")||"function"!=typeof t["get"+s.substr(3)]?s:"get"+s.substr(3)]:!1;s=f[n][2],this._initialRotations[n]=this._func[s]?this._func[s].call(this._target):this._target[s]}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,s,r,n,a,o,l,h,_,u,c=this._segCount,f=this._func,p=this._target,m=e!==this._startRatio;if(this._timeRes){if(_=this._lengths,u=this._curSeg,e*=this._length,r=this._li,e>this._l2&&c-1>r){for(h=c-1;h>r&&e>=(this._l2=_[++r]););this._l1=_[r-1],this._li=r,this._curSeg=u=this._segments[r],this._s2=u[this._s1=this._si=0]}else if(this._l1>e&&r>0){for(;r>0&&(this._l1=_[--r])>=e;);0===r&&this._l1>e?this._l1=0:r++,this._l2=_[r],this._li=r,this._curSeg=u=this._segments[r],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&u.length-1>r){for(h=u.length-1;h>r&&e>=(this._s2=u[++r]););this._s1=u[r-1],this._si=r}else if(this._s1>e&&r>0){for(;r>0&&(this._s1=u[--r])>=e;);0===r&&this._s1>e?this._s1=0:r++,this._s2=u[r],this._si=r}o=(r+(e-this._s1)/(this._s2-this._s1))*this._prec}else i=0>e?0:e>=1?c-1:c*e>>0,o=(e-i*(1/c))*c;for(s=1-o,r=this._props.length;--r>-1;)n=this._props[r],a=this._beziers[n][i],l=(o*o*a.da+3*s*(o*a.ca+s*a.ba))*o+a.a,this._round[n]&&(l=Math.round(l)),f[n]?p[n](l):p[n]=l;if(this._autoRotate){var d,g,v,y,T,x,w,b=this._autoRotate;for(r=b.length;--r>-1;)n=b[r][2],x=b[r][3]||0,w=b[r][4]===!0?1:t,a=this._beziers[b[r][0]],d=this._beziers[b[r][1]],a&&d&&(a=a[i],d=d[i],g=a.a+(a.b-a.a)*o,y=a.b+(a.c-a.b)*o,g+=(y-g)*o,y+=(a.c+(a.d-a.c)*o-y)*o,v=d.a+(d.b-d.a)*o,T=d.b+(d.c-d.b)*o,v+=(T-v)*o,T+=(d.c+(d.d-d.c)*o-T)*o,l=m?Math.atan2(T-v,y-g)*w+x:this._initialRotations[r],f[n]?p[n](l):p[n]=l)}}}),d=m.prototype;m.bezierThrough=u,m.cubicToQuadratic=l,m._autoCSS=!0,m.quadraticToCubic=function(t,e,i){return new a(t,(2*e+t)/3,(2*e+i)/3,i)},m._cssRegister=function(){var t=n.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,s=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,n,a,o,l){e instanceof Array&&(e={values:e}),l=new m;var h,_,u,c=e.values,f=c.length-1,p=[],d={};if(0>f)return o;for(h=0;f>=h;h++)u=i(t,c[h],a,o,l,f!==h),p[h]=u.end;for(_ in e)d[_]=e[_];return d.values=p,o=new r(t,"bezier",0,0,u.pt,2),o.data=u,o.plugin=l,o.setRatio=s,0===d.autoRotate&&(d.autoRotate=!0),!d.autoRotate||d.autoRotate instanceof Array||(h=d.autoRotate===!0?0:Number(d.autoRotate),d.autoRotate=null!=u.end.left?[["left","top","rotation",h,!1]]:null!=u.end.x?[["x","y","rotation",h,!1]]:!1),d.autoRotate&&(a._transform||a._enableTransforms(!1),u.autoRotate=a._target._gsTransform),l._onInitTween(u.proxy,d,a._tween),o}})}},d._roundProps=function(t,e){for(var i=this._overwriteProps,s=i.length;--s>-1;)(t[i[s]]||t.bezier||t.bezierThrough)&&(this._round[i[s]]=e)},d._kill=function(t){var e,i,s=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=s.length;--i>-1;)s[i]===e&&s.splice(i,1);return this._super._kill.call(this,t)}}(),_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,s,r,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,l={},h=a.prototype=new t("css");h.constructor=a,a.version="1.18.0",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",a.defaultSmoothOrigin=!0,h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var _,u,c,f,p,m,d=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,x=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,k=/([A-Z])/g,S=/-([a-z])/gi,R=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,O=function(t,e){return e.toUpperCase()},A=/(?:Left|Right|Width)/i,C=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,M=/,(?=[^\)]*(?:\(|$))/gi,z=Math.PI/180,F=180/Math.PI,I={},E=document,N=function(t){return E.createElementNS?E.createElementNS("http://www.w3.org/1999/xhtml",t):E.createElement(t)},L=N("div"),X=N("img"),B=a._internals={_specialProps:l},j=navigator.userAgent,Y=function(){var t=j.indexOf("Android"),e=N("a");return c=-1!==j.indexOf("Safari")&&-1===j.indexOf("Chrome")&&(-1===t||Number(j.substr(t+8,1))>3),p=c&&6>Number(j.substr(j.indexOf("Version/")+8,1)),f=-1!==j.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(j)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(j))&&(m=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),U=function(t){return x.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},q=function(t){window.console&&console.log(t)},V="",G="",W=function(t,e){e=e||L;var i,s,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],s=5;--s>-1&&void 0===r[i[s]+t];);return s>=0?(G=3===s?"ms":i[s],V="-"+G.toLowerCase()+"-",G+t):null},Z=E.defaultView?E.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,i,s,r){var n;return Y||"opacity"!==e?(!s&&t.style[e]?n=t.style[e]:(i=i||Z(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(k,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==r||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:r):U(t)},$=B.convertToPixels=function(t,i,s,r,n){if("px"===r||!r)return s;if("auto"===r||!s)return 0;var o,l,h,_=A.test(i),u=t,c=L.style,f=0>s;if(f&&(s=-s),"%"===r&&-1!==i.indexOf("border"))o=s/100*(_?t.clientWidth:t.clientHeight);else{if(c.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==r&&u.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)c[_?"borderLeftWidth":"borderTopWidth"]=s+r;else{if(u=t.parentNode||E.body,l=u._gsCache,h=e.ticker.frame,l&&_&&l.time===h)return l.width*s/100;c[_?"width":"height"]=s+r}u.appendChild(L),o=parseFloat(L[_?"offsetWidth":"offsetHeight"]),u.removeChild(L),_&&"%"===r&&a.cacheWidths!==!1&&(l=u._gsCache=u._gsCache||{},l.time=h,l.width=100*(o/s)),0!==o||n||(o=$(t,i,s,r,!0))}return f?-o:o},H=B.calculateOffset=function(t,e,i){if("absolute"!==Q(t,"position",i))return 0;var s="left"===e?"Left":"Top",r=Q(t,"margin"+s,i);return t["offset"+s]-($(t,e,parseFloat(r),r.replace(T,""))||0)},K=function(t,e){var i,s,r,n={};if(e=e||Z(t,null))if(i=e.length)for(;--i>-1;)r=e[i],(-1===r.indexOf("-transform")||ke===r)&&(n[r.replace(S,O)]=e.getPropertyValue(r));else for(i in e)(-1===i.indexOf("Transform")||Pe===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(S,O)]=e[i]);return Y||(n.opacity=U(t)),s=Ne(t,e,!1),n.rotation=s.rotation,n.skewX=s.skewX,n.scaleX=s.scaleX,n.scaleY=s.scaleY,n.x=s.x,n.y=s.y,Re&&(n.z=s.z,n.rotationX=s.rotationX,n.rotationY=s.rotationY,n.scaleZ=s.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,s,r){var n,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||r&&r[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(l[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:H(t,a),void 0!==h[a]&&(o=new pe(h,a,h[a],o)));if(s)for(a in s)"className"!==a&&(l[a]=s[a]);return{difs:l,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var s=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=te[e],n=r.length;for(i=i||Z(t,null);--n>-1;)s-=parseFloat(Q(t,"padding"+r[n],i,!0))||0,s-=parseFloat(Q(t,"border"+r[n]+"Width",i,!0))||0;return s},se=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i=t.split(" "),s=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],r=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==r?r="center"===s?"50%":"0":"center"===r&&(r="50%"),("center"===s||isNaN(parseFloat(s))&&-1===(s+"").indexOf("="))&&(s="50%"),t=s+" "+r+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==s.indexOf("%"),e.oyp=-1!==r.indexOf("%"),e.oxr="="===s.charAt(1),e.oyr="="===r.charAt(1),e.ox=parseFloat(s.replace(y,"")),e.oy=parseFloat(r.replace(y,"")),e.v=t),e||t},re=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,s){var r,n,a,o,l,h=1e-6;return null==t?o=e:"number"==typeof t?o=t:(r=360,n=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:F)-(l?0:e),n.length&&(s&&(s[i]=e+a),-1!==t.indexOf("short")&&(a%=r,a!==a%(r/2)&&(a=0>a?a+r:a-r)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*r)%r-(0|a/r)*r:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*r)%r-(0|a/r)*r)),o=e+a),h>o&&o>-h&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},he=a.parseColor=function(t,e){var i,s,r,n,a,o,l,h,_,u,c;if(t)if("number"==typeof t)i=[t>>16,255&t>>8,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t])i=oe[t];else if("#"===t.charAt(0))4===t.length&&(s=t.charAt(1),r=t.charAt(2),n=t.charAt(3),t="#"+s+s+r+r+n+n),t=parseInt(t.substr(1),16),i=[t>>16,255&t>>8,255&t];else if("hsl"===t.substr(0,3))if(i=c=t.match(d),e){if(-1!==t.indexOf("="))return t.match(g)}else a=Number(i[0])%360/360,o=Number(i[1])/100,l=Number(i[2])/100,r=.5>=l?l*(o+1):l+o-l*o,s=2*l-r,i.length>3&&(i[3]=Number(t[3])),i[0]=le(a+1/3,s,r),i[1]=le(a,s,r),i[2]=le(a-1/3,s,r);else i=t.match(d)||oe.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=oe.black;return e&&!c&&(s=i[0]/255,r=i[1]/255,n=i[2]/255,h=Math.max(s,r,n),_=Math.min(s,r,n),l=(h+_)/2,h===_?a=o=0:(u=h-_,o=l>.5?u/(2-h-_):u/(h+_),a=h===s?(r-n)/u+(n>r?6:0):h===r?(n-s)/u+2:(s-r)/u+4,a*=60),i[0]=0|a+.5,i[1]=0|100*o+.5,i[2]=0|100*l+.5),i},_e=function(t,e){var i,s,r,n=t.match(ue)||[],a=0,o=n.length?"":t;for(i=0;n.length>i;i++)s=n[i],r=t.substr(a,t.indexOf(s,a)-a),a+=r.length+s.length,s=he(s,e),3===s.length&&s.push(1),o+=r+(e?"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+s[3]:"rgba("+s.join(","))+")";return o},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in oe)ue+="|"+h+"\\b";ue=RegExp(ue+")","gi"),a.colorStringFilter=function(t){var e,i=t[0]+t[1];ue.lastIndex=0,ue.test(i)&&(e=-1!==i.indexOf("hsl(")||-1!==i.indexOf("hsla("),t[0]=_e(t[0],e),t[1]=_e(t[1],e))},e.defaultStringFilter||(e.defaultStringFilter=a.colorStringFilter);var ce=function(t,e,i,s){if(null==t)return function(t){return t};var r,n=e?(t.match(ue)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",_=a.length,u=_>0?a[0].replace(d,""):"";return _?r=e?function(t){var e,c,f,p;if("number"==typeof t)t+=u;else if(s&&M.test(t)){for(p=t.replace(M,"|").split("|"),f=0;p.length>f;f++)p[f]=r(p[f]);return p.join(",")}if(e=(t.match(ue)||[n])[0],c=t.split(e).join("").match(v)||[],f=c.length,_>f--)for(;_>++f;)c[f]=i?c[0|(f-1)/2]:a[f];return o+c.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,c;if("number"==typeof t)t+=u;else if(s&&M.test(t)){for(n=t.replace(M,"|").split("|"),c=0;n.length>c;c++)n[c]=r(n[c]);return n.join(",")}if(e=t.match(v)||[],c=e.length,_>c--)for(;_>++c;)e[c]=i?e[0|(c-1)/2]:a[c];return o+e.join(h)+l}:function(t){return t}},fe=function(t){return t=t.split(","),function(e,i,s,r,n,a,o){var l,h=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return r.parse(e,o,n,a)}},pe=(B._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,s,r,n=this.data,a=n.proxy,o=n.firstMPT,l=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,s=1;i.l>s;s++)r+=i["xn"+s]+i["xs"+(s+1)];i.e=r}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,s,r){this.t=t,this.p=e,this.v=i,this.r=r,s&&(s._prev=this,this._next=s)}),me=(B._parseToProxy=function(t,e,i,s,r,n){var a,o,l,h,_,u=s,c={},f={},p=i._transform,m=I;for(i._transform=null,I=e,s=_=i.parse(t,e,s,r),I=m,n&&(i._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));s&&s!==u;){if(1>=s.type&&(o=s.p,f[o]=s.s+s.c,c[o]=s.s,n||(h=new pe(s,"s",o,h,s.r),s.c=0),1===s.type))for(a=s.l;--a>0;)l="xn"+a,o=s.p+"_"+l,f[o]=s.data[l],c[o]=s[l],n||(h=new pe(s,l,o,h,s.rxp[l]));s=s._next}return{proxy:c,end:f,firstMPT:h,pt:_}},B.CSSPropTween=function(t,e,s,r,a,o,l,h,_,u,c){this.t=t,this.p=e,this.s=s,this.c=r,this.n=l||e,t instanceof me||n.push(this.n),this.r=h,this.type=o||0,_&&(this.pr=_,i=!0),this.b=void 0===u?s:u,this.e=void 0===c?s+r:c,a&&(this._next=a,a._prev=this)}),de=function(t,e,i,s,r,n){var a=new me(t,e,i,s-i,r,-1,n);return a.b=i,a.e=a.xs0=s,a},ge=a.parseComplex=function(t,e,i,s,r,n,a,o,l,h){i=i||n||"",a=new me(t,e,0,0,a,h?2:1,null,!1,o,i,s),s+="";var u,c,f,p,m,v,y,T,x,w,b,P,k,S=i.split(", ").join(",").split(" "),R=s.split(", ").join(",").split(" "),O=S.length,A=_!==!1;for((-1!==s.indexOf(",")||-1!==i.indexOf(","))&&(S=S.join(" ").replace(M,", ").split(" "),R=R.join(" ").replace(M,", ").split(" "),O=S.length),O!==R.length&&(S=(n||"").split(" "),O=S.length),a.plugin=l,a.setRatio=h,ue.lastIndex=0,u=0;O>u;u++)if(p=S[u],m=R[u],T=parseFloat(p),T||0===T)a.appendXtra("",T,re(m,T),m.replace(g,""),A&&-1!==m.indexOf("px"),!0);else if(r&&ue.test(p))P=","===m.charAt(m.length-1)?"),":")",k=-1!==m.indexOf("hsl")&&Y,p=he(p,k),m=he(m,k),x=p.length+m.length>6,x&&!Y&&0===m[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(R[u]).join("transparent")):(Y||(x=!1),k?a.appendXtra(x?"hsla(":"hsl(",p[0],re(m[0],p[0]),",",!1,!0).appendXtra("",p[1],re(m[1],p[1]),"%,",!1).appendXtra("",p[2],re(m[2],p[2]),x?"%,":"%"+P,!1):a.appendXtra(x?"rgba(":"rgb(",p[0],m[0]-p[0],",",!0,!0).appendXtra("",p[1],m[1]-p[1],",",!0).appendXtra("",p[2],m[2]-p[2],x?",":P,!0),x&&(p=4>p.length?1:p[3],a.appendXtra("",p,(4>m.length?1:m[3])-p,P,!1))),ue.lastIndex=0;else if(v=p.match(d)){if(y=m.match(g),!y||y.length!==v.length)return a;for(f=0,c=0;v.length>c;c++)b=v[c],w=p.indexOf(b,f),a.appendXtra(p.substr(f,w-f),Number(b),re(y[c],b),"",A&&"px"===p.substr(w+b.length,2),0===c),f=w+b.length;a["xs"+a.l]+=p.substr(f)}else a["xs"+a.l]+=a.l?" "+p:p;if(-1!==s.indexOf("=")&&a.data){for(P=a.xs0+a.data.s,u=1;a.l>u;u++)P+=a["xs"+u]+a.data["xn"+u];a.e=P+a["xs"+u]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},ve=9;for(h=me.prototype,h.l=h.pr=0;--ve>0;)h["xn"+ve]=0,h["xs"+ve]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,s,r,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=s||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=r,a["xn"+o]=e,a.plugin||(a.xfirst=new me(a,"xn"+o,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+o]+=e+(s||""),a)};var ye=function(t,e){e=e||{},this.p=e.prefix?W(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||ce(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Te=B._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var s,r,n=t.split(","),a=e.defaultValue;for(i=i||[a],s=0;n.length>s;s++)e.prefix=0===s&&e.prefix,e.defaultValue=i[s]||a,r=new ye(n[s],e)},xe=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Te(t,{parser:function(t,i,s,r,n,a,h){var _=o.com.greensock.plugins[e];return _?(_._cssRegister(),l[s].parse(t,i,s,r,n,a,h)):(q("Error: "+e+" js file not loaded."),n)}})}};h=ye.prototype,h.parseComplex=function(t,e,i,s,r,n){var a,o,l,h,_,u,c=this.keyword;if(this.multi&&(M.test(i)||M.test(e)?(o=e.replace(M,"|").split("|"),l=i.replace(M,"|").split("|")):c&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;h>a;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,c&&(_=e.indexOf(c),u=i.indexOf(c),_!==u&&(-1===u?o[a]=o[a].split(c).join(""):-1===_&&(o[a]+=" "+c)));e=o.join(", "),i=l.join(", ")}return ge(t,this.p,e,i,this.clrs,this.dflt,s,this.pr,r,n)},h.parse=function(t,e,i,s,n,a){return this.parseComplex(t.style,this.format(Q(t,this.p,r,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){Te(t,{parser:function(t,s,r,n,a,o){var l=new me(t,r,0,0,a,2,r,!1,i);return l.plugin=o,l.setRatio=e(t,s,n._tween,r),l},priority:i})},a.useSVGTransformAttr=c||f;var we,be="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Pe=W("transform"),ke=V+"transform",Se=W("transformOrigin"),Re=null!==W("perspective"),Oe=B.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Re?a.defaultForce3D||"auto":!1},Ae=window.SVGElement,Ce=function(t,e,i){var s,r=E.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(s in i)r.setAttributeNS(null,s.replace(n,"$1-$2").toLowerCase(),i[s]);return e.appendChild(r),r},De=E.documentElement,Me=function(){var t,e,i,s=m||/Android/i.test(j)&&!window.chrome;return E.createElementNS&&!s&&(t=Ce("svg",De),e=Ce("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Se]="50% 50%",e.style[Pe]="scaleX(0.5)",s=i===e.getBoundingClientRect().width&&!(f&&Re),De.removeChild(t)),s}(),ze=function(t,e,i,s,r){var n,o,l,h,_,u,c,f,p,m,d,g,v,y,T=t._gsTransform,x=Ee(t,!0);T&&(v=T.xOrigin,y=T.yOrigin),(!s||2>(n=s.split(" ")).length)&&(c=t.getBBox(),e=se(e).split(" "),n=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*c.width:parseFloat(e[0]))+c.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*c.height:parseFloat(e[1]))+c.y]),i.xOrigin=h=parseFloat(n[0]),i.yOrigin=_=parseFloat(n[1]),s&&x!==Ie&&(u=x[0],c=x[1],f=x[2],p=x[3],m=x[4],d=x[5],g=u*p-c*f,o=h*(p/g)+_*(-f/g)+(f*d-p*m)/g,l=h*(-c/g)+_*(u/g)-(u*d-c*m)/g,h=i.xOrigin=n[0]=o,_=i.yOrigin=n[1]=l),T&&(r||r!==!1&&a.defaultSmoothOrigin!==!1?(o=h-v,l=_-y,T.xOffset+=o*x[0]+l*x[2]-o,T.yOffset+=o*x[1]+l*x[3]-l):T.xOffset=T.yOffset=0),t.setAttribute("data-svg-origin",n.join(" "))},Fe=function(t){return!!(Ae&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM))},Ie=[1,0,0,1,0,0],Ee=function(t,e){var i,s,r,n,a,o=t._gsTransform||new Oe,l=1e5;if(Pe?s=Q(t,ke,null,!0):t.currentStyle&&(s=t.currentStyle.filter.match(C),s=s&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),o.x||0,o.y||0].join(","):""),i=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,(o.svg||t.getBBox&&Fe(t))&&(i&&-1!==(t.style[Pe]+"").indexOf("matrix")&&(s=t.style[Pe],i=0),r=t.getAttribute("transform"),i&&r&&(-1!==r.indexOf("matrix")?(s=r,i=0):-1!==r.indexOf("translate")&&(s="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Ie;for(r=(s||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ve=r.length;--ve>-1;)n=Number(r[ve]),r[ve]=(a=n-(n|=0))?(0|a*l+(0>a?-.5:.5))/l+n:n;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},Ne=B.getTransform=function(t,i,s,n){if(t._gsTransform&&s&&!n)return t._gsTransform;var o,l,h,_,u,c,f=s?t._gsTransform||new Oe:new Oe,p=0>f.scaleX,m=2e-5,d=1e5,g=Re?parseFloat(Q(t,Se,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,v=parseFloat(a.defaultTransformPerspective)||0;if(f.svg=!(!t.getBBox||!Fe(t)),f.svg&&(ze(t,Q(t,Se,r,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),we=a.useSVGTransformAttr||Me),o=Ee(t),o!==Ie){if(16===o.length){var y,T,x,w,b,P=o[0],k=o[1],S=o[2],R=o[3],O=o[4],A=o[5],C=o[6],D=o[7],M=o[8],z=o[9],I=o[10],E=o[12],N=o[13],L=o[14],X=o[11],B=Math.atan2(C,I);f.zOrigin&&(L=-f.zOrigin,E=M*L-o[12],N=z*L-o[13],L=I*L+f.zOrigin-o[14]),f.rotationX=B*F,B&&(w=Math.cos(-B),b=Math.sin(-B),y=O*w+M*b,T=A*w+z*b,x=C*w+I*b,M=O*-b+M*w,z=A*-b+z*w,I=C*-b+I*w,X=D*-b+X*w,O=y,A=T,C=x),B=Math.atan2(M,I),f.rotationY=B*F,B&&(w=Math.cos(-B),b=Math.sin(-B),y=P*w-M*b,T=k*w-z*b,x=S*w-I*b,z=k*b+z*w,I=S*b+I*w,X=R*b+X*w,P=y,k=T,S=x),B=Math.atan2(k,P),f.rotation=B*F,B&&(w=Math.cos(-B),b=Math.sin(-B),P=P*w+O*b,T=k*w+A*b,A=k*-b+A*w,C=S*-b+C*w,k=T),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY+=180),f.scaleX=(0|Math.sqrt(P*P+k*k)*d+.5)/d,f.scaleY=(0|Math.sqrt(A*A+z*z)*d+.5)/d,f.scaleZ=(0|Math.sqrt(C*C+I*I)*d+.5)/d,f.skewX=0,f.perspective=X?1/(0>X?-X:X):0,f.x=E,f.y=N,f.z=L,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*P-f.yOrigin*O),f.y-=f.yOrigin-(f.yOrigin*k-f.xOrigin*A))}else if(!(Re&&!n&&o.length&&f.x===o[4]&&f.y===o[5]&&(f.rotationX||f.rotationY)||void 0!==f.x&&"none"===Q(t,"display",i))){var j=o.length>=6,Y=j?o[0]:1,U=o[1]||0,q=o[2]||0,V=j?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,h=Math.sqrt(Y*Y+U*U),_=Math.sqrt(V*V+q*q),u=Y||U?Math.atan2(U,Y)*F:f.rotation||0,c=q||V?Math.atan2(q,V)*F+u:f.skewX||0,Math.abs(c)>90&&270>Math.abs(c)&&(p?(h*=-1,c+=0>=u?180:-180,u+=0>=u?180:-180):(_*=-1,c+=0>=c?180:-180)),f.scaleX=h,f.scaleY=_,f.rotation=u,f.skewX=c,Re&&(f.rotationX=f.rotationY=f.z=0,f.perspective=v,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*Y+f.yOrigin*q),f.y-=f.yOrigin-(f.xOrigin*U+f.yOrigin*V))}f.zOrigin=g;for(l in f)m>f[l]&&f[l]>-m&&(f[l]=0)}return s&&(t._gsTransform=f,f.svg&&(we&&t.style[Pe]?e.delayedCall(.001,function(){je(t.style,Pe)}):!we&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Le=function(t){var e,i,s=this.data,r=-s.rotation*z,n=r+s.skewX*z,a=1e5,o=(0|Math.cos(r)*s.scaleX*a)/a,l=(0|Math.sin(r)*s.scaleX*a)/a,h=(0|Math.sin(n)*-s.scaleY*a)/a,_=(0|Math.cos(n)*s.scaleY*a)/a,u=this.t.style,c=this.t.currentStyle;if(c){i=l,l=-h,h=-i,e=c.filter,u.filter="";var f,p,d=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==c.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+_,w=s.x+d*s.xPercent/100,b=s.y+g*s.yPercent/100;if(null!=s.ox&&(f=(s.oxp?.01*d*s.ox:s.ox)-d/2,p=(s.oyp?.01*g*s.oy:s.oy)-g/2,w+=f-(f*o+p*l),b+=p-(f*h+p*_)),v?(f=d/2,p=g/2,y+=", Dx="+(f-(f*o+p*l)+w)+", Dy="+(p-(f*h+p*_)+b)+")"):y+=", sizingMethod='auto expand')",u.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(D,y):y+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===_&&(v&&-1===y.indexOf("Dx=0, Dy=0")||x.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&u.removeAttribute("filter")),!v){var P,k,S,R=8>m?1:-1;for(f=s.ieOffsetX||0,p=s.ieOffsetY||0,s.ieOffsetX=Math.round((d-((0>o?-o:o)*d+(0>l?-l:l)*g))/2+w),s.ieOffsetY=Math.round((g-((0>_?-_:_)*g+(0>h?-h:h)*d))/2+b),ve=0;4>ve;ve++)k=ee[ve],P=c[k],i=-1!==P.indexOf("px")?parseFloat(P):$(this.t,k,parseFloat(P),P.replace(T,""))||0,S=i!==s[k]?2>ve?-s.ieOffsetX:-s.ieOffsetY:2>ve?f-s.ieOffsetX:p-s.ieOffsetY,u[k]=(s[k]=Math.round(i-S*(0===ve||2===ve?1:R)))+"px"}}},Xe=B.set3DTransformRatio=B.setTransformRatio=function(t){var e,i,s,r,n,a,o,l,h,_,u,c,p,m,d,g,v,y,T,x,w,b,P,k=this.data,S=this.t.style,R=k.rotation,O=k.rotationX,A=k.rotationY,C=k.scaleX,D=k.scaleY,M=k.scaleZ,F=k.x,I=k.y,E=k.z,N=k.svg,L=k.perspective,X=k.force3D;if(!(((1!==t&&0!==t||"auto"!==X||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&X||E||L||A||O)&&(!we||!N)&&Re))return R||k.skewX||N?(R*=z,b=k.skewX*z,P=1e5,e=Math.cos(R)*C,r=Math.sin(R)*C,i=Math.sin(R-b)*-D,n=Math.cos(R-b)*D,b&&"simple"===k.skewType&&(v=Math.tan(b),v=Math.sqrt(1+v*v),i*=v,n*=v,k.skewY&&(e*=v,r*=v)),N&&(F+=k.xOrigin-(k.xOrigin*e+k.yOrigin*i)+k.xOffset,I+=k.yOrigin-(k.xOrigin*r+k.yOrigin*n)+k.yOffset,we&&(k.xPercent||k.yPercent)&&(m=this.t.getBBox(),F+=.01*k.xPercent*m.width,I+=.01*k.yPercent*m.height),m=1e-6,m>F&&F>-m&&(F=0),m>I&&I>-m&&(I=0)),T=(0|e*P)/P+","+(0|r*P)/P+","+(0|i*P)/P+","+(0|n*P)/P+","+F+","+I+")",N&&we?this.t.setAttribute("transform","matrix("+T):S[Pe]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+T):S[Pe]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix(":"matrix(")+C+",0,0,"+D+","+F+","+I+")",void 0;if(f&&(m=1e-4,m>C&&C>-m&&(C=M=2e-5),m>D&&D>-m&&(D=M=2e-5),!L||k.z||k.rotationX||k.rotationY||(L=0)),R||k.skewX)R*=z,d=e=Math.cos(R),g=r=Math.sin(R),k.skewX&&(R-=k.skewX*z,d=Math.cos(R),g=Math.sin(R),"simple"===k.skewType&&(v=Math.tan(k.skewX*z),v=Math.sqrt(1+v*v),d*=v,g*=v,k.skewY&&(e*=v,r*=v))),i=-g,n=d;else{if(!(A||O||1!==M||L||N))return S[Pe]=(k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) translate3d(":"translate3d(")+F+"px,"+I+"px,"+E+"px)"+(1!==C||1!==D?" scale("+C+","+D+")":""),void 0;e=n=1,i=r=0}h=1,s=a=o=l=_=u=0,c=L?-1/L:0,p=k.zOrigin,m=1e-6,x=",",w="0",R=A*z,R&&(d=Math.cos(R),g=Math.sin(R),o=-g,_=c*-g,s=e*g,a=r*g,h=d,c*=d,e*=d,r*=d),R=O*z,R&&(d=Math.cos(R),g=Math.sin(R),v=i*d+s*g,y=n*d+a*g,l=h*g,u=c*g,s=i*-g+s*d,a=n*-g+a*d,h*=d,c*=d,i=v,n=y),1!==M&&(s*=M,a*=M,h*=M,c*=M),1!==D&&(i*=D,n*=D,l*=D,u*=D),1!==C&&(e*=C,r*=C,o*=C,_*=C),(p||N)&&(p&&(F+=s*-p,I+=a*-p,E+=h*-p+p),N&&(F+=k.xOrigin-(k.xOrigin*e+k.yOrigin*i)+k.xOffset,I+=k.yOrigin-(k.xOrigin*r+k.yOrigin*n)+k.yOffset),m>F&&F>-m&&(F=w),m>I&&I>-m&&(I=w),m>E&&E>-m&&(E=0)),T=k.xPercent||k.yPercent?"translate("+k.xPercent+"%,"+k.yPercent+"%) matrix3d(":"matrix3d(",T+=(m>e&&e>-m?w:e)+x+(m>r&&r>-m?w:r)+x+(m>o&&o>-m?w:o),T+=x+(m>_&&_>-m?w:_)+x+(m>i&&i>-m?w:i)+x+(m>n&&n>-m?w:n),O||A?(T+=x+(m>l&&l>-m?w:l)+x+(m>u&&u>-m?w:u)+x+(m>s&&s>-m?w:s),T+=x+(m>a&&a>-m?w:a)+x+(m>h&&h>-m?w:h)+x+(m>c&&c>-m?w:c)+x):T+=",0,0,0,0,1,0,",T+=F+x+I+x+E+x+(L?1+-E/L:1)+")",S[Pe]=T};h=Oe.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,Te("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,s,n,o,l){if(s._lastParsedTransform===l)return n;s._lastParsedTransform=l;var h,_,u,c,f,p,m,d,g,v,y=t._gsTransform,T=t.style,x=1e-6,w=be.length,b=l,P={},k="transformOrigin";if(l.display?(c=Q(t,"display"),T.display="block",h=Ne(t,r,!0,l.parseTransform),T.display=c):h=Ne(t,r,!0,l.parseTransform),s._transform=h,"string"==typeof b.transform&&Pe)c=L.style,c[Pe]=b.transform,c.display="block",c.position="absolute",E.body.appendChild(L),_=Ne(L,null,!1),E.body.removeChild(L),_.perspective||(_.perspective=h.perspective),null!=b.xPercent&&(_.xPercent=ne(b.xPercent,h.xPercent)),null!=b.yPercent&&(_.yPercent=ne(b.yPercent,h.yPercent));else if("object"==typeof b){if(_={scaleX:ne(null!=b.scaleX?b.scaleX:b.scale,h.scaleX),scaleY:ne(null!=b.scaleY?b.scaleY:b.scale,h.scaleY),scaleZ:ne(b.scaleZ,h.scaleZ),x:ne(b.x,h.x),y:ne(b.y,h.y),z:ne(b.z,h.z),xPercent:ne(b.xPercent,h.xPercent),yPercent:ne(b.yPercent,h.yPercent),perspective:ne(b.transformPerspective,h.perspective)},d=b.directionalRotation,null!=d)if("object"==typeof d)for(c in d)b[c]=d[c];else b.rotation=d;"string"==typeof b.x&&-1!==b.x.indexOf("%")&&(_.x=0,_.xPercent=ne(b.x,h.xPercent)),"string"==typeof b.y&&-1!==b.y.indexOf("%")&&(_.y=0,_.yPercent=ne(b.y,h.yPercent)),_.rotation=ae("rotation"in b?b.rotation:"shortRotation"in b?b.shortRotation+"_short":"rotationZ"in b?b.rotationZ:h.rotation,h.rotation,"rotation",P),Re&&(_.rotationX=ae("rotationX"in b?b.rotationX:"shortRotationX"in b?b.shortRotationX+"_short":h.rotationX||0,h.rotationX,"rotationX",P),_.rotationY=ae("rotationY"in b?b.rotationY:"shortRotationY"in b?b.shortRotationY+"_short":h.rotationY||0,h.rotationY,"rotationY",P)),_.skewX=null==b.skewX?h.skewX:ae(b.skewX,h.skewX),_.skewY=null==b.skewY?h.skewY:ae(b.skewY,h.skewY),(u=_.skewY-h.skewY)&&(_.skewX+=u,_.rotation+=u)}for(Re&&null!=b.force3D&&(h.force3D=b.force3D,m=!0),h.skewType=b.skewType||h.skewType||a.defaultSkewType,p=h.force3D||h.z||h.rotationX||h.rotationY||_.z||_.rotationX||_.rotationY||_.perspective,p||null==b.scale||(_.scaleZ=1);--w>-1;)i=be[w],f=_[i]-h[i],(f>x||-x>f||null!=b[i]||null!=I[i])&&(m=!0,n=new me(h,i,h[i],f,n),i in P&&(n.e=P[i]),n.xs0=0,n.plugin=o,s._overwriteProps.push(n.n));return f=b.transformOrigin,h.svg&&(f||b.svgOrigin)&&(g=h.xOffset,v=h.yOffset,ze(t,se(f),_,b.svgOrigin,b.smoothOrigin),n=de(h,"xOrigin",(y?h:_).xOrigin,_.xOrigin,n,k),n=de(h,"yOrigin",(y?h:_).yOrigin,_.yOrigin,n,k),(g!==h.xOffset||v!==h.yOffset)&&(n=de(h,"xOffset",y?g:h.xOffset,h.xOffset,n,k),n=de(h,"yOffset",y?v:h.yOffset,h.yOffset,n,k)),f=we?null:"0px 0px"),(f||Re&&p&&h.zOrigin)&&(Pe?(m=!0,i=Se,f=(f||Q(t,i,r,!1,"50% 50%"))+"",n=new me(T,i,0,0,n,-1,k),n.b=T[i],n.plugin=o,Re?(c=h.zOrigin,f=f.split(" "),h.zOrigin=(f.length>2&&(0===c||"0px"!==f[2])?parseFloat(f[2]):c)||0,n.xs0=n.e=f[0]+" "+(f[1]||"50%")+" 0px",n=new me(h,"zOrigin",0,0,n,-1,n.n),n.b=c,n.xs0=n.e=h.zOrigin):n.xs0=n.e=f):se(f+"",h)),m&&(s._transformType=h.svg&&we||!p&&3!==this._transformType?2:3),n},prefix:!0}),Te("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Te("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,l,h,_,u,c,f,p,m,d,g,v,y,T,x,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(m=parseFloat(t.offsetWidth),d=parseFloat(t.offsetHeight),o=e.split(" "),l=0;b.length>l;l++)this.p.indexOf("border")&&(b[l]=W(b[l])),u=_=Q(t,b[l],r,!1,"0px"),-1!==u.indexOf(" ")&&(_=u.split(" "),u=_[0],_=_[1]),c=h=o[l],f=parseFloat(u),v=u.substr((f+"").length),y="="===c.charAt(1),y?(p=parseInt(c.charAt(0)+"1",10),c=c.substr(2),p*=parseFloat(c),g=c.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(c),g=c.substr((p+"").length)),""===g&&(g=s[i]||v),g!==v&&(T=$(t,"borderLeft",f,v),x=$(t,"borderTop",f,v),"%"===g?(u=100*(T/m)+"%",_=100*(x/d)+"%"):"em"===g?(w=$(t,"borderLeft",1,"em"),u=T/w+"em",_=x/w+"em"):(u=T+"px",_=x+"px"),y&&(c=parseFloat(u)+p+g,h=parseFloat(_)+p+g)),a=ge(P,b[l],u+" "+_,c+" "+h,!1,"0px",a);return a},prefix:!0,formatter:ce("0px 0px 0px 0px",!1,!0)}),Te("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,s,n,a){var o,l,h,_,u,c,f="background-position",p=r||Z(t,null),d=this.format((p?m?p.getPropertyValue(f+"-x")+" "+p.getPropertyValue(f+"-y"):p.getPropertyValue(f):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);
if(-1!==d.indexOf("%")!=(-1!==g.indexOf("%"))&&(c=Q(t,"backgroundImage").replace(R,""),c&&"none"!==c)){for(o=d.split(" "),l=g.split(" "),X.setAttribute("src",c),h=2;--h>-1;)d=o[h],_=-1!==d.indexOf("%"),_!==(-1!==l[h].indexOf("%"))&&(u=0===h?t.offsetWidth-X.width:t.offsetHeight-X.height,o[h]=_?parseFloat(d)/100*u+"px":100*(parseFloat(d)/u)+"%");d=o.join(" ")}return this.parseComplex(t.style,d,g,n,a)},formatter:se}),Te("backgroundSize",{defaultValue:"0 0",formatter:se}),Te("perspective",{defaultValue:"0px",prefix:!0}),Te("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Te("transformStyle",{prefix:!0}),Te("backfaceVisibility",{prefix:!0}),Te("userSelect",{prefix:!0}),Te("margin",{parser:fe("marginTop,marginRight,marginBottom,marginLeft")}),Te("padding",{parser:fe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Te("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,s,n,a){var o,l,h;return 9>m?(l=t.currentStyle,h=8>m?" ":",",o="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(o=this.format(Q(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),Te("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Te("autoRound,strictUnits",{parser:function(t,e,i,s,r){return r}}),Te("border",{defaultValue:"0px solid #000",parser:function(t,e,i,s,n,a){return this.parseComplex(t.style,this.format(Q(t,"borderTopWidth",r,!1,"0px")+" "+Q(t,"borderTopStyle",r,!1,"solid")+" "+Q(t,"borderTopColor",r,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ue)||["#000"])[0]}}),Te("borderWidth",{parser:fe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Te("float,cssFloat,styleFloat",{parser:function(t,e,i,s,r){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new me(n,a,0,0,r,-1,i,!1,0,n[a],e)}});var Be=function(t){var e,i=this.t,s=i.filter||Q(this.data,"filter")||"",r=0|this.s+this.c*t;100===r&&(-1===s.indexOf("atrix(")&&-1===s.indexOf("radient(")&&-1===s.indexOf("oader(")?(i.removeAttribute("filter"),e=!Q(this.data,"filter")):(i.filter=s.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=s=s||"alpha(opacity="+r+")"),-1===s.indexOf("pacity")?0===r&&this.xn1||(i.filter=s+" alpha(opacity="+r+")"):i.filter=s.replace(x,"opacity="+r))};Te("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,s,n,a){var o=parseFloat(Q(t,"opacity",r,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===Q(t,"visibility",r)&&0!==e&&(o=0),Y?n=new me(l,"opacity",o,e-o,n):(n=new me(l,"opacity",100*o,100*(e-o),n),n.xn1=h?1:0,l.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Be),h&&(n=new me(l,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",s._overwriteProps.push(n.n),s._overwriteProps.push(i)),n}});var je=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(k,"-$1").toLowerCase())):t.removeAttribute(e))},Ye=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:je(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Te("className",{parser:function(t,e,s,n,a,o,l){var h,_,u,c,f,p=t.getAttribute("class")||"",m=t.style.cssText;if(a=n._classNamePT=new me(t,s,0,0,a,2),a.setRatio=Ye,a.pr=-11,i=!0,a.b=p,_=K(t,r),u=t._gsClassPT){for(c={},f=u.data;f;)c[f.p]=1,f=f._next;u.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),h=J(t,_,K(t),l,c),t.setAttribute("class",p),a.data=h.firstMPT,t.style.cssText=m,a=a.xfirst=n.parse(t,h.difs,a,o)}});var Ue=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,s,r,n,a=this.t.style,o=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),s=e.length;--s>-1;)i=e[s],l[i]&&(l[i].parse===o?r=!0:i="transformOrigin"===i?Se:l[i].p),je(a,i);r&&(je(a,Pe),n=this.t._gsTransform,n&&(n.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(Te("clearProps",{parser:function(t,e,s,r,n){return n=new me(t,s,0,0,n,2),n.setRatio=Ue,n.e=e,n.pr=-10,n.data=r._tween,i=!0,n}}),h="bezier,throwProps,physicsProps,physics2D".split(","),ve=h.length;ve--;)xe(h[ve]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,_=e.autoRound,i=!1,s=e.suffixMap||a.suffixMap,r=Z(t,""),n=this._overwriteProps;var h,f,m,d,g,v,y,T,x,b=t.style;if(u&&""===b.zIndex&&(h=Q(t,"zIndex",r),("auto"===h||""===h)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(d=b.cssText,h=K(t,r),b.cssText=d+";"+e,h=J(t,h,K(t)).difs,!Y&&w.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,b.cssText=d),this._firstPT=f=e.className?l.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(x=3===this._transformType,Pe?c&&(u=!0,""===b.zIndex&&(y=Q(t,"zIndex",r),("auto"===y||""===y)&&this._addLazySet(b,"zIndex",0)),p&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):b.zoom=1,m=f;m&&m._next;)m=m._next;T=new me(t,"transform",0,0,null,2),this._linkCSSP(T,null,m),T.setRatio=Pe?Xe:Le,T.data=this._transform||Ne(t,r,!0),T.tween=o,T.pr=-1,n.pop()}if(i){for(;f;){for(v=f._next,m=d;m&&m.pr>f.pr;)m=m._next;(f._prev=m?m._prev:g)?f._prev._next=f:d=f,(f._next=m)?m._prev=f:g=f,f=v}this._firstPT=d}return!0},h.parse=function(t,e,i,n){var a,o,h,u,c,f,p,m,d,g,v=t.style;for(a in e)f=e[a],o=l[a],o?i=o.parse(t,f,a,this,i,n,e):(c=Q(t,a,r)+"",d="string"==typeof f,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||d&&P.test(f)?(d||(f=he(f),f=(f.length>3?"rgba(":"rgb(")+f.join(",")+")"),i=ge(v,a,c,f,!0,"transparent",i,0,n)):!d||-1===f.indexOf(" ")&&-1===f.indexOf(",")?(h=parseFloat(c),p=h||0===h?c.substr((h+"").length):"",(""===c||"auto"===c)&&("width"===a||"height"===a?(h=ie(t,a,r),p="px"):"left"===a||"top"===a?(h=H(t,a,r),p="px"):(h="opacity"!==a?0:1,p="")),g=d&&"="===f.charAt(1),g?(u=parseInt(f.charAt(0)+"1",10),f=f.substr(2),u*=parseFloat(f),m=f.replace(T,"")):(u=parseFloat(f),m=d?f.replace(T,""):""),""===m&&(m=a in s?s[a]:p),f=u||0===u?(g?u+h:u)+m:e[a],p!==m&&""!==m&&(u||0===u)&&h&&(h=$(t,a,h,p),"%"===m?(h/=$(t,a,100,"%")/100,e.strictUnits!==!0&&(c=h+"%")):"em"===m||"rem"===m?h/=$(t,a,1,m):"px"!==m&&(u=$(t,a,u,m),m="px"),g&&(u||0===u)&&(f=u+h+m)),g&&(u+=h),!h&&0!==h||!u&&0!==u?void 0!==v[a]&&(f||"NaN"!=f+""&&null!=f)?(i=new me(v,a,u||h||0,0,i,-1,a,!1,0,c,f),i.xs0="none"!==f||"display"!==a&&-1===a.indexOf("Style")?f:c):q("invalid "+a+" tween value: "+e[a]):(i=new me(v,a,h,u-h,i,0,a,_!==!1&&("px"===m||"zIndex"===a),0,c,f),i.xs0=m)):i=ge(v,a,c,f,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},h.setRatio=function(t){var e,i,s,r=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):n>e&&e>-n&&(e=0),r.type)if(1===r.type)if(s=r.l,2===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===s)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,s=1;r.l>s;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&-1!==r.type)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(s=r.l,i=r.xs0+e+r.xs1,s=1;r.l>s;s++)i+=r["xn"+s]+r["xs"+(s+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},h._enableTransforms=function(t){this._transform=this._transform||Ne(this._target,r,!0),this._transformType=this._transform.svg&&we||!t&&3!==this._transformType?2:3};var qe=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var s=this._firstPT=new me(t,e,0,0,this._firstPT,2);s.e=i,s.setRatio=qe,s.data=this},h._linkCSSP=function(t,e,i,s){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,s=!0),i?i._next=t:s||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,s,r,n=e;if(e.autoAlpha||e.alpha){n={};for(s in e)n[s]=e[s];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var Ve=function(t,e,i){var s,r,n,a;if(t.slice)for(r=t.length;--r>-1;)Ve(t[r],e,i);else for(s=t.childNodes,r=s.length;--r>-1;)n=s[r],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||Ve(n,e,i)};return a.cascadeTo=function(t,i,s){var r,n,a,o,l=e.to(t,i,s),h=[l],_=[],u=[],c=[],f=e._internals.reservedProps;for(t=l._targets||l.target,Ve(t,_,c),l.render(i,!0,!0),Ve(t,u),l.render(0,!0,!0),l._enabled(!0),r=c.length;--r>-1;)if(n=J(c[r],_[r],u[r]),n.firstMPT){n=n.difs;for(a in s)f[a]&&(n[a]=s[a]);o={};for(a in n)o[a]=_[r][a];h.push(e.fromTo(c[r],i,o,n))}return h},t.activate([a]),a},!0),function(){var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.5",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.r=1),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,s,r=this._tween,n=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=n.length,o={},l=r._propLookup.roundProps;--a>-1;)o[n[a]]=1;for(a=n.length;--a>-1;)for(t=n[a],i=r._firstPT;i;)s=i._next,i.pg?i.t._roundProps(o,!0):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),s&&(s._prev=i._prev),i._prev?i._prev._next=s:r._firstPT===i&&(r._firstPT=s),i._next=i._prev=null,r._propLookup[t]=l)),i=s;return!1},i._add=function(t,e,i,s){this._addTween(t,e,i,i+s,e,!0),this._overwriteProps.push(e)}}(),function(){_gsScope._gsDefine.plugin({propName:"attr",API:2,version:"0.5.0",init:function(t,e){var i;if("function"!=typeof t.setAttribute)return!1;for(i in e)this._addTween(t,"setAttribute",t.getAttribute(i)+"",e[i]+"",i,!1,i),this._overwriteProps.push(i);return!0}})}(),_gsScope._gsDefine.plugin({propName:"directionalRotation",version:"0.2.1",API:2,init:function(t,e){"object"!=typeof e&&(e={rotation:e}),this.finals={};var i,s,r,n,a,o,l=e.useRadians===!0?2*Math.PI:360,h=1e-6;for(i in e)"useRadians"!==i&&(o=(e[i]+"").split("_"),s=o[0],r=parseFloat("function"!=typeof t[i]?t[i]:t[i.indexOf("set")||"function"!=typeof t["get"+i.substr(3)]?i:"get"+i.substr(3)]()),n=this.finals[i]="string"==typeof s&&"="===s.charAt(1)?r+parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)):Number(s)||0,a=n-r,o.length&&(s=o.join("_"),-1!==s.indexOf("short")&&(a%=l,a!==a%(l/2)&&(a=0>a?a+l:a-l)),-1!==s.indexOf("_cw")&&0>a?a=(a+9999999999*l)%l-(0|a/l)*l:-1!==s.indexOf("ccw")&&a>0&&(a=(a-9999999999*l)%l-(0|a/l)*l)),(a>h||-h>a)&&(this._addTween(t,i,r,r+a,i),this._overwriteProps.push(i)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,s,r=_gsScope.GreenSockGlobals||_gsScope,n=r.com.greensock,a=2*Math.PI,o=Math.PI/2,l=n._class,h=function(e,i){var s=l("easing."+e,function(){},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,s},_=t.register||function(){},u=function(t,e,i,s){var r=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return _(r,t),r},c=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},f=function(e,i){var s=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,r.config=function(t){return new s(t)},s},p=u("Back",f("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),f("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),f("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),d=m.prototype=new t;return d.constructor=m,d.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),d.config=m.config=function(t,e,i){return new m(t,e,i)},e=l("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),d=e.prototype=new t,d.constructor=e,d.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},d.config=e.config=function(t){return new e(t)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,s,r,n,a,o,l=e.taper||"none",h=[],_=0,u=0|(e.points||20),f=u,p=e.randomize!==!1,m=e.clamp===!0,d=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)i=p?Math.random():1/u*f,s=d?d.getRatio(i):i,"none"===l?r=g:"out"===l?(n=1-i,r=n*n*g):"in"===l?r=i*i*g:.5>i?(n=2*i,r=.5*n*n*g):(n=2*(1-i),r=.5*n*n*g),p?s+=Math.random()*r-.5*r:f%2?s+=.5*r:s-=.5*r,m&&(s>1?s=1:0>s&&(s=0)),h[_++]={x:i,y:s};for(h.sort(function(t,e){return t.x-e.x}),o=new c(1,1,null),f=u;--f>-1;)a=h[f],o=new c(a.x,a.y,o);this._prev=new c(0,0,0!==o.t?o:o.next)},!0),d=i.prototype=new t,d.constructor=i,d.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},d.config=function(t){return new i(t)},i.ease=new i,u("Bounce",h("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),s=function(e,i,s){var r=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||s)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t,e){return new r(t,e)},r},u("Elastic",s("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),s("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)+1},.45)),u("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",h("SineOut",function(t){return Math.sin(t*o)}),h("SineIn",function(t){return-Math.cos(t*o)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),_(r.SlowMo,"SlowMo","ease,"),_(i,"RoughEase","ease,"),_(e,"SteppedEase","ease,"),p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,l=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},h=l("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},c=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),p={},m=function(s,r,n,a){this.sc=p[s]?p[s].sc:[],p[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(h){for(var _,u,c,f,d,g=r.length,v=g;--g>-1;)(_=p[r[g]]||new m(r[g],[])).gsClass?(o[g]=_.gsClass,v--):h&&_.sc.push(this);if(0===v&&n)for(u=("com.greensock."+s).split("."),c=u.pop(),f=l(u.join("."))[c]=this.gsClass=n.apply(n,o),a&&(i[c]=f,d="undefined"!=typeof module&&module.exports,!d&&"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return f}):s===e&&d&&(module.exports=f)),g=0;this.sc.length>g;g++)this.sc[g].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new m(t,e,i,s)},g=h._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var v=[0,0,1,1],y=[],T=g("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?v.concat(e):v},!0),x=T.map={},w=T.register=function(t,e,i,s){for(var r,n,a,o,l=e.split(","),_=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=l[_],r=s?g("easing."+n,null,!0):h.easing[n]||{},a=u.length;--a>-1;)o=u[a],x[n+"."+o]=x[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=T.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,w(new T(null,null,1,r),n,"easeOut",!0),w(new T(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),w(new T(null,null,3,r),n,"easeInOut");x.linear=h.easing.Linear.easeIn,x.swing=h.easing.Quad.easeInOut;var b=g("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,l,h=this._listeners[t],_=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)n=h[l],n.c===e&&n.s===i?h.splice(l,1):0===_&&r>n.pr&&(_=l+1);h.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return s.splice(i,1),void 0},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var P=t.requestAnimationFrame,k=t.cancelAnimationFrame,S=Date.now||function(){return(new Date).getTime()},R=S();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!P;)P=t[s[r]+"RequestAnimationFrame"],k=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];g("Ticker",function(t,e){var i,s,r,n,l,h=this,u=S(),f=e!==!1&&P,p=500,m=33,d="tick",g=function(t){var e,a,o=S()-R;o>p&&(u+=o-m),R+=o,h.time=(R-u)/1e3,e=h.time-l,(!i||e>0||t===!0)&&(h.frame++,l+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(g)),a&&h.dispatchEvent(d)};b.call(h),h.time=h.frame=0,h.tick=function(){g(!0)},h.lagSmoothing=function(t,e){p=t||1/_,m=Math.min(e,p,0)},h.sleep=function(){null!=r&&(f&&k?k(r):clearTimeout(r),s=c,r=null,h===a&&(o=!1))},h.wake=function(){null!==r?h.sleep():h.frame>10&&(R=S()-p+5),s=0===i?c:f&&P?P:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===a&&(o=!0),g(2)},h.fps=function(t){return arguments.length?(i=t,n=1/(i||60),l=this.time+n,h.wake(),void 0):i},h.useRAF=function(t){return arguments.length?(h.sleep(),f=t,h.fps(i),void 0):f},h.fps(t),setTimeout(function(){f&&5>h.frame&&h.useRAF(!1)},1500)}),n=h.Ticker.prototype=new h.events.EventDispatcher,n.constructor=h.Ticker;var O=g("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,W){o||a.wake();var i=this.vars.useFrames?G:W;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=O.ticker=new h.Ticker,n=O.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var A=function(){o&&S()-R>2e3&&a.wake(),setTimeout(A,2e3)};A(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n._callback=function(t){var e=this.vars;e[t].apply(e[t+"Scope"]||e.callbackScope||this,e[t+"Params"]||y)},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(F.length&&Q(),this.render(t,e,!1),F.length&&Q())}return this},n.progress=n.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(o||t||a.wake(),e=s.rawTime(),i=e-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var C=g("core.SimpleTimeline",function(t){O.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=C.prototype=new O,n.constructor=C,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var D=g("TweenLite",function(e,i,s){if(O.call(this,i,s),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?V[D.defaultOverwrite]:"number"==typeof l?l>>0:V[l],(o||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=$(n,this,!1),1===l&&this._siblings[r].length>1&&K(n,this,null,1,this._siblings[r])):(n=a[r--]=D.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===l&&this._siblings.length>1&&K(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),M=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},z=function(t,e){var i,s={};for(i in t)q[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!j[i]||j[i]&&j[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=D.prototype=new O,n.constructor=D,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,D.version="1.18.0",D.defaultEase=n._ease=new T(null,null,1,1),D.defaultOverwrite="auto",D.ticker=a,D.autoSleep=120,D.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},D.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(D.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var F=[],I={},E=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,N=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.blob?t?this.join(""):this.start:i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},L=function(t,e,i,s){var r,n,a,o,l,h,_,u=[t,e],c=0,f="",p=0;for(u.start=t,i&&(i(u),t=u[0],e=u[1]),u.length=0,r=t.match(E)||[],n=e.match(E)||[],s&&(s._next=null,s.blob=1,u._firstPT=s),l=n.length,o=0;l>o;o++)_=n[o],h=e.substr(c,e.indexOf(_,c)-c),f+=h||!o?h:",",c+=h.length,p?p=(p+1)%5:"rgba("===h.substr(-5)&&(p=1),_===r[o]||o>=r.length?f+=_:(f&&(u.push(f),f=""),a=parseFloat(r[o]),u.push(a),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:a,c:("="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*parseFloat(_.substr(2)):parseFloat(_)-a)||0,f:0,r:p&&4>p}),c+=_.length;return f+=e.substr(c),f&&u.push(f),u.setRatio=N,u},X=function(t,e,i,s,r,n,a,o){var l,h,_="get"===i?t[e]:i,u=typeof t[e],c="string"==typeof s&&"="===s.charAt(1),f={t:t,p:e,s:_,f:"function"===u,pg:0,n:r||e,r:n,pr:0,c:c?parseInt(s.charAt(0)+"1",10)*parseFloat(s.substr(2)):parseFloat(s)-_||0};return"number"!==u&&("function"===u&&"get"===i&&(h=e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f.s=_=a?t[h](a):t[h]()),"string"==typeof _&&(a||isNaN(_))?(f.fp=a,l=L(_,s,o||D.defaultStringFilter,f),f={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0}):c||(f.c=parseFloat(s)-parseFloat(_)||0)),f.c?((f._next=this._firstPT)&&(f._next._prev=f),this._firstPT=f,f):void 0},B=D._internals={isArray:f,isSelector:M,lazyTweens:F,blobDif:L},j=D._plugins={},Y=B.tweenLookup={},U=0,q=B.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1},V={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},G=O._rootFramesTimeline=new C,W=O._rootTimeline=new C,Z=30,Q=B.lazyRender=function(){var t,e=F.length;for(I={};--e>-1;)t=F[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);F.length=0};W._startTime=a.time,G._startTime=a.frame,W._active=G._active=!0,setTimeout(Q,1),O._updateRoot=D.render=function(){var t,e,i;if(F.length&&Q(),W.render((a.time-W._startTime)*W._timeScale,!1,!1),G.render((a.frame-G._startTime)*G._timeScale,!1,!1),F.length&&Q(),a.frame>=Z){Z=a.frame+(parseInt(D.autoSleep,10)||120);
for(i in Y){for(e=Y[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete Y[i]}if(i=W._first,(!i||i._paused)&&D.autoSleep&&!G._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",O._updateRoot);var $=function(t,e,i){var s,r,n=t._gsTweenID;if(Y[n||(t._gsTweenID=n="t"+U++)]||(Y[n]={target:t,tweens:[]}),e&&(s=Y[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return Y[n].tweens},H=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=D.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},K=function(t,e,i,s,r){var n,a,o,l;if(1===s||s>=4){for(l=r.length,n=0;l>n;n++)if((o=r[n])!==e)o._gc||o._kill(null,t,e)&&(a=!0);else if(5===s)break;return a}var h,u=e._startTime+_,c=[],f=0,p=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||J(e,0,p),0===J(o,h,p)&&(c[f++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((p||!o._initted)&&2e-10>=u-o._startTime||(c[f++]=o)));for(n=f;--n>-1;)if(o=c[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!H(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},J=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,l=!!n.immediateRender,h=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=D.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(s in n)q[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&n.lazy!==!1,i.immediateRender=l,this._startAt=D.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof T?h:"function"==typeof h?new T(h,n.easeParams):x[h]||D.defaultEase:D.defaultEase,n.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&D._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,l,h,_;if(null==e)return!1;I[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==t&&e.nodeType&&j.css&&this.vars.autoCSS!==!1&&z(this.vars,e);for(n in this.vars)if(_=this.vars[n],q[n])_&&(_ instanceof Array||_.push&&f(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(j[n]&&(l=new j[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:n,pg:1,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else i[n]=X.call(this,e,n,"get",_,n,0,null,this.vars.stringFilter);return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&K(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(I[e._gsTweenID]=!0),o)},n.render=function(t,e,i){var s,r,n,a,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===_&&"isPause"!==this.data)&&h!==t&&(i=!0,h>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||h===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||h===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,c=this._easeType,f=this._easePower;(1===c||3===c&&u>=.5)&&(u=1-u),3===c&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),this.ratio=1===c?1-u:2===c?u:.5>t/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,F.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/l):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this._callback("onStart"))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._callback("onUpdate")),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===l&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var s,r,n,a,o,l,h,_,u,c=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((f(e)||M(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s],i)&&(l=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(n in h)o[n]&&(u||(u=[]),u.push(n));if((u||!t)&&!H(this,i,e,u))return!1}for(n in h)(a=o[n])&&(c&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,l=!0),a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},n.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],O.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=$(s[i],this,!0);else this._siblings=$(this.target,this,!0)}return O.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?D._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new D(t,e,s)},D.delayedCall=function(t,e,i,s,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:s,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,s,r,n;if((f(t)||M(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(D.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=$(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=D.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var te=g("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=te.prototype},!0);if(n=te.prototype,te.version="1.18.0",te.API=2,n._firstPT=null,n._addTween=X,n.setRatio=N,n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},D._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},te.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===te.API&&(j[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=g("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){te.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new te(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,te.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in p)p[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenMax");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJUd2Vlbk1heC5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBWRVJTSU9OOiAxLjE4LjBcbiAqIERBVEU6IDIwMTUtMDktMDVcbiAqIFVQREFURVMgQU5EIERPQ1MgQVQ6IGh0dHA6Ly9ncmVlbnNvY2suY29tXG4gKiBcbiAqIEluY2x1ZGVzIGFsbCBvZiB0aGUgZm9sbG93aW5nOiBUd2VlbkxpdGUsIFR3ZWVuTWF4LCBUaW1lbGluZUxpdGUsIFRpbWVsaW5lTWF4LCBFYXNlUGFjaywgQ1NTUGx1Z2luLCBSb3VuZFByb3BzUGx1Z2luLCBCZXppZXJQbHVnaW4sIEF0dHJQbHVnaW4sIERpcmVjdGlvbmFsUm90YXRpb25QbHVnaW5cbiAqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxNSwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogVGhpcyB3b3JrIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHA6Ly9ncmVlbnNvY2suY29tL3N0YW5kYXJkLWxpY2Vuc2Ugb3IgZm9yXG4gKiBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgc29mdHdhcmUgYWdyZWVtZW50IHRoYXQgd2FzIGlzc3VlZCB3aXRoIHlvdXIgbWVtYmVyc2hpcC5cbiAqIFxuICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4gKiovXG52YXIgX2dzU2NvcGU9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZSYmbW9kdWxlLmV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnRoaXN8fHdpbmRvdzsoX2dzU2NvcGUuX2dzUXVldWV8fChfZ3NTY29wZS5fZ3NRdWV1ZT1bXSkpLnB1c2goZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtfZ3NTY29wZS5fZ3NEZWZpbmUoXCJUd2Vlbk1heFwiLFtcImNvcmUuQW5pbWF0aW9uXCIsXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsXCJUd2VlbkxpdGVcIl0sZnVuY3Rpb24odCxlLGkpe3ZhciBzPWZ1bmN0aW9uKHQpe3ZhciBlLGk9W10scz10Lmxlbmd0aDtmb3IoZT0wO2UhPT1zO2kucHVzaCh0W2UrK10pKTtyZXR1cm4gaX0scj1mdW5jdGlvbih0LGUsaSl7dmFyIHMscixuPXQuY3ljbGU7Zm9yKHMgaW4gbilyPW5bc10sdFtzXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByP3IuY2FsbChlW2ldLGkpOnJbaSVyLmxlbmd0aF07ZGVsZXRlIHQuY3ljbGV9LG49ZnVuY3Rpb24odCxlLHMpe2kuY2FsbCh0aGlzLHQsZSxzKSx0aGlzLl9jeWNsZT0wLHRoaXMuX3lveW89dGhpcy52YXJzLnlveW89PT0hMCx0aGlzLl9yZXBlYXQ9dGhpcy52YXJzLnJlcGVhdHx8MCx0aGlzLl9yZXBlYXREZWxheT10aGlzLnZhcnMucmVwZWF0RGVsYXl8fDAsdGhpcy5fZGlydHk9ITAsdGhpcy5yZW5kZXI9bi5wcm90b3R5cGUucmVuZGVyfSxhPTFlLTEwLG89aS5faW50ZXJuYWxzLGw9by5pc1NlbGVjdG9yLGg9by5pc0FycmF5LF89bi5wcm90b3R5cGU9aS50byh7fSwuMSx7fSksdT1bXTtuLnZlcnNpb249XCIxLjE4LjBcIixfLmNvbnN0cnVjdG9yPW4sXy5raWxsKCkuX2djPSExLG4ua2lsbFR3ZWVuc09mPW4ua2lsbERlbGF5ZWRDYWxsc1RvPWkua2lsbFR3ZWVuc09mLG4uZ2V0VHdlZW5zT2Y9aS5nZXRUd2VlbnNPZixuLmxhZ1Ntb290aGluZz1pLmxhZ1Ntb290aGluZyxuLnRpY2tlcj1pLnRpY2tlcixuLnJlbmRlcj1pLnJlbmRlcixfLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5feW95bz10aGlzLnZhcnMueW95bz09PSEwLHRoaXMuX3JlcGVhdD10aGlzLnZhcnMucmVwZWF0fHwwLHRoaXMuX3JlcGVhdERlbGF5PXRoaXMudmFycy5yZXBlYXREZWxheXx8MCx0aGlzLl91bmNhY2hlKCEwKSxpLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LF8udXBkYXRlVG89ZnVuY3Rpb24odCxlKXt2YXIgcyxyPXRoaXMucmF0aW8sbj10aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyfHx0LmltbWVkaWF0ZVJlbmRlcjtlJiZ0aGlzLl9zdGFydFRpbWU8dGhpcy5fdGltZWxpbmUuX3RpbWUmJih0aGlzLl9zdGFydFRpbWU9dGhpcy5fdGltZWxpbmUuX3RpbWUsdGhpcy5fdW5jYWNoZSghMSksdGhpcy5fZ2M/dGhpcy5fZW5hYmxlZCghMCwhMSk6dGhpcy5fdGltZWxpbmUuaW5zZXJ0KHRoaXMsdGhpcy5fc3RhcnRUaW1lLXRoaXMuX2RlbGF5KSk7Zm9yKHMgaW4gdCl0aGlzLnZhcnNbc109dFtzXTtpZih0aGlzLl9pbml0dGVkfHxuKWlmKGUpdGhpcy5faW5pdHRlZD0hMSxuJiZ0aGlzLnJlbmRlcigwLCEwLCEwKTtlbHNlIGlmKHRoaXMuX2djJiZ0aGlzLl9lbmFibGVkKCEwLCExKSx0aGlzLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkJiZ0aGlzLl9maXJzdFBUJiZpLl9vblBsdWdpbkV2ZW50KFwiX29uRGlzYWJsZVwiLHRoaXMpLHRoaXMuX3RpbWUvdGhpcy5fZHVyYXRpb24+Ljk5OCl7dmFyIGE9dGhpcy5fdGltZTt0aGlzLnJlbmRlcigwLCEwLCExKSx0aGlzLl9pbml0dGVkPSExLHRoaXMucmVuZGVyKGEsITAsITEpfWVsc2UgaWYodGhpcy5fdGltZT4wfHxuKXt0aGlzLl9pbml0dGVkPSExLHRoaXMuX2luaXQoKTtmb3IodmFyIG8sbD0xLygxLXIpLGg9dGhpcy5fZmlyc3RQVDtoOylvPWgucytoLmMsaC5jKj1sLGgucz1vLWguYyxoPWguX25leHR9cmV0dXJuIHRoaXN9LF8ucmVuZGVyPWZ1bmN0aW9uKHQsZSxpKXt0aGlzLl9pbml0dGVkfHwwPT09dGhpcy5fZHVyYXRpb24mJnRoaXMudmFycy5yZXBlYXQmJnRoaXMuaW52YWxpZGF0ZSgpO3ZhciBzLHIsbixsLGgsXyx1LGMsZj10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90b3RhbER1cmF0aW9uLHA9dGhpcy5fdGltZSxtPXRoaXMuX3RvdGFsVGltZSxkPXRoaXMuX2N5Y2xlLGc9dGhpcy5fZHVyYXRpb24sdj10aGlzLl9yYXdQcmV2VGltZTtpZih0Pj1mPyh0aGlzLl90b3RhbFRpbWU9Zix0aGlzLl9jeWNsZT10aGlzLl9yZXBlYXQsdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT8odGhpcy5fdGltZT0wLHRoaXMucmF0aW89dGhpcy5fZWFzZS5fY2FsY0VuZD90aGlzLl9lYXNlLmdldFJhdGlvKDApOjApOih0aGlzLl90aW1lPWcsdGhpcy5yYXRpbz10aGlzLl9lYXNlLl9jYWxjRW5kP3RoaXMuX2Vhc2UuZ2V0UmF0aW8oMSk6MSksdGhpcy5fcmV2ZXJzZWR8fChzPSEwLHI9XCJvbkNvbXBsZXRlXCIsaT1pfHx0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4pLDA9PT1nJiYodGhpcy5faW5pdHRlZHx8IXRoaXMudmFycy5sYXp5fHxpKSYmKHRoaXMuX3N0YXJ0VGltZT09PXRoaXMuX3RpbWVsaW5lLl9kdXJhdGlvbiYmKHQ9MCksKDA9PT10fHwwPnZ8fHY9PT1hKSYmdiE9PXQmJihpPSEwLHY+YSYmKHI9XCJvblJldmVyc2VDb21wbGV0ZVwiKSksdGhpcy5fcmF3UHJldlRpbWU9Yz0hZXx8dHx8dj09PXQ/dDphKSk6MWUtNz50Pyh0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT10aGlzLl9jeWNsZT0wLHRoaXMucmF0aW89dGhpcy5fZWFzZS5fY2FsY0VuZD90aGlzLl9lYXNlLmdldFJhdGlvKDApOjAsKDAhPT1tfHwwPT09ZyYmdj4wKSYmKHI9XCJvblJldmVyc2VDb21wbGV0ZVwiLHM9dGhpcy5fcmV2ZXJzZWQpLDA+dCYmKHRoaXMuX2FjdGl2ZT0hMSwwPT09ZyYmKHRoaXMuX2luaXR0ZWR8fCF0aGlzLnZhcnMubGF6eXx8aSkmJih2Pj0wJiYoaT0hMCksdGhpcy5fcmF3UHJldlRpbWU9Yz0hZXx8dHx8dj09PXQ/dDphKSksdGhpcy5faW5pdHRlZHx8KGk9ITApKToodGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9dCwwIT09dGhpcy5fcmVwZWF0JiYobD1nK3RoaXMuX3JlcGVhdERlbGF5LHRoaXMuX2N5Y2xlPXRoaXMuX3RvdGFsVGltZS9sPj4wLDAhPT10aGlzLl9jeWNsZSYmdGhpcy5fY3ljbGU9PT10aGlzLl90b3RhbFRpbWUvbCYmdGhpcy5fY3ljbGUtLSx0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZS10aGlzLl9jeWNsZSpsLHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkmJih0aGlzLl90aW1lPWctdGhpcy5fdGltZSksdGhpcy5fdGltZT5nP3RoaXMuX3RpbWU9ZzowPnRoaXMuX3RpbWUmJih0aGlzLl90aW1lPTApKSx0aGlzLl9lYXNlVHlwZT8oaD10aGlzLl90aW1lL2csXz10aGlzLl9lYXNlVHlwZSx1PXRoaXMuX2Vhc2VQb3dlciwoMT09PV98fDM9PT1fJiZoPj0uNSkmJihoPTEtaCksMz09PV8mJihoKj0yKSwxPT09dT9oKj1oOjI9PT11P2gqPWgqaDozPT09dT9oKj1oKmgqaDo0PT09dSYmKGgqPWgqaCpoKmgpLHRoaXMucmF0aW89MT09PV8/MS1oOjI9PT1fP2g6LjU+dGhpcy5fdGltZS9nP2gvMjoxLWgvMik6dGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHRoaXMuX3RpbWUvZykpLHA9PT10aGlzLl90aW1lJiYhaSYmZD09PXRoaXMuX2N5Y2xlKXJldHVybiBtIT09dGhpcy5fdG90YWxUaW1lJiZ0aGlzLl9vblVwZGF0ZSYmKGV8fHRoaXMuX2NhbGxiYWNrKFwib25VcGRhdGVcIikpLHZvaWQgMDtpZighdGhpcy5faW5pdHRlZCl7aWYodGhpcy5faW5pdCgpLCF0aGlzLl9pbml0dGVkfHx0aGlzLl9nYylyZXR1cm47aWYoIWkmJnRoaXMuX2ZpcnN0UFQmJih0aGlzLnZhcnMubGF6eSE9PSExJiZ0aGlzLl9kdXJhdGlvbnx8dGhpcy52YXJzLmxhenkmJiF0aGlzLl9kdXJhdGlvbikpcmV0dXJuIHRoaXMuX3RpbWU9cCx0aGlzLl90b3RhbFRpbWU9bSx0aGlzLl9yYXdQcmV2VGltZT12LHRoaXMuX2N5Y2xlPWQsby5sYXp5VHdlZW5zLnB1c2godGhpcyksdGhpcy5fbGF6eT1bdCxlXSx2b2lkIDA7dGhpcy5fdGltZSYmIXM/dGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHRoaXMuX3RpbWUvZyk6cyYmdGhpcy5fZWFzZS5fY2FsY0VuZCYmKHRoaXMucmF0aW89dGhpcy5fZWFzZS5nZXRSYXRpbygwPT09dGhpcy5fdGltZT8wOjEpKX1mb3IodGhpcy5fbGF6eSE9PSExJiYodGhpcy5fbGF6eT0hMSksdGhpcy5fYWN0aXZlfHwhdGhpcy5fcGF1c2VkJiZ0aGlzLl90aW1lIT09cCYmdD49MCYmKHRoaXMuX2FjdGl2ZT0hMCksMD09PW0mJigyPT09dGhpcy5faW5pdHRlZCYmdD4wJiZ0aGlzLl9pbml0KCksdGhpcy5fc3RhcnRBdCYmKHQ+PTA/dGhpcy5fc3RhcnRBdC5yZW5kZXIodCxlLGkpOnJ8fChyPVwiX2R1bW15R1NcIikpLHRoaXMudmFycy5vblN0YXJ0JiYoMCE9PXRoaXMuX3RvdGFsVGltZXx8MD09PWcpJiYoZXx8dGhpcy5fY2FsbGJhY2soXCJvblN0YXJ0XCIpKSksbj10aGlzLl9maXJzdFBUO247KW4uZj9uLnRbbi5wXShuLmMqdGhpcy5yYXRpbytuLnMpOm4udFtuLnBdPW4uYyp0aGlzLnJhdGlvK24ucyxuPW4uX25leHQ7dGhpcy5fb25VcGRhdGUmJigwPnQmJnRoaXMuX3N0YXJ0QXQmJnRoaXMuX3N0YXJ0VGltZSYmdGhpcy5fc3RhcnRBdC5yZW5kZXIodCxlLGkpLGV8fCh0aGlzLl90b3RhbFRpbWUhPT1tfHxzKSYmdGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSksdGhpcy5fY3ljbGUhPT1kJiYoZXx8dGhpcy5fZ2N8fHRoaXMudmFycy5vblJlcGVhdCYmdGhpcy5fY2FsbGJhY2soXCJvblJlcGVhdFwiKSksciYmKCF0aGlzLl9nY3x8aSkmJigwPnQmJnRoaXMuX3N0YXJ0QXQmJiF0aGlzLl9vblVwZGF0ZSYmdGhpcy5fc3RhcnRUaW1lJiZ0aGlzLl9zdGFydEF0LnJlbmRlcih0LGUsaSkscyYmKHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiYmdGhpcy5fZW5hYmxlZCghMSwhMSksdGhpcy5fYWN0aXZlPSExKSwhZSYmdGhpcy52YXJzW3JdJiZ0aGlzLl9jYWxsYmFjayhyKSwwPT09ZyYmdGhpcy5fcmF3UHJldlRpbWU9PT1hJiZjIT09YSYmKHRoaXMuX3Jhd1ByZXZUaW1lPTApKX0sbi50bz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBuKHQsZSxpKX0sbi5mcm9tPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gaS5ydW5CYWNrd2FyZHM9ITAsaS5pbW1lZGlhdGVSZW5kZXI9MCE9aS5pbW1lZGlhdGVSZW5kZXIsbmV3IG4odCxlLGkpfSxuLmZyb21Ubz1mdW5jdGlvbih0LGUsaSxzKXtyZXR1cm4gcy5zdGFydEF0PWkscy5pbW1lZGlhdGVSZW5kZXI9MCE9cy5pbW1lZGlhdGVSZW5kZXImJjAhPWkuaW1tZWRpYXRlUmVuZGVyLG5ldyBuKHQsZSxzKX0sbi5zdGFnZ2VyVG89bi5hbGxUbz1mdW5jdGlvbih0LGUsYSxvLF8sYyxmKXtvPW98fDA7dmFyIHAsbSxkLGcsdj1hLmRlbGF5fHwwLHk9W10sVD1mdW5jdGlvbigpe2Eub25Db21wbGV0ZSYmYS5vbkNvbXBsZXRlLmFwcGx5KGEub25Db21wbGV0ZVNjb3BlfHx0aGlzLGFyZ3VtZW50cyksXy5hcHBseShmfHxhLmNhbGxiYWNrU2NvcGV8fHRoaXMsY3x8dSl9LHg9YS5jeWNsZSx3PWEuc3RhcnRBdCYmYS5zdGFydEF0LmN5Y2xlO2ZvcihoKHQpfHwoXCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PWkuc2VsZWN0b3IodCl8fHQpLGwodCkmJih0PXModCkpKSx0PXR8fFtdLDA+byYmKHQ9cyh0KSx0LnJldmVyc2UoKSxvKj0tMSkscD10Lmxlbmd0aC0xLGQ9MDtwPj1kO2QrKyl7bT17fTtmb3IoZyBpbiBhKW1bZ109YVtnXTtpZih4JiZyKG0sdCxkKSx3KXt3PW0uc3RhcnRBdD17fTtmb3IoZyBpbiBhLnN0YXJ0QXQpd1tnXT1hLnN0YXJ0QXRbZ107cihtLnN0YXJ0QXQsdCxkKX1tLmRlbGF5PXYsZD09PXAmJl8mJihtLm9uQ29tcGxldGU9VCkseVtkXT1uZXcgbih0W2RdLGUsbSksdis9b31yZXR1cm4geX0sbi5zdGFnZ2VyRnJvbT1uLmFsbEZyb209ZnVuY3Rpb24odCxlLGkscyxyLGEsbyl7cmV0dXJuIGkucnVuQmFja3dhcmRzPSEwLGkuaW1tZWRpYXRlUmVuZGVyPTAhPWkuaW1tZWRpYXRlUmVuZGVyLG4uc3RhZ2dlclRvKHQsZSxpLHMscixhLG8pfSxuLnN0YWdnZXJGcm9tVG89bi5hbGxGcm9tVG89ZnVuY3Rpb24odCxlLGkscyxyLGEsbyxsKXtyZXR1cm4gcy5zdGFydEF0PWkscy5pbW1lZGlhdGVSZW5kZXI9MCE9cy5pbW1lZGlhdGVSZW5kZXImJjAhPWkuaW1tZWRpYXRlUmVuZGVyLG4uc3RhZ2dlclRvKHQsZSxzLHIsYSxvLGwpfSxuLmRlbGF5ZWRDYWxsPWZ1bmN0aW9uKHQsZSxpLHMscil7cmV0dXJuIG5ldyBuKGUsMCx7ZGVsYXk6dCxvbkNvbXBsZXRlOmUsb25Db21wbGV0ZVBhcmFtczppLGNhbGxiYWNrU2NvcGU6cyxvblJldmVyc2VDb21wbGV0ZTplLG9uUmV2ZXJzZUNvbXBsZXRlUGFyYW1zOmksaW1tZWRpYXRlUmVuZGVyOiExLHVzZUZyYW1lczpyLG92ZXJ3cml0ZTowfSl9LG4uc2V0PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBuKHQsMCxlKX0sbi5pc1R3ZWVuaW5nPWZ1bmN0aW9uKHQpe3JldHVybiBpLmdldFR3ZWVuc09mKHQsITApLmxlbmd0aD4wfTt2YXIgYz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcz1bXSxyPTAsbj10Ll9maXJzdDtuOyluIGluc3RhbmNlb2YgaT9zW3IrK109bjooZSYmKHNbcisrXT1uKSxzPXMuY29uY2F0KGMobixlKSkscj1zLmxlbmd0aCksbj1uLl9uZXh0O3JldHVybiBzfSxmPW4uZ2V0QWxsVHdlZW5zPWZ1bmN0aW9uKGUpe3JldHVybiBjKHQuX3Jvb3RUaW1lbGluZSxlKS5jb25jYXQoYyh0Ll9yb290RnJhbWVzVGltZWxpbmUsZSkpfTtuLmtpbGxBbGw9ZnVuY3Rpb24odCxpLHMscil7bnVsbD09aSYmKGk9ITApLG51bGw9PXMmJihzPSEwKTt2YXIgbixhLG8sbD1mKDAhPXIpLGg9bC5sZW5ndGgsXz1pJiZzJiZyO2ZvcihvPTA7aD5vO28rKylhPWxbb10sKF98fGEgaW5zdGFuY2VvZiBlfHwobj1hLnRhcmdldD09PWEudmFycy5vbkNvbXBsZXRlKSYmc3x8aSYmIW4pJiYodD9hLnRvdGFsVGltZShhLl9yZXZlcnNlZD8wOmEudG90YWxEdXJhdGlvbigpKTphLl9lbmFibGVkKCExLCExKSl9LG4ua2lsbENoaWxkVHdlZW5zT2Y9ZnVuY3Rpb24odCxlKXtpZihudWxsIT10KXt2YXIgcixhLF8sdSxjLGY9by50d2Vlbkxvb2t1cDtpZihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9aS5zZWxlY3Rvcih0KXx8dCksbCh0KSYmKHQ9cyh0KSksaCh0KSlmb3IodT10Lmxlbmd0aDstLXU+LTE7KW4ua2lsbENoaWxkVHdlZW5zT2YodFt1XSxlKTtlbHNle3I9W107Zm9yKF8gaW4gZilmb3IoYT1mW19dLnRhcmdldC5wYXJlbnROb2RlO2E7KWE9PT10JiYocj1yLmNvbmNhdChmW19dLnR3ZWVucykpLGE9YS5wYXJlbnROb2RlO2ZvcihjPXIubGVuZ3RoLHU9MDtjPnU7dSsrKWUmJnJbdV0udG90YWxUaW1lKHJbdV0udG90YWxEdXJhdGlvbigpKSxyW3VdLl9lbmFibGVkKCExLCExKX19fTt2YXIgcD1mdW5jdGlvbih0LGkscyxyKXtpPWkhPT0hMSxzPXMhPT0hMSxyPXIhPT0hMTtmb3IodmFyIG4sYSxvPWYociksbD1pJiZzJiZyLGg9by5sZW5ndGg7LS1oPi0xOylhPW9baF0sKGx8fGEgaW5zdGFuY2VvZiBlfHwobj1hLnRhcmdldD09PWEudmFycy5vbkNvbXBsZXRlKSYmc3x8aSYmIW4pJiZhLnBhdXNlZCh0KX07cmV0dXJuIG4ucGF1c2VBbGw9ZnVuY3Rpb24odCxlLGkpe3AoITAsdCxlLGkpfSxuLnJlc3VtZUFsbD1mdW5jdGlvbih0LGUsaSl7cCghMSx0LGUsaSl9LG4uZ2xvYmFsVGltZVNjYWxlPWZ1bmN0aW9uKGUpe3ZhciBzPXQuX3Jvb3RUaW1lbGluZSxyPWkudGlja2VyLnRpbWU7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KGU9ZXx8YSxzLl9zdGFydFRpbWU9ci0oci1zLl9zdGFydFRpbWUpKnMuX3RpbWVTY2FsZS9lLHM9dC5fcm9vdEZyYW1lc1RpbWVsaW5lLHI9aS50aWNrZXIuZnJhbWUscy5fc3RhcnRUaW1lPXItKHItcy5fc3RhcnRUaW1lKSpzLl90aW1lU2NhbGUvZSxzLl90aW1lU2NhbGU9dC5fcm9vdFRpbWVsaW5lLl90aW1lU2NhbGU9ZSxlKTpzLl90aW1lU2NhbGV9LF8ucHJvZ3Jlc3M9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUodGhpcy5kdXJhdGlvbigpKih0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpPzEtdDp0KSt0aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpLCExKTp0aGlzLl90aW1lL3RoaXMuZHVyYXRpb24oKX0sXy50b3RhbFByb2dyZXNzPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMudG90YWxUaW1lKHRoaXMudG90YWxEdXJhdGlvbigpKnQsITEpOnRoaXMuX3RvdGFsVGltZS90aGlzLnRvdGFsRHVyYXRpb24oKX0sXy50aW1lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX2RpcnR5JiZ0aGlzLnRvdGFsRHVyYXRpb24oKSx0PnRoaXMuX2R1cmF0aW9uJiYodD10aGlzLl9kdXJhdGlvbiksdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT90PXRoaXMuX2R1cmF0aW9uLXQrdGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KTowIT09dGhpcy5fcmVwZWF0JiYodCs9dGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSksdGhpcy50b3RhbFRpbWUodCxlKSk6dGhpcy5fdGltZX0sXy5kdXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90LnByb3RvdHlwZS5kdXJhdGlvbi5jYWxsKHRoaXMsZSk6dGhpcy5fZHVyYXRpb259LF8udG90YWxEdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8tMT09PXRoaXMuX3JlcGVhdD90aGlzOnRoaXMuZHVyYXRpb24oKHQtdGhpcy5fcmVwZWF0KnRoaXMuX3JlcGVhdERlbGF5KS8odGhpcy5fcmVwZWF0KzEpKToodGhpcy5fZGlydHkmJih0aGlzLl90b3RhbER1cmF0aW9uPS0xPT09dGhpcy5fcmVwZWF0Pzk5OTk5OTk5OTk5OTp0aGlzLl9kdXJhdGlvbioodGhpcy5fcmVwZWF0KzEpK3RoaXMuX3JlcGVhdERlbGF5KnRoaXMuX3JlcGVhdCx0aGlzLl9kaXJ0eT0hMSksdGhpcy5fdG90YWxEdXJhdGlvbil9LF8ucmVwZWF0PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXQ9dCx0aGlzLl91bmNhY2hlKCEwKSk6dGhpcy5fcmVwZWF0fSxfLnJlcGVhdERlbGF5PWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXREZWxheT10LHRoaXMuX3VuY2FjaGUoITApKTp0aGlzLl9yZXBlYXREZWxheX0sXy55b3lvPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl95b3lvPXQsdGhpcyk6dGhpcy5feW95b30sbn0sITApLF9nc1Njb3BlLl9nc0RlZmluZShcIlRpbWVsaW5lTGl0ZVwiLFtcImNvcmUuQW5pbWF0aW9uXCIsXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsXCJUd2VlbkxpdGVcIl0sZnVuY3Rpb24odCxlLGkpe3ZhciBzPWZ1bmN0aW9uKHQpe2UuY2FsbCh0aGlzLHQpLHRoaXMuX2xhYmVscz17fSx0aGlzLmF1dG9SZW1vdmVDaGlsZHJlbj10aGlzLnZhcnMuYXV0b1JlbW92ZUNoaWxkcmVuPT09ITAsdGhpcy5zbW9vdGhDaGlsZFRpbWluZz10aGlzLnZhcnMuc21vb3RoQ2hpbGRUaW1pbmc9PT0hMCx0aGlzLl9zb3J0Q2hpbGRyZW49ITAsdGhpcy5fb25VcGRhdGU9dGhpcy52YXJzLm9uVXBkYXRlO3ZhciBpLHMscj10aGlzLnZhcnM7Zm9yKHMgaW4gcilpPXJbc10sbChpKSYmLTEhPT1pLmpvaW4oXCJcIikuaW5kZXhPZihcIntzZWxmfVwiKSYmKHJbc109dGhpcy5fc3dhcFNlbGZJblBhcmFtcyhpKSk7bChyLnR3ZWVucykmJnRoaXMuYWRkKHIudHdlZW5zLDAsci5hbGlnbixyLnN0YWdnZXIpfSxyPTFlLTEwLG49aS5faW50ZXJuYWxzLGE9cy5faW50ZXJuYWxzPXt9LG89bi5pc1NlbGVjdG9yLGw9bi5pc0FycmF5LGg9bi5sYXp5VHdlZW5zLF89bi5sYXp5UmVuZGVyLHU9X2dzU2NvcGUuX2dzRGVmaW5lLmdsb2JhbHMsYz1mdW5jdGlvbih0KXt2YXIgZSxpPXt9O2ZvcihlIGluIHQpaVtlXT10W2VdO3JldHVybiBpfSxmPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxyLG49dC5jeWNsZTtmb3IocyBpbiBuKXI9bltzXSx0W3NdPVwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ci5jYWxsKGVbaV0saSk6cltpJXIubGVuZ3RoXTtkZWxldGUgdC5jeWNsZX0scD1hLnBhdXNlQ2FsbGJhY2s9ZnVuY3Rpb24oKXt9LG09ZnVuY3Rpb24odCl7dmFyIGUsaT1bXSxzPXQubGVuZ3RoO2ZvcihlPTA7ZSE9PXM7aS5wdXNoKHRbZSsrXSkpO3JldHVybiBpfSxkPXMucHJvdG90eXBlPW5ldyBlO3JldHVybiBzLnZlcnNpb249XCIxLjE4LjBcIixkLmNvbnN0cnVjdG9yPXMsZC5raWxsKCkuX2djPWQuX2ZvcmNpbmdQbGF5aGVhZD1kLl9oYXNQYXVzZT0hMSxkLnRvPWZ1bmN0aW9uKHQsZSxzLHIpe3ZhciBuPXMucmVwZWF0JiZ1LlR3ZWVuTWF4fHxpO3JldHVybiBlP3RoaXMuYWRkKG5ldyBuKHQsZSxzKSxyKTp0aGlzLnNldCh0LHMscil9LGQuZnJvbT1mdW5jdGlvbih0LGUscyxyKXtyZXR1cm4gdGhpcy5hZGQoKHMucmVwZWF0JiZ1LlR3ZWVuTWF4fHxpKS5mcm9tKHQsZSxzKSxyKX0sZC5mcm9tVG89ZnVuY3Rpb24odCxlLHMscixuKXt2YXIgYT1yLnJlcGVhdCYmdS5Ud2Vlbk1heHx8aTtyZXR1cm4gZT90aGlzLmFkZChhLmZyb21Ubyh0LGUscyxyKSxuKTp0aGlzLnNldCh0LHIsbil9LGQuc3RhZ2dlclRvPWZ1bmN0aW9uKHQsZSxyLG4sYSxsLGgsXyl7dmFyIHUscCxkPW5ldyBzKHtvbkNvbXBsZXRlOmwsb25Db21wbGV0ZVBhcmFtczpoLGNhbGxiYWNrU2NvcGU6XyxzbW9vdGhDaGlsZFRpbWluZzp0aGlzLnNtb290aENoaWxkVGltaW5nfSksZz1yLmN5Y2xlO2ZvcihcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9aS5zZWxlY3Rvcih0KXx8dCksdD10fHxbXSxvKHQpJiYodD1tKHQpKSxuPW58fDAsMD5uJiYodD1tKHQpLHQucmV2ZXJzZSgpLG4qPS0xKSxwPTA7dC5sZW5ndGg+cDtwKyspdT1jKHIpLHUuc3RhcnRBdCYmKHUuc3RhcnRBdD1jKHUuc3RhcnRBdCksdS5zdGFydEF0LmN5Y2xlJiZmKHUuc3RhcnRBdCx0LHApKSxnJiZmKHUsdCxwKSxkLnRvKHRbcF0sZSx1LHAqbik7cmV0dXJuIHRoaXMuYWRkKGQsYSl9LGQuc3RhZ2dlckZyb209ZnVuY3Rpb24odCxlLGkscyxyLG4sYSxvKXtyZXR1cm4gaS5pbW1lZGlhdGVSZW5kZXI9MCE9aS5pbW1lZGlhdGVSZW5kZXIsaS5ydW5CYWNrd2FyZHM9ITAsdGhpcy5zdGFnZ2VyVG8odCxlLGkscyxyLG4sYSxvKX0sZC5zdGFnZ2VyRnJvbVRvPWZ1bmN0aW9uKHQsZSxpLHMscixuLGEsbyxsKXtyZXR1cm4gcy5zdGFydEF0PWkscy5pbW1lZGlhdGVSZW5kZXI9MCE9cy5pbW1lZGlhdGVSZW5kZXImJjAhPWkuaW1tZWRpYXRlUmVuZGVyLHRoaXMuc3RhZ2dlclRvKHQsZSxzLHIsbixhLG8sbCl9LGQuY2FsbD1mdW5jdGlvbih0LGUscyxyKXtyZXR1cm4gdGhpcy5hZGQoaS5kZWxheWVkQ2FsbCgwLHQsZSxzKSxyKX0sZC5zZXQ9ZnVuY3Rpb24odCxlLHMpe3JldHVybiBzPXRoaXMuX3BhcnNlVGltZU9yTGFiZWwocywwLCEwKSxudWxsPT1lLmltbWVkaWF0ZVJlbmRlciYmKGUuaW1tZWRpYXRlUmVuZGVyPXM9PT10aGlzLl90aW1lJiYhdGhpcy5fcGF1c2VkKSx0aGlzLmFkZChuZXcgaSh0LDAsZSkscyl9LHMuZXhwb3J0Um9vdD1mdW5jdGlvbih0LGUpe3Q9dHx8e30sbnVsbD09dC5zbW9vdGhDaGlsZFRpbWluZyYmKHQuc21vb3RoQ2hpbGRUaW1pbmc9ITApO3ZhciByLG4sYT1uZXcgcyh0KSxvPWEuX3RpbWVsaW5lO2ZvcihudWxsPT1lJiYoZT0hMCksby5fcmVtb3ZlKGEsITApLGEuX3N0YXJ0VGltZT0wLGEuX3Jhd1ByZXZUaW1lPWEuX3RpbWU9YS5fdG90YWxUaW1lPW8uX3RpbWUscj1vLl9maXJzdDtyOyluPXIuX25leHQsZSYmciBpbnN0YW5jZW9mIGkmJnIudGFyZ2V0PT09ci52YXJzLm9uQ29tcGxldGV8fGEuYWRkKHIsci5fc3RhcnRUaW1lLXIuX2RlbGF5KSxyPW47cmV0dXJuIG8uYWRkKGEsMCksYX0sZC5hZGQ9ZnVuY3Rpb24ocixuLGEsbyl7dmFyIGgsXyx1LGMsZixwO2lmKFwibnVtYmVyXCIhPXR5cGVvZiBuJiYobj10aGlzLl9wYXJzZVRpbWVPckxhYmVsKG4sMCwhMCxyKSksIShyIGluc3RhbmNlb2YgdCkpe2lmKHIgaW5zdGFuY2VvZiBBcnJheXx8ciYmci5wdXNoJiZsKHIpKXtmb3IoYT1hfHxcIm5vcm1hbFwiLG89b3x8MCxoPW4sXz1yLmxlbmd0aCx1PTA7Xz51O3UrKylsKGM9clt1XSkmJihjPW5ldyBzKHt0d2VlbnM6Y30pKSx0aGlzLmFkZChjLGgpLFwic3RyaW5nXCIhPXR5cGVvZiBjJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiBjJiYoXCJzZXF1ZW5jZVwiPT09YT9oPWMuX3N0YXJ0VGltZStjLnRvdGFsRHVyYXRpb24oKS9jLl90aW1lU2NhbGU6XCJzdGFydFwiPT09YSYmKGMuX3N0YXJ0VGltZS09Yy5kZWxheSgpKSksaCs9bztyZXR1cm4gdGhpcy5fdW5jYWNoZSghMCl9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHIpcmV0dXJuIHRoaXMuYWRkTGFiZWwocixuKTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByKXRocm93XCJDYW5ub3QgYWRkIFwiK3IrXCIgaW50byB0aGUgdGltZWxpbmU7IGl0IGlzIG5vdCBhIHR3ZWVuLCB0aW1lbGluZSwgZnVuY3Rpb24sIG9yIHN0cmluZy5cIjtyPWkuZGVsYXllZENhbGwoMCxyKX1pZihlLnByb3RvdHlwZS5hZGQuY2FsbCh0aGlzLHIsbiksKHRoaXMuX2djfHx0aGlzLl90aW1lPT09dGhpcy5fZHVyYXRpb24pJiYhdGhpcy5fcGF1c2VkJiZ0aGlzLl9kdXJhdGlvbjx0aGlzLmR1cmF0aW9uKCkpZm9yKGY9dGhpcyxwPWYucmF3VGltZSgpPnIuX3N0YXJ0VGltZTtmLl90aW1lbGluZTspcCYmZi5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmc/Zi50b3RhbFRpbWUoZi5fdG90YWxUaW1lLCEwKTpmLl9nYyYmZi5fZW5hYmxlZCghMCwhMSksZj1mLl90aW1lbGluZTtyZXR1cm4gdGhpc30sZC5yZW1vdmU9ZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIHQpe3RoaXMuX3JlbW92ZShlLCExKTt2YXIgaT1lLl90aW1lbGluZT1lLnZhcnMudXNlRnJhbWVzP3QuX3Jvb3RGcmFtZXNUaW1lbGluZTp0Ll9yb290VGltZWxpbmU7cmV0dXJuIGUuX3N0YXJ0VGltZT0oZS5fcGF1c2VkP2UuX3BhdXNlVGltZTppLl90aW1lKS0oZS5fcmV2ZXJzZWQ/ZS50b3RhbER1cmF0aW9uKCktZS5fdG90YWxUaW1lOmUuX3RvdGFsVGltZSkvZS5fdGltZVNjYWxlLHRoaXN9aWYoZSBpbnN0YW5jZW9mIEFycmF5fHxlJiZlLnB1c2gmJmwoZSkpe2Zvcih2YXIgcz1lLmxlbmd0aDstLXM+LTE7KXRoaXMucmVtb3ZlKGVbc10pO3JldHVybiB0aGlzfXJldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP3RoaXMucmVtb3ZlTGFiZWwoZSk6dGhpcy5raWxsKG51bGwsZSl9LGQuX3JlbW92ZT1mdW5jdGlvbih0LGkpe2UucHJvdG90eXBlLl9yZW1vdmUuY2FsbCh0aGlzLHQsaSk7dmFyIHM9dGhpcy5fbGFzdDtyZXR1cm4gcz90aGlzLl90aW1lPnMuX3N0YXJ0VGltZStzLl90b3RhbER1cmF0aW9uL3MuX3RpbWVTY2FsZSYmKHRoaXMuX3RpbWU9dGhpcy5kdXJhdGlvbigpLHRoaXMuX3RvdGFsVGltZT10aGlzLl90b3RhbER1cmF0aW9uKTp0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZT10aGlzLl9kdXJhdGlvbj10aGlzLl90b3RhbER1cmF0aW9uPTAsdGhpc30sZC5hcHBlbmQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5hZGQodCx0aGlzLl9wYXJzZVRpbWVPckxhYmVsKG51bGwsZSwhMCx0KSl9LGQuaW5zZXJ0PWQuaW5zZXJ0TXVsdGlwbGU9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHRoaXMuYWRkKHQsZXx8MCxpLHMpfSxkLmFwcGVuZE11bHRpcGxlPWZ1bmN0aW9uKHQsZSxpLHMpe3JldHVybiB0aGlzLmFkZCh0LHRoaXMuX3BhcnNlVGltZU9yTGFiZWwobnVsbCxlLCEwLHQpLGkscyl9LGQuYWRkTGFiZWw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fbGFiZWxzW3RdPXRoaXMuX3BhcnNlVGltZU9yTGFiZWwoZSksdGhpc30sZC5hZGRQYXVzZT1mdW5jdGlvbih0LGUscyxyKXt2YXIgbj1pLmRlbGF5ZWRDYWxsKDAscCxzLHJ8fHRoaXMpO3JldHVybiBuLnZhcnMub25Db21wbGV0ZT1uLnZhcnMub25SZXZlcnNlQ29tcGxldGU9ZSxuLmRhdGE9XCJpc1BhdXNlXCIsdGhpcy5faGFzUGF1c2U9ITAsdGhpcy5hZGQobix0KX0sZC5yZW1vdmVMYWJlbD1mdW5jdGlvbih0KXtyZXR1cm4gZGVsZXRlIHRoaXMuX2xhYmVsc1t0XSx0aGlzfSxkLmdldExhYmVsVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dGhpcy5fbGFiZWxzW3RdP3RoaXMuX2xhYmVsc1t0XTotMX0sZC5fcGFyc2VUaW1lT3JMYWJlbD1mdW5jdGlvbihlLGkscyxyKXt2YXIgbjtpZihyIGluc3RhbmNlb2YgdCYmci50aW1lbGluZT09PXRoaXMpdGhpcy5yZW1vdmUocik7ZWxzZSBpZihyJiYociBpbnN0YW5jZW9mIEFycmF5fHxyLnB1c2gmJmwocikpKWZvcihuPXIubGVuZ3RoOy0tbj4tMTspcltuXWluc3RhbmNlb2YgdCYmcltuXS50aW1lbGluZT09PXRoaXMmJnRoaXMucmVtb3ZlKHJbbl0pO2lmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXJldHVybiB0aGlzLl9wYXJzZVRpbWVPckxhYmVsKGkscyYmXCJudW1iZXJcIj09dHlwZW9mIGUmJm51bGw9PXRoaXMuX2xhYmVsc1tpXT9lLXRoaXMuZHVyYXRpb24oKTowLHMpO2lmKGk9aXx8MCxcInN0cmluZ1wiIT10eXBlb2YgZXx8IWlzTmFOKGUpJiZudWxsPT10aGlzLl9sYWJlbHNbZV0pbnVsbD09ZSYmKGU9dGhpcy5kdXJhdGlvbigpKTtlbHNle2lmKG49ZS5pbmRleE9mKFwiPVwiKSwtMT09PW4pcmV0dXJuIG51bGw9PXRoaXMuX2xhYmVsc1tlXT9zP3RoaXMuX2xhYmVsc1tlXT10aGlzLmR1cmF0aW9uKCkraTppOnRoaXMuX2xhYmVsc1tlXStpO2k9cGFyc2VJbnQoZS5jaGFyQXQobi0xKStcIjFcIiwxMCkqTnVtYmVyKGUuc3Vic3RyKG4rMSkpLGU9bj4xP3RoaXMuX3BhcnNlVGltZU9yTGFiZWwoZS5zdWJzdHIoMCxuLTEpLDAscyk6dGhpcy5kdXJhdGlvbigpfXJldHVybiBOdW1iZXIoZSkraX0sZC5zZWVrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudG90YWxUaW1lKFwibnVtYmVyXCI9PXR5cGVvZiB0P3Q6dGhpcy5fcGFyc2VUaW1lT3JMYWJlbCh0KSxlIT09ITEpfSxkLnN0b3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWQoITApfSxkLmdvdG9BbmRQbGF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucGxheSh0LGUpfSxkLmdvdG9BbmRTdG9wPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucGF1c2UodCxlKX0sZC5yZW5kZXI9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2djJiZ0aGlzLl9lbmFibGVkKCEwLCExKTt2YXIgcyxuLGEsbyxsLHUsYz10aGlzLl9kaXJ0eT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLl90b3RhbER1cmF0aW9uLGY9dGhpcy5fdGltZSxwPXRoaXMuX3N0YXJ0VGltZSxtPXRoaXMuX3RpbWVTY2FsZSxkPXRoaXMuX3BhdXNlZDtpZih0Pj1jKXRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPWMsdGhpcy5fcmV2ZXJzZWR8fHRoaXMuX2hhc1BhdXNlZENoaWxkKCl8fChuPSEwLG89XCJvbkNvbXBsZXRlXCIsbD0hIXRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiwwPT09dGhpcy5fZHVyYXRpb24mJigwPT09dHx8MD50aGlzLl9yYXdQcmV2VGltZXx8dGhpcy5fcmF3UHJldlRpbWU9PT1yKSYmdGhpcy5fcmF3UHJldlRpbWUhPT10JiZ0aGlzLl9maXJzdCYmKGw9ITAsdGhpcy5fcmF3UHJldlRpbWU+ciYmKG89XCJvblJldmVyc2VDb21wbGV0ZVwiKSkpLHRoaXMuX3Jhd1ByZXZUaW1lPXRoaXMuX2R1cmF0aW9ufHwhZXx8dHx8dGhpcy5fcmF3UHJldlRpbWU9PT10P3Q6cix0PWMrMWUtNDtlbHNlIGlmKDFlLTc+dClpZih0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT0wLCgwIT09Znx8MD09PXRoaXMuX2R1cmF0aW9uJiZ0aGlzLl9yYXdQcmV2VGltZSE9PXImJih0aGlzLl9yYXdQcmV2VGltZT4wfHwwPnQmJnRoaXMuX3Jhd1ByZXZUaW1lPj0wKSkmJihvPVwib25SZXZlcnNlQ29tcGxldGVcIixuPXRoaXMuX3JldmVyc2VkKSwwPnQpdGhpcy5fYWN0aXZlPSExLHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiYmdGhpcy5fcmV2ZXJzZWQ/KGw9bj0hMCxvPVwib25SZXZlcnNlQ29tcGxldGVcIik6dGhpcy5fcmF3UHJldlRpbWU+PTAmJnRoaXMuX2ZpcnN0JiYobD0hMCksdGhpcy5fcmF3UHJldlRpbWU9dDtlbHNle2lmKHRoaXMuX3Jhd1ByZXZUaW1lPXRoaXMuX2R1cmF0aW9ufHwhZXx8dHx8dGhpcy5fcmF3UHJldlRpbWU9PT10P3Q6ciwwPT09dCYmbilmb3Iocz10aGlzLl9maXJzdDtzJiYwPT09cy5fc3RhcnRUaW1lOylzLl9kdXJhdGlvbnx8KG49ITEpLHM9cy5fbmV4dDt0PTAsdGhpcy5faW5pdHRlZHx8KGw9ITApfWVsc2V7aWYodGhpcy5faGFzUGF1c2UmJiF0aGlzLl9mb3JjaW5nUGxheWhlYWQmJiFlKXtpZih0Pj1mKWZvcihzPXRoaXMuX2ZpcnN0O3MmJnQ+PXMuX3N0YXJ0VGltZSYmIXU7KXMuX2R1cmF0aW9ufHxcImlzUGF1c2VcIiE9PXMuZGF0YXx8cy5yYXRpb3x8MD09PXMuX3N0YXJ0VGltZSYmMD09PXRoaXMuX3Jhd1ByZXZUaW1lfHwodT1zKSxzPXMuX25leHQ7ZWxzZSBmb3Iocz10aGlzLl9sYXN0O3MmJnMuX3N0YXJ0VGltZT49dCYmIXU7KXMuX2R1cmF0aW9ufHxcImlzUGF1c2VcIj09PXMuZGF0YSYmcy5fcmF3UHJldlRpbWU+MCYmKHU9cykscz1zLl9wcmV2O3UmJih0aGlzLl90aW1lPXQ9dS5fc3RhcnRUaW1lLHRoaXMuX3RvdGFsVGltZT10K3RoaXMuX2N5Y2xlKih0aGlzLl90b3RhbER1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSl9dGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9dH1pZih0aGlzLl90aW1lIT09ZiYmdGhpcy5fZmlyc3R8fGl8fGx8fHUpe2lmKHRoaXMuX2luaXR0ZWR8fCh0aGlzLl9pbml0dGVkPSEwKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9wYXVzZWQmJnRoaXMuX3RpbWUhPT1mJiZ0PjAmJih0aGlzLl9hY3RpdmU9ITApLDA9PT1mJiZ0aGlzLnZhcnMub25TdGFydCYmMCE9PXRoaXMuX3RpbWUmJihlfHx0aGlzLl9jYWxsYmFjayhcIm9uU3RhcnRcIikpLHRoaXMuX3RpbWU+PWYpZm9yKHM9dGhpcy5fZmlyc3Q7cyYmKGE9cy5fbmV4dCwhdGhpcy5fcGF1c2VkfHxkKTspKHMuX2FjdGl2ZXx8cy5fc3RhcnRUaW1lPD10aGlzLl90aW1lJiYhcy5fcGF1c2VkJiYhcy5fZ2MpJiYodT09PXMmJnRoaXMucGF1c2UoKSxzLl9yZXZlcnNlZD9zLnJlbmRlcigocy5fZGlydHk/cy50b3RhbER1cmF0aW9uKCk6cy5fdG90YWxEdXJhdGlvbiktKHQtcy5fc3RhcnRUaW1lKSpzLl90aW1lU2NhbGUsZSxpKTpzLnJlbmRlcigodC1zLl9zdGFydFRpbWUpKnMuX3RpbWVTY2FsZSxlLGkpKSxzPWE7ZWxzZSBmb3Iocz10aGlzLl9sYXN0O3MmJihhPXMuX3ByZXYsIXRoaXMuX3BhdXNlZHx8ZCk7KXtpZihzLl9hY3RpdmV8fGY+PXMuX3N0YXJ0VGltZSYmIXMuX3BhdXNlZCYmIXMuX2djKXtpZih1PT09cyl7Zm9yKHU9cy5fcHJldjt1JiZ1LmVuZFRpbWUoKT50aGlzLl90aW1lOyl1LnJlbmRlcih1Ll9yZXZlcnNlZD91LnRvdGFsRHVyYXRpb24oKS0odC11Ll9zdGFydFRpbWUpKnUuX3RpbWVTY2FsZToodC11Ll9zdGFydFRpbWUpKnUuX3RpbWVTY2FsZSxlLGkpLHU9dS5fcHJldjt1PW51bGwsdGhpcy5wYXVzZSgpfXMuX3JldmVyc2VkP3MucmVuZGVyKChzLl9kaXJ0eT9zLnRvdGFsRHVyYXRpb24oKTpzLl90b3RhbER1cmF0aW9uKS0odC1zLl9zdGFydFRpbWUpKnMuX3RpbWVTY2FsZSxlLGkpOnMucmVuZGVyKCh0LXMuX3N0YXJ0VGltZSkqcy5fdGltZVNjYWxlLGUsaSl9cz1hfXRoaXMuX29uVXBkYXRlJiYoZXx8KGgubGVuZ3RoJiZfKCksdGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSkpLG8mJih0aGlzLl9nY3x8KHA9PT10aGlzLl9zdGFydFRpbWV8fG0hPT10aGlzLl90aW1lU2NhbGUpJiYoMD09PXRoaXMuX3RpbWV8fGM+PXRoaXMudG90YWxEdXJhdGlvbigpKSYmKG4mJihoLmxlbmd0aCYmXygpLHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiYmdGhpcy5fZW5hYmxlZCghMSwhMSksdGhpcy5fYWN0aXZlPSExKSwhZSYmdGhpcy52YXJzW29dJiZ0aGlzLl9jYWxsYmFjayhvKSkpfX0sZC5faGFzUGF1c2VkQ2hpbGQ9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5fZmlyc3Q7dDspe2lmKHQuX3BhdXNlZHx8dCBpbnN0YW5jZW9mIHMmJnQuX2hhc1BhdXNlZENoaWxkKCkpcmV0dXJuITA7dD10Ll9uZXh0fXJldHVybiExfSxkLmdldENoaWxkcmVuPWZ1bmN0aW9uKHQsZSxzLHIpe3I9cnx8LTk5OTk5OTk5OTk7Zm9yKHZhciBuPVtdLGE9dGhpcy5fZmlyc3Qsbz0wO2E7KXI+YS5fc3RhcnRUaW1lfHwoYSBpbnN0YW5jZW9mIGk/ZSE9PSExJiYobltvKytdPWEpOihzIT09ITEmJihuW28rK109YSksdCE9PSExJiYobj1uLmNvbmNhdChhLmdldENoaWxkcmVuKCEwLGUscykpLG89bi5sZW5ndGgpKSksYT1hLl9uZXh0O3JldHVybiBufSxkLmdldFR3ZWVuc09mPWZ1bmN0aW9uKHQsZSl7dmFyIHMscixuPXRoaXMuX2djLGE9W10sbz0wO2ZvcihuJiZ0aGlzLl9lbmFibGVkKCEwLCEwKSxzPWkuZ2V0VHdlZW5zT2YodCkscj1zLmxlbmd0aDstLXI+LTE7KShzW3JdLnRpbWVsaW5lPT09dGhpc3x8ZSYmdGhpcy5fY29udGFpbnMoc1tyXSkpJiYoYVtvKytdPXNbcl0pO3JldHVybiBuJiZ0aGlzLl9lbmFibGVkKCExLCEwKSxhfSxkLnJlY2VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZWNlbnR9LGQuX2NvbnRhaW5zPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10LnRpbWVsaW5lO2U7KXtpZihlPT09dGhpcylyZXR1cm4hMDtlPWUudGltZWxpbmV9cmV0dXJuITF9LGQuc2hpZnRDaGlsZHJlbj1mdW5jdGlvbih0LGUsaSl7aT1pfHwwO2Zvcih2YXIgcyxyPXRoaXMuX2ZpcnN0LG49dGhpcy5fbGFiZWxzO3I7KXIuX3N0YXJ0VGltZT49aSYmKHIuX3N0YXJ0VGltZSs9dCkscj1yLl9uZXh0O2lmKGUpZm9yKHMgaW4gbiluW3NdPj1pJiYobltzXSs9dCk7cmV0dXJuIHRoaXMuX3VuY2FjaGUoITApfSxkLl9raWxsPWZ1bmN0aW9uKHQsZSl7aWYoIXQmJiFlKXJldHVybiB0aGlzLl9lbmFibGVkKCExLCExKTtmb3IodmFyIGk9ZT90aGlzLmdldFR3ZWVuc09mKGUpOnRoaXMuZ2V0Q2hpbGRyZW4oITAsITAsITEpLHM9aS5sZW5ndGgscj0hMTstLXM+LTE7KWlbc10uX2tpbGwodCxlKSYmKHI9ITApO3JldHVybiByfSxkLmNsZWFyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q2hpbGRyZW4oITEsITAsITApLGk9ZS5sZW5ndGg7Zm9yKHRoaXMuX3RpbWU9dGhpcy5fdG90YWxUaW1lPTA7LS1pPi0xOyllW2ldLl9lbmFibGVkKCExLCExKTtyZXR1cm4gdCE9PSExJiYodGhpcy5fbGFiZWxzPXt9KSx0aGlzLl91bmNhY2hlKCEwKX0sZC5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMuX2ZpcnN0O2U7KWUuaW52YWxpZGF0ZSgpLGU9ZS5fbmV4dDtyZXR1cm4gdC5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMpfSxkLl9lbmFibGVkPWZ1bmN0aW9uKHQsaSl7aWYodD09PXRoaXMuX2djKWZvcih2YXIgcz10aGlzLl9maXJzdDtzOylzLl9lbmFibGVkKHQsITApLHM9cy5fbmV4dDtyZXR1cm4gZS5wcm90b3R5cGUuX2VuYWJsZWQuY2FsbCh0aGlzLHQsaSl9LGQudG90YWxUaW1lPWZ1bmN0aW9uKCl7dGhpcy5fZm9yY2luZ1BsYXloZWFkPSEwO3ZhciBlPXQucHJvdG90eXBlLnRvdGFsVGltZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX2ZvcmNpbmdQbGF5aGVhZD0hMSxlfSxkLmR1cmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPygwIT09dGhpcy5kdXJhdGlvbigpJiYwIT09dCYmdGhpcy50aW1lU2NhbGUodGhpcy5fZHVyYXRpb24vdCksdGhpcyk6KHRoaXMuX2RpcnR5JiZ0aGlzLnRvdGFsRHVyYXRpb24oKSx0aGlzLl9kdXJhdGlvbil9LGQudG90YWxEdXJhdGlvbj1mdW5jdGlvbih0KXtpZighYXJndW1lbnRzLmxlbmd0aCl7aWYodGhpcy5fZGlydHkpe2Zvcih2YXIgZSxpLHM9MCxyPXRoaXMuX2xhc3Qsbj05OTk5OTk5OTk5OTk7cjspZT1yLl9wcmV2LHIuX2RpcnR5JiZyLnRvdGFsRHVyYXRpb24oKSxyLl9zdGFydFRpbWU+biYmdGhpcy5fc29ydENoaWxkcmVuJiYhci5fcGF1c2VkP3RoaXMuYWRkKHIsci5fc3RhcnRUaW1lLXIuX2RlbGF5KTpuPXIuX3N0YXJ0VGltZSwwPnIuX3N0YXJ0VGltZSYmIXIuX3BhdXNlZCYmKHMtPXIuX3N0YXJ0VGltZSx0aGlzLl90aW1lbGluZS5zbW9vdGhDaGlsZFRpbWluZyYmKHRoaXMuX3N0YXJ0VGltZSs9ci5fc3RhcnRUaW1lL3RoaXMuX3RpbWVTY2FsZSksdGhpcy5zaGlmdENoaWxkcmVuKC1yLl9zdGFydFRpbWUsITEsLTk5OTk5OTk5OTkpLG49MCksaT1yLl9zdGFydFRpbWUrci5fdG90YWxEdXJhdGlvbi9yLl90aW1lU2NhbGUsaT5zJiYocz1pKSxyPWU7dGhpcy5fZHVyYXRpb249dGhpcy5fdG90YWxEdXJhdGlvbj1zLHRoaXMuX2RpcnR5PSExfXJldHVybiB0aGlzLl90b3RhbER1cmF0aW9ufXJldHVybiAwIT09dGhpcy50b3RhbER1cmF0aW9uKCkmJjAhPT10JiZ0aGlzLnRpbWVTY2FsZSh0aGlzLl90b3RhbER1cmF0aW9uL3QpLHRoaXN9LGQucGF1c2VkPWZ1bmN0aW9uKGUpe2lmKCFlKWZvcih2YXIgaT10aGlzLl9maXJzdCxzPXRoaXMuX3RpbWU7aTspaS5fc3RhcnRUaW1lPT09cyYmXCJpc1BhdXNlXCI9PT1pLmRhdGEmJihpLl9yYXdQcmV2VGltZT0wKSxpPWkuX25leHQ7cmV0dXJuIHQucHJvdG90eXBlLnBhdXNlZC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGQudXNlc0ZyYW1lcz1mdW5jdGlvbigpe2Zvcih2YXIgZT10aGlzLl90aW1lbGluZTtlLl90aW1lbGluZTspZT1lLl90aW1lbGluZTtyZXR1cm4gZT09PXQuX3Jvb3RGcmFtZXNUaW1lbGluZX0sZC5yYXdUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdXNlZD90aGlzLl90b3RhbFRpbWU6KHRoaXMuX3RpbWVsaW5lLnJhd1RpbWUoKS10aGlzLl9zdGFydFRpbWUpKnRoaXMuX3RpbWVTY2FsZX0sc30sITApLF9nc1Njb3BlLl9nc0RlZmluZShcIlRpbWVsaW5lTWF4XCIsW1wiVGltZWxpbmVMaXRlXCIsXCJUd2VlbkxpdGVcIixcImVhc2luZy5FYXNlXCJdLGZ1bmN0aW9uKHQsZSxpKXt2YXIgcz1mdW5jdGlvbihlKXt0LmNhbGwodGhpcyxlKSx0aGlzLl9yZXBlYXQ9dGhpcy52YXJzLnJlcGVhdHx8MCx0aGlzLl9yZXBlYXREZWxheT10aGlzLnZhcnMucmVwZWF0RGVsYXl8fDAsdGhpcy5fY3ljbGU9MCx0aGlzLl95b3lvPXRoaXMudmFycy55b3lvPT09ITAsdGhpcy5fZGlydHk9ITB9LHI9MWUtMTAsbj1lLl9pbnRlcm5hbHMsYT1uLmxhenlUd2VlbnMsbz1uLmxhenlSZW5kZXIsbD1uZXcgaShudWxsLG51bGwsMSwwKSxoPXMucHJvdG90eXBlPW5ldyB0O3JldHVybiBoLmNvbnN0cnVjdG9yPXMsaC5raWxsKCkuX2djPSExLHMudmVyc2lvbj1cIjEuMTguMFwiLGguaW52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl95b3lvPXRoaXMudmFycy55b3lvPT09ITAsdGhpcy5fcmVwZWF0PXRoaXMudmFycy5yZXBlYXR8fDAsdGhpcy5fcmVwZWF0RGVsYXk9dGhpcy52YXJzLnJlcGVhdERlbGF5fHwwLHRoaXMuX3VuY2FjaGUoITApLHQucHJvdG90eXBlLmludmFsaWRhdGUuY2FsbCh0aGlzKX0saC5hZGRDYWxsYmFjaz1mdW5jdGlvbih0LGkscyxyKXtyZXR1cm4gdGhpcy5hZGQoZS5kZWxheWVkQ2FsbCgwLHQscyxyKSxpKX0saC5yZW1vdmVDYWxsYmFjaz1mdW5jdGlvbih0LGUpe2lmKHQpaWYobnVsbD09ZSl0aGlzLl9raWxsKG51bGwsdCk7ZWxzZSBmb3IodmFyIGk9dGhpcy5nZXRUd2VlbnNPZih0LCExKSxzPWkubGVuZ3RoLHI9dGhpcy5fcGFyc2VUaW1lT3JMYWJlbChlKTstLXM+LTE7KWlbc10uX3N0YXJ0VGltZT09PXImJmlbc10uX2VuYWJsZWQoITEsITEpO3JldHVybiB0aGlzfSxoLnJlbW92ZVBhdXNlPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLnJlbW92ZUNhbGxiYWNrKHQuX2ludGVybmFscy5wYXVzZUNhbGxiYWNrLGUpfSxoLnR3ZWVuVG89ZnVuY3Rpb24odCxpKXtpPWl8fHt9O3ZhciBzLHIsbixhPXtlYXNlOmwsdXNlRnJhbWVzOnRoaXMudXNlc0ZyYW1lcygpLGltbWVkaWF0ZVJlbmRlcjohMX07Zm9yKHIgaW4gaSlhW3JdPWlbcl07cmV0dXJuIGEudGltZT10aGlzLl9wYXJzZVRpbWVPckxhYmVsKHQpLHM9TWF0aC5hYnMoTnVtYmVyKGEudGltZSktdGhpcy5fdGltZSkvdGhpcy5fdGltZVNjYWxlfHwuMDAxLG49bmV3IGUodGhpcyxzLGEpLGEub25TdGFydD1mdW5jdGlvbigpe24udGFyZ2V0LnBhdXNlZCghMCksbi52YXJzLnRpbWUhPT1uLnRhcmdldC50aW1lKCkmJnM9PT1uLmR1cmF0aW9uKCkmJm4uZHVyYXRpb24oTWF0aC5hYnMobi52YXJzLnRpbWUtbi50YXJnZXQudGltZSgpKS9uLnRhcmdldC5fdGltZVNjYWxlKSxpLm9uU3RhcnQmJm4uX2NhbGxiYWNrKFwib25TdGFydFwiKX0sbn0saC50d2VlbkZyb21Ubz1mdW5jdGlvbih0LGUsaSl7aT1pfHx7fSx0PXRoaXMuX3BhcnNlVGltZU9yTGFiZWwodCksaS5zdGFydEF0PXtvbkNvbXBsZXRlOnRoaXMuc2VlayxvbkNvbXBsZXRlUGFyYW1zOlt0XSxjYWxsYmFja1Njb3BlOnRoaXN9LGkuaW1tZWRpYXRlUmVuZGVyPWkuaW1tZWRpYXRlUmVuZGVyIT09ITE7dmFyIHM9dGhpcy50d2VlblRvKGUsaSk7cmV0dXJuIHMuZHVyYXRpb24oTWF0aC5hYnMocy52YXJzLnRpbWUtdCkvdGhpcy5fdGltZVNjYWxlfHwuMDAxKX0saC5yZW5kZXI9ZnVuY3Rpb24odCxlLGkpe3RoaXMuX2djJiZ0aGlzLl9lbmFibGVkKCEwLCExKTt2YXIgcyxuLGwsaCxfLHUsYyxmPXRoaXMuX2RpcnR5P3RoaXMudG90YWxEdXJhdGlvbigpOnRoaXMuX3RvdGFsRHVyYXRpb24scD10aGlzLl9kdXJhdGlvbixtPXRoaXMuX3RpbWUsZD10aGlzLl90b3RhbFRpbWUsZz10aGlzLl9zdGFydFRpbWUsdj10aGlzLl90aW1lU2NhbGUseT10aGlzLl9yYXdQcmV2VGltZSxUPXRoaXMuX3BhdXNlZCx4PXRoaXMuX2N5Y2xlO2lmKHQ+PWYpdGhpcy5fbG9ja2VkfHwodGhpcy5fdG90YWxUaW1lPWYsdGhpcy5fY3ljbGU9dGhpcy5fcmVwZWF0KSx0aGlzLl9yZXZlcnNlZHx8dGhpcy5faGFzUGF1c2VkQ2hpbGQoKXx8KG49ITAsaD1cIm9uQ29tcGxldGVcIixfPSEhdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuLDA9PT10aGlzLl9kdXJhdGlvbiYmKDA9PT10fHwwPnl8fHk9PT1yKSYmeSE9PXQmJnRoaXMuX2ZpcnN0JiYoXz0hMCx5PnImJihoPVwib25SZXZlcnNlQ29tcGxldGVcIikpKSx0aGlzLl9yYXdQcmV2VGltZT10aGlzLl9kdXJhdGlvbnx8IWV8fHR8fHRoaXMuX3Jhd1ByZXZUaW1lPT09dD90OnIsdGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT90aGlzLl90aW1lPXQ9MDoodGhpcy5fdGltZT1wLHQ9cCsxZS00KTtlbHNlIGlmKDFlLTc+dClpZih0aGlzLl9sb2NrZWR8fCh0aGlzLl90b3RhbFRpbWU9dGhpcy5fY3ljbGU9MCksdGhpcy5fdGltZT0wLCgwIT09bXx8MD09PXAmJnkhPT1yJiYoeT4wfHwwPnQmJnk+PTApJiYhdGhpcy5fbG9ja2VkKSYmKGg9XCJvblJldmVyc2VDb21wbGV0ZVwiLG49dGhpcy5fcmV2ZXJzZWQpLDA+dCl0aGlzLl9hY3RpdmU9ITEsdGhpcy5fdGltZWxpbmUuYXV0b1JlbW92ZUNoaWxkcmVuJiZ0aGlzLl9yZXZlcnNlZD8oXz1uPSEwLGg9XCJvblJldmVyc2VDb21wbGV0ZVwiKTp5Pj0wJiZ0aGlzLl9maXJzdCYmKF89ITApLHRoaXMuX3Jhd1ByZXZUaW1lPXQ7ZWxzZXtpZih0aGlzLl9yYXdQcmV2VGltZT1wfHwhZXx8dHx8dGhpcy5fcmF3UHJldlRpbWU9PT10P3Q6ciwwPT09dCYmbilmb3Iocz10aGlzLl9maXJzdDtzJiYwPT09cy5fc3RhcnRUaW1lOylzLl9kdXJhdGlvbnx8KG49ITEpLHM9cy5fbmV4dDt0PTAsdGhpcy5faW5pdHRlZHx8KF89ITApfWVsc2UgaWYoMD09PXAmJjA+eSYmKF89ITApLHRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9dCx0aGlzLl9sb2NrZWR8fCh0aGlzLl90b3RhbFRpbWU9dCwwIT09dGhpcy5fcmVwZWF0JiYodT1wK3RoaXMuX3JlcGVhdERlbGF5LHRoaXMuX2N5Y2xlPXRoaXMuX3RvdGFsVGltZS91Pj4wLDAhPT10aGlzLl9jeWNsZSYmdGhpcy5fY3ljbGU9PT10aGlzLl90b3RhbFRpbWUvdSYmdGhpcy5fY3ljbGUtLSx0aGlzLl90aW1lPXRoaXMuX3RvdGFsVGltZS10aGlzLl9jeWNsZSp1LHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkmJih0aGlzLl90aW1lPXAtdGhpcy5fdGltZSksdGhpcy5fdGltZT5wPyh0aGlzLl90aW1lPXAsdD1wKzFlLTQpOjA+dGhpcy5fdGltZT90aGlzLl90aW1lPXQ9MDp0PXRoaXMuX3RpbWUpKSx0aGlzLl9oYXNQYXVzZSYmIXRoaXMuX2ZvcmNpbmdQbGF5aGVhZCYmIWUpe2lmKHQ9dGhpcy5fdGltZSx0Pj1tKWZvcihzPXRoaXMuX2ZpcnN0O3MmJnQ+PXMuX3N0YXJ0VGltZSYmIWM7KXMuX2R1cmF0aW9ufHxcImlzUGF1c2VcIiE9PXMuZGF0YXx8cy5yYXRpb3x8MD09PXMuX3N0YXJ0VGltZSYmMD09PXRoaXMuX3Jhd1ByZXZUaW1lfHwoYz1zKSxzPXMuX25leHQ7ZWxzZSBmb3Iocz10aGlzLl9sYXN0O3MmJnMuX3N0YXJ0VGltZT49dCYmIWM7KXMuX2R1cmF0aW9ufHxcImlzUGF1c2VcIj09PXMuZGF0YSYmcy5fcmF3UHJldlRpbWU+MCYmKGM9cykscz1zLl9wcmV2O2MmJih0aGlzLl90aW1lPXQ9Yy5fc3RhcnRUaW1lLHRoaXMuX3RvdGFsVGltZT10K3RoaXMuX2N5Y2xlKih0aGlzLl90b3RhbER1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSl9aWYodGhpcy5fY3ljbGUhPT14JiYhdGhpcy5fbG9ja2VkKXt2YXIgdz10aGlzLl95b3lvJiYwIT09KDEmeCksYj13PT09KHRoaXMuX3lveW8mJjAhPT0oMSZ0aGlzLl9jeWNsZSkpLFA9dGhpcy5fdG90YWxUaW1lLGs9dGhpcy5fY3ljbGUsUz10aGlzLl9yYXdQcmV2VGltZSxSPXRoaXMuX3RpbWU7aWYodGhpcy5fdG90YWxUaW1lPXgqcCx4PnRoaXMuX2N5Y2xlP3c9IXc6dGhpcy5fdG90YWxUaW1lKz1wLHRoaXMuX3RpbWU9bSx0aGlzLl9yYXdQcmV2VGltZT0wPT09cD95LTFlLTQ6eSx0aGlzLl9jeWNsZT14LHRoaXMuX2xvY2tlZD0hMCxtPXc/MDpwLHRoaXMucmVuZGVyKG0sZSwwPT09cCksZXx8dGhpcy5fZ2N8fHRoaXMudmFycy5vblJlcGVhdCYmdGhpcy5fY2FsbGJhY2soXCJvblJlcGVhdFwiKSxiJiYobT13P3ArMWUtNDotMWUtNCx0aGlzLnJlbmRlcihtLCEwLCExKSksdGhpcy5fbG9ja2VkPSExLHRoaXMuX3BhdXNlZCYmIVQpcmV0dXJuO3RoaXMuX3RpbWU9Uix0aGlzLl90b3RhbFRpbWU9UCx0aGlzLl9jeWNsZT1rLHRoaXMuX3Jhd1ByZXZUaW1lPVN9aWYoISh0aGlzLl90aW1lIT09bSYmdGhpcy5fZmlyc3R8fGl8fF98fGMpKXJldHVybiBkIT09dGhpcy5fdG90YWxUaW1lJiZ0aGlzLl9vblVwZGF0ZSYmKGV8fHRoaXMuX2NhbGxiYWNrKFwib25VcGRhdGVcIikpLHZvaWQgMDtpZih0aGlzLl9pbml0dGVkfHwodGhpcy5faW5pdHRlZD0hMCksdGhpcy5fYWN0aXZlfHwhdGhpcy5fcGF1c2VkJiZ0aGlzLl90b3RhbFRpbWUhPT1kJiZ0PjAmJih0aGlzLl9hY3RpdmU9ITApLDA9PT1kJiZ0aGlzLnZhcnMub25TdGFydCYmMCE9PXRoaXMuX3RvdGFsVGltZSYmKGV8fHRoaXMuX2NhbGxiYWNrKFwib25TdGFydFwiKSksdGhpcy5fdGltZT49bSlmb3Iocz10aGlzLl9maXJzdDtzJiYobD1zLl9uZXh0LCF0aGlzLl9wYXVzZWR8fFQpOykocy5fYWN0aXZlfHxzLl9zdGFydFRpbWU8PXRoaXMuX3RpbWUmJiFzLl9wYXVzZWQmJiFzLl9nYykmJihjPT09cyYmdGhpcy5wYXVzZSgpLHMuX3JldmVyc2VkP3MucmVuZGVyKChzLl9kaXJ0eT9zLnRvdGFsRHVyYXRpb24oKTpzLl90b3RhbER1cmF0aW9uKS0odC1zLl9zdGFydFRpbWUpKnMuX3RpbWVTY2FsZSxlLGkpOnMucmVuZGVyKCh0LXMuX3N0YXJ0VGltZSkqcy5fdGltZVNjYWxlLGUsaSkpLHM9bDtlbHNlIGZvcihzPXRoaXMuX2xhc3Q7cyYmKGw9cy5fcHJldiwhdGhpcy5fcGF1c2VkfHxUKTspe2lmKHMuX2FjdGl2ZXx8bT49cy5fc3RhcnRUaW1lJiYhcy5fcGF1c2VkJiYhcy5fZ2Mpe2lmKGM9PT1zKXtmb3IoYz1zLl9wcmV2O2MmJmMuZW5kVGltZSgpPnRoaXMuX3RpbWU7KWMucmVuZGVyKGMuX3JldmVyc2VkP2MudG90YWxEdXJhdGlvbigpLSh0LWMuX3N0YXJ0VGltZSkqYy5fdGltZVNjYWxlOih0LWMuX3N0YXJ0VGltZSkqYy5fdGltZVNjYWxlLGUsaSksYz1jLl9wcmV2O2M9bnVsbCx0aGlzLnBhdXNlKCl9cy5fcmV2ZXJzZWQ/cy5yZW5kZXIoKHMuX2RpcnR5P3MudG90YWxEdXJhdGlvbigpOnMuX3RvdGFsRHVyYXRpb24pLSh0LXMuX3N0YXJ0VGltZSkqcy5fdGltZVNjYWxlLGUsaSk6cy5yZW5kZXIoKHQtcy5fc3RhcnRUaW1lKSpzLl90aW1lU2NhbGUsZSxpKX1zPWx9dGhpcy5fb25VcGRhdGUmJihlfHwoYS5sZW5ndGgmJm8oKSx0aGlzLl9jYWxsYmFjayhcIm9uVXBkYXRlXCIpKSksaCYmKHRoaXMuX2xvY2tlZHx8dGhpcy5fZ2N8fChnPT09dGhpcy5fc3RhcnRUaW1lfHx2IT09dGhpcy5fdGltZVNjYWxlKSYmKDA9PT10aGlzLl90aW1lfHxmPj10aGlzLnRvdGFsRHVyYXRpb24oKSkmJihuJiYoYS5sZW5ndGgmJm8oKSx0aGlzLl90aW1lbGluZS5hdXRvUmVtb3ZlQ2hpbGRyZW4mJnRoaXMuX2VuYWJsZWQoITEsITEpLHRoaXMuX2FjdGl2ZT0hMSksIWUmJnRoaXMudmFyc1toXSYmdGhpcy5fY2FsbGJhY2soaCkpKX0saC5nZXRBY3RpdmU9ZnVuY3Rpb24odCxlLGkpe251bGw9PXQmJih0PSEwKSxudWxsPT1lJiYoZT0hMCksbnVsbD09aSYmKGk9ITEpO3ZhciBzLHIsbj1bXSxhPXRoaXMuZ2V0Q2hpbGRyZW4odCxlLGkpLG89MCxsPWEubGVuZ3RoO2ZvcihzPTA7bD5zO3MrKylyPWFbc10sci5pc0FjdGl2ZSgpJiYobltvKytdPXIpO3JldHVybiBufSxoLmdldExhYmVsQWZ0ZXI9ZnVuY3Rpb24odCl7dHx8MCE9PXQmJih0PXRoaXMuX3RpbWUpO3ZhciBlLGk9dGhpcy5nZXRMYWJlbHNBcnJheSgpLHM9aS5sZW5ndGg7Zm9yKGU9MDtzPmU7ZSsrKWlmKGlbZV0udGltZT50KXJldHVybiBpW2VdLm5hbWU7cmV0dXJuIG51bGx9LGguZ2V0TGFiZWxCZWZvcmU9ZnVuY3Rpb24odCl7bnVsbD09dCYmKHQ9dGhpcy5fdGltZSk7Zm9yKHZhciBlPXRoaXMuZ2V0TGFiZWxzQXJyYXkoKSxpPWUubGVuZ3RoOy0taT4tMTspaWYodD5lW2ldLnRpbWUpcmV0dXJuIGVbaV0ubmFtZTtyZXR1cm4gbnVsbH0saC5nZXRMYWJlbHNBcnJheT1mdW5jdGlvbigpe3ZhciB0LGU9W10saT0wO2Zvcih0IGluIHRoaXMuX2xhYmVscyllW2krK109e3RpbWU6dGhpcy5fbGFiZWxzW3RdLG5hbWU6dH07cmV0dXJuIGUuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnRpbWUtZS50aW1lfSksZX0saC5wcm9ncmVzcz1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMudG90YWxUaW1lKHRoaXMuZHVyYXRpb24oKSoodGhpcy5feW95byYmMCE9PSgxJnRoaXMuX2N5Y2xlKT8xLXQ6dCkrdGhpcy5fY3ljbGUqKHRoaXMuX2R1cmF0aW9uK3RoaXMuX3JlcGVhdERlbGF5KSxlKTp0aGlzLl90aW1lL3RoaXMuZHVyYXRpb24oKX0saC50b3RhbFByb2dyZXNzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUodGhpcy50b3RhbER1cmF0aW9uKCkqdCxlKTp0aGlzLl90b3RhbFRpbWUvdGhpcy50b3RhbER1cmF0aW9uKCl9LGgudG90YWxEdXJhdGlvbj1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8tMT09PXRoaXMuX3JlcGVhdD90aGlzOnRoaXMuZHVyYXRpb24oKGUtdGhpcy5fcmVwZWF0KnRoaXMuX3JlcGVhdERlbGF5KS8odGhpcy5fcmVwZWF0KzEpKToodGhpcy5fZGlydHkmJih0LnByb3RvdHlwZS50b3RhbER1cmF0aW9uLmNhbGwodGhpcyksdGhpcy5fdG90YWxEdXJhdGlvbj0tMT09PXRoaXMuX3JlcGVhdD85OTk5OTk5OTk5OTk6dGhpcy5fZHVyYXRpb24qKHRoaXMuX3JlcGVhdCsxKSt0aGlzLl9yZXBlYXREZWxheSp0aGlzLl9yZXBlYXQpLHRoaXMuX3RvdGFsRHVyYXRpb24pfSxoLnRpbWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZGlydHkmJnRoaXMudG90YWxEdXJhdGlvbigpLHQ+dGhpcy5fZHVyYXRpb24mJih0PXRoaXMuX2R1cmF0aW9uKSx0aGlzLl95b3lvJiYwIT09KDEmdGhpcy5fY3ljbGUpP3Q9dGhpcy5fZHVyYXRpb24tdCt0aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpOjAhPT10aGlzLl9yZXBlYXQmJih0Kz10aGlzLl9jeWNsZSoodGhpcy5fZHVyYXRpb24rdGhpcy5fcmVwZWF0RGVsYXkpKSx0aGlzLnRvdGFsVGltZSh0LGUpKTp0aGlzLl90aW1lfSxoLnJlcGVhdD1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0PXQsdGhpcy5fdW5jYWNoZSghMCkpOnRoaXMuX3JlcGVhdH0saC5yZXBlYXREZWxheT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fcmVwZWF0RGVsYXk9dCx0aGlzLl91bmNhY2hlKCEwKSk6dGhpcy5fcmVwZWF0RGVsYXl9LGgueW95bz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5feW95bz10LHRoaXMpOnRoaXMuX3lveW99LGguY3VycmVudExhYmVsPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuc2Vlayh0LCEwKTp0aGlzLmdldExhYmVsQmVmb3JlKHRoaXMuX3RpbWUrMWUtOCl9LHN9LCEwKSxmdW5jdGlvbigpe3ZhciB0PTE4MC9NYXRoLlBJLGU9W10saT1bXSxzPVtdLHI9e30sbj1fZ3NTY29wZS5fZ3NEZWZpbmUuZ2xvYmFscyxhPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuYT10LHRoaXMuYj1lLHRoaXMuYz1pLHRoaXMuZD1zLHRoaXMuZGE9cy10LHRoaXMuY2E9aS10LHRoaXMuYmE9ZS10fSxvPVwiLHgseSx6LGxlZnQsdG9wLHJpZ2h0LGJvdHRvbSxtYXJnaW5Ub3AsbWFyZ2luTGVmdCxtYXJnaW5SaWdodCxtYXJnaW5Cb3R0b20scGFkZGluZ0xlZnQscGFkZGluZ1RvcCxwYWRkaW5nUmlnaHQscGFkZGluZ0JvdHRvbSxiYWNrZ3JvdW5kUG9zaXRpb24sYmFja2dyb3VuZFBvc2l0aW9uX3ksXCIsbD1mdW5jdGlvbih0LGUsaSxzKXt2YXIgcj17YTp0fSxuPXt9LGE9e30sbz17YzpzfSxsPSh0K2UpLzIsaD0oZStpKS8yLF89KGkrcykvMix1PShsK2gpLzIsYz0oaCtfKS8yLGY9KGMtdSkvODtyZXR1cm4gci5iPWwrKHQtbCkvNCxuLmI9dStmLHIuYz1uLmE9KHIuYituLmIpLzIsbi5jPWEuYT0odStjKS8yLGEuYj1jLWYsby5iPV8rKHMtXykvNCxhLmM9by5hPShhLmIrby5iKS8yLFtyLG4sYSxvXX0saD1mdW5jdGlvbih0LHIsbixhLG8pe3ZhciBoLF8sdSxjLGYscCxtLGQsZyx2LHksVCx4LHc9dC5sZW5ndGgtMSxiPTAsUD10WzBdLmE7Zm9yKGg9MDt3Pmg7aCsrKWY9dFtiXSxfPWYuYSx1PWYuZCxjPXRbYisxXS5kLG8/KHk9ZVtoXSxUPWlbaF0seD0uMjUqKFQreSkqci8oYT8uNTpzW2hdfHwuNSkscD11LSh1LV8pKihhPy41KnI6MCE9PXk/eC95OjApLG09dSsoYy11KSooYT8uNSpyOjAhPT1UP3gvVDowKSxkPXUtKHArKChtLXApKigzKnkvKHkrVCkrLjUpLzR8fDApKSk6KHA9dS0uNSoodS1fKSpyLG09dSsuNSooYy11KSpyLGQ9dS0ocCttKS8yKSxwKz1kLG0rPWQsZi5jPWc9cCxmLmI9MCE9PWg/UDpQPWYuYSsuNiooZi5jLWYuYSksZi5kYT11LV8sZi5jYT1nLV8sZi5iYT1QLV8sbj8odj1sKF8sUCxnLHUpLHQuc3BsaWNlKGIsMSx2WzBdLHZbMV0sdlsyXSx2WzNdKSxiKz00KTpiKyssUD1tO2Y9dFtiXSxmLmI9UCxmLmM9UCsuNCooZi5kLVApLGYuZGE9Zi5kLWYuYSxmLmNhPWYuYy1mLmEsZi5iYT1QLWYuYSxuJiYodj1sKGYuYSxQLGYuYyxmLmQpLHQuc3BsaWNlKGIsMSx2WzBdLHZbMV0sdlsyXSx2WzNdKSl9LF89ZnVuY3Rpb24odCxzLHIsbil7dmFyIG8sbCxoLF8sdSxjLGY9W107aWYobilmb3IodD1bbl0uY29uY2F0KHQpLGw9dC5sZW5ndGg7LS1sPi0xOylcInN0cmluZ1wiPT10eXBlb2YoYz10W2xdW3NdKSYmXCI9XCI9PT1jLmNoYXJBdCgxKSYmKHRbbF1bc109bltzXStOdW1iZXIoYy5jaGFyQXQoMCkrYy5zdWJzdHIoMikpKTtpZihvPXQubGVuZ3RoLTIsMD5vKXJldHVybiBmWzBdPW5ldyBhKHRbMF1bc10sMCwwLHRbLTE+bz8wOjFdW3NdKSxmO2ZvcihsPTA7bz5sO2wrKyloPXRbbF1bc10sXz10W2wrMV1bc10sZltsXT1uZXcgYShoLDAsMCxfKSxyJiYodT10W2wrMl1bc10sZVtsXT0oZVtsXXx8MCkrKF8taCkqKF8taCksaVtsXT0oaVtsXXx8MCkrKHUtXykqKHUtXykpO3JldHVybiBmW2xdPW5ldyBhKHRbbF1bc10sMCwwLHRbbCsxXVtzXSksZn0sdT1mdW5jdGlvbih0LG4sYSxsLHUsYyl7dmFyIGYscCxtLGQsZyx2LHksVCx4PXt9LHc9W10sYj1jfHx0WzBdO3U9XCJzdHJpbmdcIj09dHlwZW9mIHU/XCIsXCIrdStcIixcIjpvLG51bGw9PW4mJihuPTEpO2ZvcihwIGluIHRbMF0pdy5wdXNoKHApO2lmKHQubGVuZ3RoPjEpe2ZvcihUPXRbdC5sZW5ndGgtMV0seT0hMCxmPXcubGVuZ3RoOy0tZj4tMTspaWYocD13W2ZdLE1hdGguYWJzKGJbcF0tVFtwXSk+LjA1KXt5PSExO2JyZWFrfXkmJih0PXQuY29uY2F0KCksYyYmdC51bnNoaWZ0KGMpLHQucHVzaCh0WzFdKSxjPXRbdC5sZW5ndGgtM10pfWZvcihlLmxlbmd0aD1pLmxlbmd0aD1zLmxlbmd0aD0wLGY9dy5sZW5ndGg7LS1mPi0xOylwPXdbZl0scltwXT0tMSE9PXUuaW5kZXhPZihcIixcIitwK1wiLFwiKSx4W3BdPV8odCxwLHJbcF0sYyk7Zm9yKGY9ZS5sZW5ndGg7LS1mPi0xOyllW2ZdPU1hdGguc3FydChlW2ZdKSxpW2ZdPU1hdGguc3FydChpW2ZdKTtpZighbCl7Zm9yKGY9dy5sZW5ndGg7LS1mPi0xOylpZihyW3BdKWZvcihtPXhbd1tmXV0sdj1tLmxlbmd0aC0xLGQ9MDt2PmQ7ZCsrKWc9bVtkKzFdLmRhL2lbZF0rbVtkXS5kYS9lW2RdLHNbZF09KHNbZF18fDApK2cqZztmb3IoZj1zLmxlbmd0aDstLWY+LTE7KXNbZl09TWF0aC5zcXJ0KHNbZl0pfWZvcihmPXcubGVuZ3RoLGQ9YT80OjE7LS1mPi0xOylwPXdbZl0sbT14W3BdLGgobSxuLGEsbCxyW3BdKSx5JiYobS5zcGxpY2UoMCxkKSxtLnNwbGljZShtLmxlbmd0aC1kLGQpKTtyZXR1cm4geH0sYz1mdW5jdGlvbih0LGUsaSl7ZT1lfHxcInNvZnRcIjt2YXIgcyxyLG4sbyxsLGgsXyx1LGMsZixwLG09e30sZD1cImN1YmljXCI9PT1lPzM6MixnPVwic29mdFwiPT09ZSx2PVtdO2lmKGcmJmkmJih0PVtpXS5jb25jYXQodCkpLG51bGw9PXR8fGQrMT50Lmxlbmd0aCl0aHJvd1wiaW52YWxpZCBCZXppZXIgZGF0YVwiO2ZvcihjIGluIHRbMF0pdi5wdXNoKGMpO2ZvcihoPXYubGVuZ3RoOy0taD4tMTspe2ZvcihjPXZbaF0sbVtjXT1sPVtdLGY9MCx1PXQubGVuZ3RoLF89MDt1Pl87XysrKXM9bnVsbD09aT90W19dW2NdOlwic3RyaW5nXCI9PXR5cGVvZihwPXRbX11bY10pJiZcIj1cIj09PXAuY2hhckF0KDEpP2lbY10rTnVtYmVyKHAuY2hhckF0KDApK3Auc3Vic3RyKDIpKTpOdW1iZXIocCksZyYmXz4xJiZ1LTE+XyYmKGxbZisrXT0ocytsW2YtMl0pLzIpLGxbZisrXT1zO2Zvcih1PWYtZCsxLGY9MCxfPTA7dT5fO18rPWQpcz1sW19dLHI9bFtfKzFdLG49bFtfKzJdLG89Mj09PWQ/MDpsW18rM10sbFtmKytdPXA9Mz09PWQ/bmV3IGEocyxyLG4sbyk6bmV3IGEocywoMipyK3MpLzMsKDIqcituKS8zLG4pO2wubGVuZ3RoPWZ9cmV0dXJuIG19LGY9ZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgcyxyLG4sYSxvLGwsaCxfLHUsYyxmLHA9MS9pLG09dC5sZW5ndGg7LS1tPi0xOylmb3IoYz10W21dLG49Yy5hLGE9Yy5kLW4sbz1jLmMtbixsPWMuYi1uLHM9cj0wLF89MTtpPj1fO18rKyloPXAqXyx1PTEtaCxzPXItKHI9KGgqaCphKzMqdSooaCpvK3UqbCkpKmgpLGY9bSppK18tMSxlW2ZdPShlW2ZdfHwwKStzKnN9LHA9ZnVuY3Rpb24odCxlKXtlPWU+PjB8fDY7dmFyIGkscyxyLG4sYT1bXSxvPVtdLGw9MCxoPTAsXz1lLTEsdT1bXSxjPVtdO2ZvcihpIGluIHQpZih0W2ldLGEsZSk7Zm9yKHI9YS5sZW5ndGgscz0wO3I+cztzKyspbCs9TWF0aC5zcXJ0KGFbc10pLG49cyVlLGNbbl09bCxuPT09XyYmKGgrPWwsbj1zL2U+PjAsdVtuXT1jLG9bbl09aCxsPTAsYz1bXSk7cmV0dXJue2xlbmd0aDpoLGxlbmd0aHM6byxzZWdtZW50czp1fX0sbT1fZ3NTY29wZS5fZ3NEZWZpbmUucGx1Z2luKHtwcm9wTmFtZTpcImJlemllclwiLHByaW9yaXR5Oi0xLHZlcnNpb246XCIxLjMuNFwiLEFQSToyLGdsb2JhbDohMCxpbml0OmZ1bmN0aW9uKHQsZSxpKXt0aGlzLl90YXJnZXQ9dCxlIGluc3RhbmNlb2YgQXJyYXkmJihlPXt2YWx1ZXM6ZX0pLHRoaXMuX2Z1bmM9e30sdGhpcy5fcm91bmQ9e30sdGhpcy5fcHJvcHM9W10sdGhpcy5fdGltZVJlcz1udWxsPT1lLnRpbWVSZXNvbHV0aW9uPzY6cGFyc2VJbnQoZS50aW1lUmVzb2x1dGlvbiwxMCk7dmFyIHMscixuLGEsbyxsPWUudmFsdWVzfHxbXSxoPXt9LF89bFswXSxmPWUuYXV0b1JvdGF0ZXx8aS52YXJzLm9yaWVudFRvQmV6aWVyO3RoaXMuX2F1dG9Sb3RhdGU9Zj9mIGluc3RhbmNlb2YgQXJyYXk/ZjpbW1wieFwiLFwieVwiLFwicm90YXRpb25cIixmPT09ITA/MDpOdW1iZXIoZil8fDBdXTpudWxsO1xuZm9yKHMgaW4gXyl0aGlzLl9wcm9wcy5wdXNoKHMpO2ZvcihuPXRoaXMuX3Byb3BzLmxlbmd0aDstLW4+LTE7KXM9dGhpcy5fcHJvcHNbbl0sdGhpcy5fb3ZlcndyaXRlUHJvcHMucHVzaChzKSxyPXRoaXMuX2Z1bmNbc109XCJmdW5jdGlvblwiPT10eXBlb2YgdFtzXSxoW3NdPXI/dFtzLmluZGV4T2YoXCJzZXRcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRbXCJnZXRcIitzLnN1YnN0cigzKV0/czpcImdldFwiK3Muc3Vic3RyKDMpXSgpOnBhcnNlRmxvYXQodFtzXSksb3x8aFtzXSE9PWxbMF1bc10mJihvPWgpO2lmKHRoaXMuX2JlemllcnM9XCJjdWJpY1wiIT09ZS50eXBlJiZcInF1YWRyYXRpY1wiIT09ZS50eXBlJiZcInNvZnRcIiE9PWUudHlwZT91KGwsaXNOYU4oZS5jdXJ2aW5lc3MpPzE6ZS5jdXJ2aW5lc3MsITEsXCJ0aHJ1QmFzaWNcIj09PWUudHlwZSxlLmNvcnJlbGF0ZSxvKTpjKGwsZS50eXBlLGgpLHRoaXMuX3NlZ0NvdW50PXRoaXMuX2JlemllcnNbc10ubGVuZ3RoLHRoaXMuX3RpbWVSZXMpe3ZhciBtPXAodGhpcy5fYmV6aWVycyx0aGlzLl90aW1lUmVzKTt0aGlzLl9sZW5ndGg9bS5sZW5ndGgsdGhpcy5fbGVuZ3Rocz1tLmxlbmd0aHMsdGhpcy5fc2VnbWVudHM9bS5zZWdtZW50cyx0aGlzLl9sMT10aGlzLl9saT10aGlzLl9zMT10aGlzLl9zaT0wLHRoaXMuX2wyPXRoaXMuX2xlbmd0aHNbMF0sdGhpcy5fY3VyU2VnPXRoaXMuX3NlZ21lbnRzWzBdLHRoaXMuX3MyPXRoaXMuX2N1clNlZ1swXSx0aGlzLl9wcmVjPTEvdGhpcy5fY3VyU2VnLmxlbmd0aH1pZihmPXRoaXMuX2F1dG9Sb3RhdGUpZm9yKHRoaXMuX2luaXRpYWxSb3RhdGlvbnM9W10sZlswXWluc3RhbmNlb2YgQXJyYXl8fCh0aGlzLl9hdXRvUm90YXRlPWY9W2ZdKSxuPWYubGVuZ3RoOy0tbj4tMTspe2ZvcihhPTA7Mz5hO2ErKylzPWZbbl1bYV0sdGhpcy5fZnVuY1tzXT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0W3NdP3Rbcy5pbmRleE9mKFwic2V0XCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0W1wiZ2V0XCIrcy5zdWJzdHIoMyldP3M6XCJnZXRcIitzLnN1YnN0cigzKV06ITE7cz1mW25dWzJdLHRoaXMuX2luaXRpYWxSb3RhdGlvbnNbbl09dGhpcy5fZnVuY1tzXT90aGlzLl9mdW5jW3NdLmNhbGwodGhpcy5fdGFyZ2V0KTp0aGlzLl90YXJnZXRbc119cmV0dXJuIHRoaXMuX3N0YXJ0UmF0aW89aS52YXJzLnJ1bkJhY2t3YXJkcz8xOjAsITB9LHNldDpmdW5jdGlvbihlKXt2YXIgaSxzLHIsbixhLG8sbCxoLF8sdSxjPXRoaXMuX3NlZ0NvdW50LGY9dGhpcy5fZnVuYyxwPXRoaXMuX3RhcmdldCxtPWUhPT10aGlzLl9zdGFydFJhdGlvO2lmKHRoaXMuX3RpbWVSZXMpe2lmKF89dGhpcy5fbGVuZ3Rocyx1PXRoaXMuX2N1clNlZyxlKj10aGlzLl9sZW5ndGgscj10aGlzLl9saSxlPnRoaXMuX2wyJiZjLTE+cil7Zm9yKGg9Yy0xO2g+ciYmZT49KHRoaXMuX2wyPV9bKytyXSk7KTt0aGlzLl9sMT1fW3ItMV0sdGhpcy5fbGk9cix0aGlzLl9jdXJTZWc9dT10aGlzLl9zZWdtZW50c1tyXSx0aGlzLl9zMj11W3RoaXMuX3MxPXRoaXMuX3NpPTBdfWVsc2UgaWYodGhpcy5fbDE+ZSYmcj4wKXtmb3IoO3I+MCYmKHRoaXMuX2wxPV9bLS1yXSk+PWU7KTswPT09ciYmdGhpcy5fbDE+ZT90aGlzLl9sMT0wOnIrKyx0aGlzLl9sMj1fW3JdLHRoaXMuX2xpPXIsdGhpcy5fY3VyU2VnPXU9dGhpcy5fc2VnbWVudHNbcl0sdGhpcy5fczE9dVsodGhpcy5fc2k9dS5sZW5ndGgtMSktMV18fDAsdGhpcy5fczI9dVt0aGlzLl9zaV19aWYoaT1yLGUtPXRoaXMuX2wxLHI9dGhpcy5fc2ksZT50aGlzLl9zMiYmdS5sZW5ndGgtMT5yKXtmb3IoaD11Lmxlbmd0aC0xO2g+ciYmZT49KHRoaXMuX3MyPXVbKytyXSk7KTt0aGlzLl9zMT11W3ItMV0sdGhpcy5fc2k9cn1lbHNlIGlmKHRoaXMuX3MxPmUmJnI+MCl7Zm9yKDtyPjAmJih0aGlzLl9zMT11Wy0tcl0pPj1lOyk7MD09PXImJnRoaXMuX3MxPmU/dGhpcy5fczE9MDpyKyssdGhpcy5fczI9dVtyXSx0aGlzLl9zaT1yfW89KHIrKGUtdGhpcy5fczEpLyh0aGlzLl9zMi10aGlzLl9zMSkpKnRoaXMuX3ByZWN9ZWxzZSBpPTA+ZT8wOmU+PTE/Yy0xOmMqZT4+MCxvPShlLWkqKDEvYykpKmM7Zm9yKHM9MS1vLHI9dGhpcy5fcHJvcHMubGVuZ3RoOy0tcj4tMTspbj10aGlzLl9wcm9wc1tyXSxhPXRoaXMuX2JlemllcnNbbl1baV0sbD0obypvKmEuZGErMypzKihvKmEuY2ErcyphLmJhKSkqbythLmEsdGhpcy5fcm91bmRbbl0mJihsPU1hdGgucm91bmQobCkpLGZbbl0/cFtuXShsKTpwW25dPWw7aWYodGhpcy5fYXV0b1JvdGF0ZSl7dmFyIGQsZyx2LHksVCx4LHcsYj10aGlzLl9hdXRvUm90YXRlO2ZvcihyPWIubGVuZ3RoOy0tcj4tMTspbj1iW3JdWzJdLHg9YltyXVszXXx8MCx3PWJbcl1bNF09PT0hMD8xOnQsYT10aGlzLl9iZXppZXJzW2Jbcl1bMF1dLGQ9dGhpcy5fYmV6aWVyc1tiW3JdWzFdXSxhJiZkJiYoYT1hW2ldLGQ9ZFtpXSxnPWEuYSsoYS5iLWEuYSkqbyx5PWEuYisoYS5jLWEuYikqbyxnKz0oeS1nKSpvLHkrPShhLmMrKGEuZC1hLmMpKm8teSkqbyx2PWQuYSsoZC5iLWQuYSkqbyxUPWQuYisoZC5jLWQuYikqbyx2Kz0oVC12KSpvLFQrPShkLmMrKGQuZC1kLmMpKm8tVCkqbyxsPW0/TWF0aC5hdGFuMihULXYseS1nKSp3K3g6dGhpcy5faW5pdGlhbFJvdGF0aW9uc1tyXSxmW25dP3Bbbl0obCk6cFtuXT1sKX19fSksZD1tLnByb3RvdHlwZTttLmJlemllclRocm91Z2g9dSxtLmN1YmljVG9RdWFkcmF0aWM9bCxtLl9hdXRvQ1NTPSEwLG0ucXVhZHJhdGljVG9DdWJpYz1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIG5ldyBhKHQsKDIqZSt0KS8zLCgyKmUraSkvMyxpKX0sbS5fY3NzUmVnaXN0ZXI9ZnVuY3Rpb24oKXt2YXIgdD1uLkNTU1BsdWdpbjtpZih0KXt2YXIgZT10Ll9pbnRlcm5hbHMsaT1lLl9wYXJzZVRvUHJveHkscz1lLl9zZXRQbHVnaW5SYXRpbyxyPWUuQ1NTUHJvcFR3ZWVuO2UuX3JlZ2lzdGVyQ29tcGxleFNwZWNpYWxQcm9wKFwiYmV6aWVyXCIse3BhcnNlcjpmdW5jdGlvbih0LGUsbixhLG8sbCl7ZSBpbnN0YW5jZW9mIEFycmF5JiYoZT17dmFsdWVzOmV9KSxsPW5ldyBtO3ZhciBoLF8sdSxjPWUudmFsdWVzLGY9Yy5sZW5ndGgtMSxwPVtdLGQ9e307aWYoMD5mKXJldHVybiBvO2ZvcihoPTA7Zj49aDtoKyspdT1pKHQsY1toXSxhLG8sbCxmIT09aCkscFtoXT11LmVuZDtmb3IoXyBpbiBlKWRbX109ZVtfXTtyZXR1cm4gZC52YWx1ZXM9cCxvPW5ldyByKHQsXCJiZXppZXJcIiwwLDAsdS5wdCwyKSxvLmRhdGE9dSxvLnBsdWdpbj1sLG8uc2V0UmF0aW89cywwPT09ZC5hdXRvUm90YXRlJiYoZC5hdXRvUm90YXRlPSEwKSwhZC5hdXRvUm90YXRlfHxkLmF1dG9Sb3RhdGUgaW5zdGFuY2VvZiBBcnJheXx8KGg9ZC5hdXRvUm90YXRlPT09ITA/MDpOdW1iZXIoZC5hdXRvUm90YXRlKSxkLmF1dG9Sb3RhdGU9bnVsbCE9dS5lbmQubGVmdD9bW1wibGVmdFwiLFwidG9wXCIsXCJyb3RhdGlvblwiLGgsITFdXTpudWxsIT11LmVuZC54P1tbXCJ4XCIsXCJ5XCIsXCJyb3RhdGlvblwiLGgsITFdXTohMSksZC5hdXRvUm90YXRlJiYoYS5fdHJhbnNmb3JtfHxhLl9lbmFibGVUcmFuc2Zvcm1zKCExKSx1LmF1dG9Sb3RhdGU9YS5fdGFyZ2V0Ll9nc1RyYW5zZm9ybSksbC5fb25Jbml0VHdlZW4odS5wcm94eSxkLGEuX3R3ZWVuKSxvfX0pfX0sZC5fcm91bmRQcm9wcz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgaT10aGlzLl9vdmVyd3JpdGVQcm9wcyxzPWkubGVuZ3RoOy0tcz4tMTspKHRbaVtzXV18fHQuYmV6aWVyfHx0LmJlemllclRocm91Z2gpJiYodGhpcy5fcm91bmRbaVtzXV09ZSl9LGQuX2tpbGw9ZnVuY3Rpb24odCl7dmFyIGUsaSxzPXRoaXMuX3Byb3BzO2ZvcihlIGluIHRoaXMuX2JlemllcnMpaWYoZSBpbiB0KWZvcihkZWxldGUgdGhpcy5fYmV6aWVyc1tlXSxkZWxldGUgdGhpcy5fZnVuY1tlXSxpPXMubGVuZ3RoOy0taT4tMTspc1tpXT09PWUmJnMuc3BsaWNlKGksMSk7cmV0dXJuIHRoaXMuX3N1cGVyLl9raWxsLmNhbGwodGhpcyx0KX19KCksX2dzU2NvcGUuX2dzRGVmaW5lKFwicGx1Z2lucy5DU1NQbHVnaW5cIixbXCJwbHVnaW5zLlR3ZWVuUGx1Z2luXCIsXCJUd2VlbkxpdGVcIl0sZnVuY3Rpb24odCxlKXt2YXIgaSxzLHIsbixhPWZ1bmN0aW9uKCl7dC5jYWxsKHRoaXMsXCJjc3NcIiksdGhpcy5fb3ZlcndyaXRlUHJvcHMubGVuZ3RoPTAsdGhpcy5zZXRSYXRpbz1hLnByb3RvdHlwZS5zZXRSYXRpb30sbz1fZ3NTY29wZS5fZ3NEZWZpbmUuZ2xvYmFscyxsPXt9LGg9YS5wcm90b3R5cGU9bmV3IHQoXCJjc3NcIik7aC5jb25zdHJ1Y3Rvcj1hLGEudmVyc2lvbj1cIjEuMTguMFwiLGEuQVBJPTIsYS5kZWZhdWx0VHJhbnNmb3JtUGVyc3BlY3RpdmU9MCxhLmRlZmF1bHRTa2V3VHlwZT1cImNvbXBlbnNhdGVkXCIsYS5kZWZhdWx0U21vb3RoT3JpZ2luPSEwLGg9XCJweFwiLGEuc3VmZml4TWFwPXt0b3A6aCxyaWdodDpoLGJvdHRvbTpoLGxlZnQ6aCx3aWR0aDpoLGhlaWdodDpoLGZvbnRTaXplOmgscGFkZGluZzpoLG1hcmdpbjpoLHBlcnNwZWN0aXZlOmgsbGluZUhlaWdodDpcIlwifTt2YXIgXyx1LGMsZixwLG0sZD0vKD86XFxkfFxcLVxcZHxcXC5cXGR8XFwtXFwuXFxkKSsvZyxnPS8oPzpcXGR8XFwtXFxkfFxcLlxcZHxcXC1cXC5cXGR8XFwrPVxcZHxcXC09XFxkfFxcKz0uXFxkfFxcLT1cXC5cXGQpKy9nLHY9Lyg/OlxcKz18XFwtPXxcXC18XFxiKVtcXGRcXC1cXC5dK1thLXpBLVowLTldKig/OiV8XFxiKS9naSx5PS8oPyFbKy1dP1xcZCpcXC4/XFxkK3xbKy1dfGVbKy1dXFxkKylbXjAtOV0vZyxUPS8oPzpcXGR8XFwtfFxcK3w9fCN8XFwuKSovZyx4PS9vcGFjaXR5ICo9ICooW14pXSopL2ksdz0vb3BhY2l0eTooW147XSopL2ksYj0vYWxwaGFcXChvcGFjaXR5ICo9Lis/XFwpL2ksUD0vXihyZ2J8aHNsKS8saz0vKFtBLVpdKS9nLFM9Ly0oW2Etel0pL2dpLFI9LyheKD86dXJsXFwoXFxcInx1cmxcXCgpKXwoPzooXFxcIlxcKSkkfFxcKSQpL2dpLE89ZnVuY3Rpb24odCxlKXtyZXR1cm4gZS50b1VwcGVyQ2FzZSgpfSxBPS8oPzpMZWZ0fFJpZ2h0fFdpZHRoKS9pLEM9LyhNMTF8TTEyfE0yMXxNMjIpPVtcXGRcXC1cXC5lXSsvZ2ksRD0vcHJvZ2lkXFw6RFhJbWFnZVRyYW5zZm9ybVxcLk1pY3Jvc29mdFxcLk1hdHJpeFxcKC4rP1xcKS9pLE09LywoPz1bXlxcKV0qKD86XFwofCQpKS9naSx6PU1hdGguUEkvMTgwLEY9MTgwL01hdGguUEksST17fSxFPWRvY3VtZW50LE49ZnVuY3Rpb24odCl7cmV0dXJuIEUuY3JlYXRlRWxlbWVudE5TP0UuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiLHQpOkUuY3JlYXRlRWxlbWVudCh0KX0sTD1OKFwiZGl2XCIpLFg9TihcImltZ1wiKSxCPWEuX2ludGVybmFscz17X3NwZWNpYWxQcm9wczpsfSxqPW5hdmlnYXRvci51c2VyQWdlbnQsWT1mdW5jdGlvbigpe3ZhciB0PWouaW5kZXhPZihcIkFuZHJvaWRcIiksZT1OKFwiYVwiKTtyZXR1cm4gYz0tMSE9PWouaW5kZXhPZihcIlNhZmFyaVwiKSYmLTE9PT1qLmluZGV4T2YoXCJDaHJvbWVcIikmJigtMT09PXR8fE51bWJlcihqLnN1YnN0cih0KzgsMSkpPjMpLHA9YyYmNj5OdW1iZXIoai5zdWJzdHIoai5pbmRleE9mKFwiVmVyc2lvbi9cIikrOCwxKSksZj0tMSE9PWouaW5kZXhPZihcIkZpcmVmb3hcIiksKC9NU0lFIChbMC05XXsxLH1bXFwuMC05XXswLH0pLy5leGVjKGopfHwvVHJpZGVudFxcLy4qcnY6KFswLTldezEsfVtcXC4wLTldezAsfSkvLmV4ZWMoaikpJiYobT1wYXJzZUZsb2F0KFJlZ0V4cC4kMSkpLGU/KGUuc3R5bGUuY3NzVGV4dD1cInRvcDoxcHg7b3BhY2l0eTouNTU7XCIsL14wLjU1Ly50ZXN0KGUuc3R5bGUub3BhY2l0eSkpOiExfSgpLFU9ZnVuY3Rpb24odCl7cmV0dXJuIHgudGVzdChcInN0cmluZ1wiPT10eXBlb2YgdD90Oih0LmN1cnJlbnRTdHlsZT90LmN1cnJlbnRTdHlsZS5maWx0ZXI6dC5zdHlsZS5maWx0ZXIpfHxcIlwiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwOjF9LHE9ZnVuY3Rpb24odCl7d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKHQpfSxWPVwiXCIsRz1cIlwiLFc9ZnVuY3Rpb24odCxlKXtlPWV8fEw7dmFyIGkscyxyPWUuc3R5bGU7aWYodm9pZCAwIT09clt0XSlyZXR1cm4gdDtmb3IodD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDEpLGk9W1wiT1wiLFwiTW96XCIsXCJtc1wiLFwiTXNcIixcIldlYmtpdFwiXSxzPTU7LS1zPi0xJiZ2b2lkIDA9PT1yW2lbc10rdF07KTtyZXR1cm4gcz49MD8oRz0zPT09cz9cIm1zXCI6aVtzXSxWPVwiLVwiK0cudG9Mb3dlckNhc2UoKStcIi1cIixHK3QpOm51bGx9LFo9RS5kZWZhdWx0Vmlldz9FLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oKXt9LFE9YS5nZXRTdHlsZT1mdW5jdGlvbih0LGUsaSxzLHIpe3ZhciBuO3JldHVybiBZfHxcIm9wYWNpdHlcIiE9PWU/KCFzJiZ0LnN0eWxlW2VdP249dC5zdHlsZVtlXTooaT1pfHxaKHQpKT9uPWlbZV18fGkuZ2V0UHJvcGVydHlWYWx1ZShlKXx8aS5nZXRQcm9wZXJ0eVZhbHVlKGUucmVwbGFjZShrLFwiLSQxXCIpLnRvTG93ZXJDYXNlKCkpOnQuY3VycmVudFN0eWxlJiYobj10LmN1cnJlbnRTdHlsZVtlXSksbnVsbD09cnx8biYmXCJub25lXCIhPT1uJiZcImF1dG9cIiE9PW4mJlwiYXV0byBhdXRvXCIhPT1uP246cik6VSh0KX0sJD1CLmNvbnZlcnRUb1BpeGVscz1mdW5jdGlvbih0LGkscyxyLG4pe2lmKFwicHhcIj09PXJ8fCFyKXJldHVybiBzO2lmKFwiYXV0b1wiPT09cnx8IXMpcmV0dXJuIDA7dmFyIG8sbCxoLF89QS50ZXN0KGkpLHU9dCxjPUwuc3R5bGUsZj0wPnM7aWYoZiYmKHM9LXMpLFwiJVwiPT09ciYmLTEhPT1pLmluZGV4T2YoXCJib3JkZXJcIikpbz1zLzEwMCooXz90LmNsaWVudFdpZHRoOnQuY2xpZW50SGVpZ2h0KTtlbHNle2lmKGMuY3NzVGV4dD1cImJvcmRlcjowIHNvbGlkIHJlZDtwb3NpdGlvbjpcIitRKHQsXCJwb3NpdGlvblwiKStcIjtsaW5lLWhlaWdodDowO1wiLFwiJVwiIT09ciYmdS5hcHBlbmRDaGlsZCYmXCJ2XCIhPT1yLmNoYXJBdCgwKSYmXCJyZW1cIiE9PXIpY1tfP1wiYm9yZGVyTGVmdFdpZHRoXCI6XCJib3JkZXJUb3BXaWR0aFwiXT1zK3I7ZWxzZXtpZih1PXQucGFyZW50Tm9kZXx8RS5ib2R5LGw9dS5fZ3NDYWNoZSxoPWUudGlja2VyLmZyYW1lLGwmJl8mJmwudGltZT09PWgpcmV0dXJuIGwud2lkdGgqcy8xMDA7Y1tfP1wid2lkdGhcIjpcImhlaWdodFwiXT1zK3J9dS5hcHBlbmRDaGlsZChMKSxvPXBhcnNlRmxvYXQoTFtfP1wib2Zmc2V0V2lkdGhcIjpcIm9mZnNldEhlaWdodFwiXSksdS5yZW1vdmVDaGlsZChMKSxfJiZcIiVcIj09PXImJmEuY2FjaGVXaWR0aHMhPT0hMSYmKGw9dS5fZ3NDYWNoZT11Ll9nc0NhY2hlfHx7fSxsLnRpbWU9aCxsLndpZHRoPTEwMCooby9zKSksMCE9PW98fG58fChvPSQodCxpLHMsciwhMCkpfXJldHVybiBmPy1vOm99LEg9Qi5jYWxjdWxhdGVPZmZzZXQ9ZnVuY3Rpb24odCxlLGkpe2lmKFwiYWJzb2x1dGVcIiE9PVEodCxcInBvc2l0aW9uXCIsaSkpcmV0dXJuIDA7dmFyIHM9XCJsZWZ0XCI9PT1lP1wiTGVmdFwiOlwiVG9wXCIscj1RKHQsXCJtYXJnaW5cIitzLGkpO3JldHVybiB0W1wib2Zmc2V0XCIrc10tKCQodCxlLHBhcnNlRmxvYXQociksci5yZXBsYWNlKFQsXCJcIikpfHwwKX0sSz1mdW5jdGlvbih0LGUpe3ZhciBpLHMscixuPXt9O2lmKGU9ZXx8Wih0LG51bGwpKWlmKGk9ZS5sZW5ndGgpZm9yKDstLWk+LTE7KXI9ZVtpXSwoLTE9PT1yLmluZGV4T2YoXCItdHJhbnNmb3JtXCIpfHxrZT09PXIpJiYobltyLnJlcGxhY2UoUyxPKV09ZS5nZXRQcm9wZXJ0eVZhbHVlKHIpKTtlbHNlIGZvcihpIGluIGUpKC0xPT09aS5pbmRleE9mKFwiVHJhbnNmb3JtXCIpfHxQZT09PWkpJiYobltpXT1lW2ldKTtlbHNlIGlmKGU9dC5jdXJyZW50U3R5bGV8fHQuc3R5bGUpZm9yKGkgaW4gZSlcInN0cmluZ1wiPT10eXBlb2YgaSYmdm9pZCAwPT09bltpXSYmKG5baS5yZXBsYWNlKFMsTyldPWVbaV0pO3JldHVybiBZfHwobi5vcGFjaXR5PVUodCkpLHM9TmUodCxlLCExKSxuLnJvdGF0aW9uPXMucm90YXRpb24sbi5za2V3WD1zLnNrZXdYLG4uc2NhbGVYPXMuc2NhbGVYLG4uc2NhbGVZPXMuc2NhbGVZLG4ueD1zLngsbi55PXMueSxSZSYmKG4uej1zLnosbi5yb3RhdGlvblg9cy5yb3RhdGlvblgsbi5yb3RhdGlvblk9cy5yb3RhdGlvblksbi5zY2FsZVo9cy5zY2FsZVopLG4uZmlsdGVycyYmZGVsZXRlIG4uZmlsdGVycyxufSxKPWZ1bmN0aW9uKHQsZSxpLHMscil7dmFyIG4sYSxvLGw9e30saD10LnN0eWxlO2ZvcihhIGluIGkpXCJjc3NUZXh0XCIhPT1hJiZcImxlbmd0aFwiIT09YSYmaXNOYU4oYSkmJihlW2FdIT09KG49aVthXSl8fHImJnJbYV0pJiYtMT09PWEuaW5kZXhPZihcIk9yaWdpblwiKSYmKFwibnVtYmVyXCI9PXR5cGVvZiBufHxcInN0cmluZ1wiPT10eXBlb2YgbikmJihsW2FdPVwiYXV0b1wiIT09bnx8XCJsZWZ0XCIhPT1hJiZcInRvcFwiIT09YT9cIlwiIT09biYmXCJhdXRvXCIhPT1uJiZcIm5vbmVcIiE9PW58fFwic3RyaW5nXCIhPXR5cGVvZiBlW2FdfHxcIlwiPT09ZVthXS5yZXBsYWNlKHksXCJcIik/bjowOkgodCxhKSx2b2lkIDAhPT1oW2FdJiYobz1uZXcgcGUoaCxhLGhbYV0sbykpKTtpZihzKWZvcihhIGluIHMpXCJjbGFzc05hbWVcIiE9PWEmJihsW2FdPXNbYV0pO3JldHVybntkaWZzOmwsZmlyc3RNUFQ6b319LHRlPXt3aWR0aDpbXCJMZWZ0XCIsXCJSaWdodFwiXSxoZWlnaHQ6W1wiVG9wXCIsXCJCb3R0b21cIl19LGVlPVtcIm1hcmdpbkxlZnRcIixcIm1hcmdpblJpZ2h0XCIsXCJtYXJnaW5Ub3BcIixcIm1hcmdpbkJvdHRvbVwiXSxpZT1mdW5jdGlvbih0LGUsaSl7dmFyIHM9cGFyc2VGbG9hdChcIndpZHRoXCI9PT1lP3Qub2Zmc2V0V2lkdGg6dC5vZmZzZXRIZWlnaHQpLHI9dGVbZV0sbj1yLmxlbmd0aDtmb3IoaT1pfHxaKHQsbnVsbCk7LS1uPi0xOylzLT1wYXJzZUZsb2F0KFEodCxcInBhZGRpbmdcIityW25dLGksITApKXx8MCxzLT1wYXJzZUZsb2F0KFEodCxcImJvcmRlclwiK3Jbbl0rXCJXaWR0aFwiLGksITApKXx8MDtyZXR1cm4gc30sc2U9ZnVuY3Rpb24odCxlKXtpZihcImNvbnRhaW5cIj09PXR8fFwiYXV0b1wiPT09dHx8XCJhdXRvIGF1dG9cIj09PXQpcmV0dXJuIHQrXCIgXCI7KG51bGw9PXR8fFwiXCI9PT10KSYmKHQ9XCIwIDBcIik7dmFyIGk9dC5zcGxpdChcIiBcIikscz0tMSE9PXQuaW5kZXhPZihcImxlZnRcIik/XCIwJVwiOi0xIT09dC5pbmRleE9mKFwicmlnaHRcIik/XCIxMDAlXCI6aVswXSxyPS0xIT09dC5pbmRleE9mKFwidG9wXCIpP1wiMCVcIjotMSE9PXQuaW5kZXhPZihcImJvdHRvbVwiKT9cIjEwMCVcIjppWzFdO3JldHVybiBudWxsPT1yP3I9XCJjZW50ZXJcIj09PXM/XCI1MCVcIjpcIjBcIjpcImNlbnRlclwiPT09ciYmKHI9XCI1MCVcIiksKFwiY2VudGVyXCI9PT1zfHxpc05hTihwYXJzZUZsb2F0KHMpKSYmLTE9PT0ocytcIlwiKS5pbmRleE9mKFwiPVwiKSkmJihzPVwiNTAlXCIpLHQ9cytcIiBcIityKyhpLmxlbmd0aD4yP1wiIFwiK2lbMl06XCJcIiksZSYmKGUub3hwPS0xIT09cy5pbmRleE9mKFwiJVwiKSxlLm95cD0tMSE9PXIuaW5kZXhPZihcIiVcIiksZS5veHI9XCI9XCI9PT1zLmNoYXJBdCgxKSxlLm95cj1cIj1cIj09PXIuY2hhckF0KDEpLGUub3g9cGFyc2VGbG9hdChzLnJlcGxhY2UoeSxcIlwiKSksZS5veT1wYXJzZUZsb2F0KHIucmVwbGFjZSh5LFwiXCIpKSxlLnY9dCksZXx8dH0scmU9ZnVuY3Rpb24odCxlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmXCI9XCI9PT10LmNoYXJBdCgxKT9wYXJzZUludCh0LmNoYXJBdCgwKStcIjFcIiwxMCkqcGFyc2VGbG9hdCh0LnN1YnN0cigyKSk6cGFyc2VGbG9hdCh0KS1wYXJzZUZsb2F0KGUpfSxuZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P2U6XCJzdHJpbmdcIj09dHlwZW9mIHQmJlwiPVwiPT09dC5jaGFyQXQoMSk/cGFyc2VJbnQodC5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQodC5zdWJzdHIoMikpK2U6cGFyc2VGbG9hdCh0KX0sYWU9ZnVuY3Rpb24odCxlLGkscyl7dmFyIHIsbixhLG8sbCxoPTFlLTY7cmV0dXJuIG51bGw9PXQ/bz1lOlwibnVtYmVyXCI9PXR5cGVvZiB0P289dDoocj0zNjAsbj10LnNwbGl0KFwiX1wiKSxsPVwiPVwiPT09dC5jaGFyQXQoMSksYT0obD9wYXJzZUludCh0LmNoYXJBdCgwKStcIjFcIiwxMCkqcGFyc2VGbG9hdChuWzBdLnN1YnN0cigyKSk6cGFyc2VGbG9hdChuWzBdKSkqKC0xPT09dC5pbmRleE9mKFwicmFkXCIpPzE6RiktKGw/MDplKSxuLmxlbmd0aCYmKHMmJihzW2ldPWUrYSksLTEhPT10LmluZGV4T2YoXCJzaG9ydFwiKSYmKGElPXIsYSE9PWElKHIvMikmJihhPTA+YT9hK3I6YS1yKSksLTEhPT10LmluZGV4T2YoXCJfY3dcIikmJjA+YT9hPShhKzk5OTk5OTk5OTkqciklci0oMHxhL3IpKnI6LTEhPT10LmluZGV4T2YoXCJjY3dcIikmJmE+MCYmKGE9KGEtOTk5OTk5OTk5OSpyKSVyLSgwfGEvcikqcikpLG89ZSthKSxoPm8mJm8+LWgmJihvPTApLG99LG9lPXthcXVhOlswLDI1NSwyNTVdLGxpbWU6WzAsMjU1LDBdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLGJsYWNrOlswLDAsMF0sbWFyb29uOlsxMjgsMCwwXSx0ZWFsOlswLDEyOCwxMjhdLGJsdWU6WzAsMCwyNTVdLG5hdnk6WzAsMCwxMjhdLHdoaXRlOlsyNTUsMjU1LDI1NV0sZnVjaHNpYTpbMjU1LDAsMjU1XSxvbGl2ZTpbMTI4LDEyOCwwXSx5ZWxsb3c6WzI1NSwyNTUsMF0sb3JhbmdlOlsyNTUsMTY1LDBdLGdyYXk6WzEyOCwxMjgsMTI4XSxwdXJwbGU6WzEyOCwwLDEyOF0sZ3JlZW46WzAsMTI4LDBdLHJlZDpbMjU1LDAsMF0scGluazpbMjU1LDE5MiwyMDNdLGN5YW46WzAsMjU1LDI1NV0sdHJhbnNwYXJlbnQ6WzI1NSwyNTUsMjU1LDBdfSxsZT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIHQ9MD50P3QrMTp0PjE/dC0xOnQsMHwyNTUqKDE+Nip0P2UrNiooaS1lKSp0Oi41PnQ/aToyPjMqdD9lKzYqKGktZSkqKDIvMy10KTplKSsuNX0saGU9YS5wYXJzZUNvbG9yPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxyLG4sYSxvLGwsaCxfLHUsYztpZih0KWlmKFwibnVtYmVyXCI9PXR5cGVvZiB0KWk9W3Q+PjE2LDI1NSZ0Pj44LDI1NSZ0XTtlbHNle2lmKFwiLFwiPT09dC5jaGFyQXQodC5sZW5ndGgtMSkmJih0PXQuc3Vic3RyKDAsdC5sZW5ndGgtMSkpLG9lW3RdKWk9b2VbdF07ZWxzZSBpZihcIiNcIj09PXQuY2hhckF0KDApKTQ9PT10Lmxlbmd0aCYmKHM9dC5jaGFyQXQoMSkscj10LmNoYXJBdCgyKSxuPXQuY2hhckF0KDMpLHQ9XCIjXCIrcytzK3IrcituK24pLHQ9cGFyc2VJbnQodC5zdWJzdHIoMSksMTYpLGk9W3Q+PjE2LDI1NSZ0Pj44LDI1NSZ0XTtlbHNlIGlmKFwiaHNsXCI9PT10LnN1YnN0cigwLDMpKWlmKGk9Yz10Lm1hdGNoKGQpLGUpe2lmKC0xIT09dC5pbmRleE9mKFwiPVwiKSlyZXR1cm4gdC5tYXRjaChnKX1lbHNlIGE9TnVtYmVyKGlbMF0pJTM2MC8zNjAsbz1OdW1iZXIoaVsxXSkvMTAwLGw9TnVtYmVyKGlbMl0pLzEwMCxyPS41Pj1sP2wqKG8rMSk6bCtvLWwqbyxzPTIqbC1yLGkubGVuZ3RoPjMmJihpWzNdPU51bWJlcih0WzNdKSksaVswXT1sZShhKzEvMyxzLHIpLGlbMV09bGUoYSxzLHIpLGlbMl09bGUoYS0xLzMscyxyKTtlbHNlIGk9dC5tYXRjaChkKXx8b2UudHJhbnNwYXJlbnQ7aVswXT1OdW1iZXIoaVswXSksaVsxXT1OdW1iZXIoaVsxXSksaVsyXT1OdW1iZXIoaVsyXSksaS5sZW5ndGg+MyYmKGlbM109TnVtYmVyKGlbM10pKX1lbHNlIGk9b2UuYmxhY2s7cmV0dXJuIGUmJiFjJiYocz1pWzBdLzI1NSxyPWlbMV0vMjU1LG49aVsyXS8yNTUsaD1NYXRoLm1heChzLHIsbiksXz1NYXRoLm1pbihzLHIsbiksbD0oaCtfKS8yLGg9PT1fP2E9bz0wOih1PWgtXyxvPWw+LjU/dS8oMi1oLV8pOnUvKGgrXyksYT1oPT09cz8oci1uKS91KyhuPnI/NjowKTpoPT09cj8obi1zKS91KzI6KHMtcikvdSs0LGEqPTYwKSxpWzBdPTB8YSsuNSxpWzFdPTB8MTAwKm8rLjUsaVsyXT0wfDEwMCpsKy41KSxpfSxfZT1mdW5jdGlvbih0LGUpe3ZhciBpLHMscixuPXQubWF0Y2godWUpfHxbXSxhPTAsbz1uLmxlbmd0aD9cIlwiOnQ7Zm9yKGk9MDtuLmxlbmd0aD5pO2krKylzPW5baV0scj10LnN1YnN0cihhLHQuaW5kZXhPZihzLGEpLWEpLGErPXIubGVuZ3RoK3MubGVuZ3RoLHM9aGUocyxlKSwzPT09cy5sZW5ndGgmJnMucHVzaCgxKSxvKz1yKyhlP1wiaHNsYShcIitzWzBdK1wiLFwiK3NbMV0rXCIlLFwiK3NbMl0rXCIlLFwiK3NbM106XCJyZ2JhKFwiK3Muam9pbihcIixcIikpK1wiKVwiO3JldHVybiBvfSx1ZT1cIig/OlxcXFxiKD86KD86cmdifHJnYmF8aHNsfGhzbGEpXFxcXCguKz9cXFxcKSl8XFxcXEIjLis/XFxcXGJcIjtmb3IoaCBpbiBvZSl1ZSs9XCJ8XCIraCtcIlxcXFxiXCI7dWU9UmVnRXhwKHVlK1wiKVwiLFwiZ2lcIiksYS5jb2xvclN0cmluZ0ZpbHRlcj1mdW5jdGlvbih0KXt2YXIgZSxpPXRbMF0rdFsxXTt1ZS5sYXN0SW5kZXg9MCx1ZS50ZXN0KGkpJiYoZT0tMSE9PWkuaW5kZXhPZihcImhzbChcIil8fC0xIT09aS5pbmRleE9mKFwiaHNsYShcIiksdFswXT1fZSh0WzBdLGUpLHRbMV09X2UodFsxXSxlKSl9LGUuZGVmYXVsdFN0cmluZ0ZpbHRlcnx8KGUuZGVmYXVsdFN0cmluZ0ZpbHRlcj1hLmNvbG9yU3RyaW5nRmlsdGVyKTt2YXIgY2U9ZnVuY3Rpb24odCxlLGkscyl7aWYobnVsbD09dClyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHR9O3ZhciByLG49ZT8odC5tYXRjaCh1ZSl8fFtcIlwiXSlbMF06XCJcIixhPXQuc3BsaXQobikuam9pbihcIlwiKS5tYXRjaCh2KXx8W10sbz10LnN1YnN0cigwLHQuaW5kZXhPZihhWzBdKSksbD1cIilcIj09PXQuY2hhckF0KHQubGVuZ3RoLTEpP1wiKVwiOlwiXCIsaD0tMSE9PXQuaW5kZXhPZihcIiBcIik/XCIgXCI6XCIsXCIsXz1hLmxlbmd0aCx1PV8+MD9hWzBdLnJlcGxhY2UoZCxcIlwiKTpcIlwiO3JldHVybiBfP3I9ZT9mdW5jdGlvbih0KXt2YXIgZSxjLGYscDtpZihcIm51bWJlclwiPT10eXBlb2YgdCl0Kz11O2Vsc2UgaWYocyYmTS50ZXN0KHQpKXtmb3IocD10LnJlcGxhY2UoTSxcInxcIikuc3BsaXQoXCJ8XCIpLGY9MDtwLmxlbmd0aD5mO2YrKylwW2ZdPXIocFtmXSk7cmV0dXJuIHAuam9pbihcIixcIil9aWYoZT0odC5tYXRjaCh1ZSl8fFtuXSlbMF0sYz10LnNwbGl0KGUpLmpvaW4oXCJcIikubWF0Y2godil8fFtdLGY9Yy5sZW5ndGgsXz5mLS0pZm9yKDtfPisrZjspY1tmXT1pP2NbMHwoZi0xKS8yXTphW2ZdO3JldHVybiBvK2Muam9pbihoKStoK2UrbCsoLTEhPT10LmluZGV4T2YoXCJpbnNldFwiKT9cIiBpbnNldFwiOlwiXCIpfTpmdW5jdGlvbih0KXt2YXIgZSxuLGM7aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpdCs9dTtlbHNlIGlmKHMmJk0udGVzdCh0KSl7Zm9yKG49dC5yZXBsYWNlKE0sXCJ8XCIpLnNwbGl0KFwifFwiKSxjPTA7bi5sZW5ndGg+YztjKyspbltjXT1yKG5bY10pO3JldHVybiBuLmpvaW4oXCIsXCIpfWlmKGU9dC5tYXRjaCh2KXx8W10sYz1lLmxlbmd0aCxfPmMtLSlmb3IoO18+KytjOyllW2NdPWk/ZVswfChjLTEpLzJdOmFbY107cmV0dXJuIG8rZS5qb2luKGgpK2x9OmZ1bmN0aW9uKHQpe3JldHVybiB0fX0sZmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dC5zcGxpdChcIixcIiksZnVuY3Rpb24oZSxpLHMscixuLGEsbyl7dmFyIGwsaD0oaStcIlwiKS5zcGxpdChcIiBcIik7Zm9yKG89e30sbD0wOzQ+bDtsKyspb1t0W2xdXT1oW2xdPWhbbF18fGhbKGwtMSkvMj4+MF07cmV0dXJuIHIucGFyc2UoZSxvLG4sYSl9fSxwZT0oQi5fc2V0UGx1Z2luUmF0aW89ZnVuY3Rpb24odCl7dGhpcy5wbHVnaW4uc2V0UmF0aW8odCk7Zm9yKHZhciBlLGkscyxyLG49dGhpcy5kYXRhLGE9bi5wcm94eSxvPW4uZmlyc3RNUFQsbD0xZS02O287KWU9YVtvLnZdLG8ucj9lPU1hdGgucm91bmQoZSk6bD5lJiZlPi1sJiYoZT0wKSxvLnRbby5wXT1lLG89by5fbmV4dDtpZihuLmF1dG9Sb3RhdGUmJihuLmF1dG9Sb3RhdGUucm90YXRpb249YS5yb3RhdGlvbiksMT09PXQpZm9yKG89bi5maXJzdE1QVDtvOyl7aWYoaT1vLnQsaS50eXBlKXtpZigxPT09aS50eXBlKXtmb3Iocj1pLnhzMCtpLnMraS54czEscz0xO2kubD5zO3MrKylyKz1pW1wieG5cIitzXStpW1wieHNcIisocysxKV07aS5lPXJ9fWVsc2UgaS5lPWkucytpLnhzMDtvPW8uX25leHR9fSxmdW5jdGlvbih0LGUsaSxzLHIpe3RoaXMudD10LHRoaXMucD1lLHRoaXMudj1pLHRoaXMucj1yLHMmJihzLl9wcmV2PXRoaXMsdGhpcy5fbmV4dD1zKX0pLG1lPShCLl9wYXJzZVRvUHJveHk9ZnVuY3Rpb24odCxlLGkscyxyLG4pe3ZhciBhLG8sbCxoLF8sdT1zLGM9e30sZj17fSxwPWkuX3RyYW5zZm9ybSxtPUk7Zm9yKGkuX3RyYW5zZm9ybT1udWxsLEk9ZSxzPV89aS5wYXJzZSh0LGUscyxyKSxJPW0sbiYmKGkuX3RyYW5zZm9ybT1wLHUmJih1Ll9wcmV2PW51bGwsdS5fcHJldiYmKHUuX3ByZXYuX25leHQ9bnVsbCkpKTtzJiZzIT09dTspe2lmKDE+PXMudHlwZSYmKG89cy5wLGZbb109cy5zK3MuYyxjW29dPXMucyxufHwoaD1uZXcgcGUocyxcInNcIixvLGgscy5yKSxzLmM9MCksMT09PXMudHlwZSkpZm9yKGE9cy5sOy0tYT4wOylsPVwieG5cIithLG89cy5wK1wiX1wiK2wsZltvXT1zLmRhdGFbbF0sY1tvXT1zW2xdLG58fChoPW5ldyBwZShzLGwsbyxoLHMucnhwW2xdKSk7cz1zLl9uZXh0fXJldHVybntwcm94eTpjLGVuZDpmLGZpcnN0TVBUOmgscHQ6X319LEIuQ1NTUHJvcFR3ZWVuPWZ1bmN0aW9uKHQsZSxzLHIsYSxvLGwsaCxfLHUsYyl7dGhpcy50PXQsdGhpcy5wPWUsdGhpcy5zPXMsdGhpcy5jPXIsdGhpcy5uPWx8fGUsdCBpbnN0YW5jZW9mIG1lfHxuLnB1c2godGhpcy5uKSx0aGlzLnI9aCx0aGlzLnR5cGU9b3x8MCxfJiYodGhpcy5wcj1fLGk9ITApLHRoaXMuYj12b2lkIDA9PT11P3M6dSx0aGlzLmU9dm9pZCAwPT09Yz9zK3I6YyxhJiYodGhpcy5fbmV4dD1hLGEuX3ByZXY9dGhpcyl9KSxkZT1mdW5jdGlvbih0LGUsaSxzLHIsbil7dmFyIGE9bmV3IG1lKHQsZSxpLHMtaSxyLC0xLG4pO3JldHVybiBhLmI9aSxhLmU9YS54czA9cyxhfSxnZT1hLnBhcnNlQ29tcGxleD1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8sbCxoKXtpPWl8fG58fFwiXCIsYT1uZXcgbWUodCxlLDAsMCxhLGg/MjoxLG51bGwsITEsbyxpLHMpLHMrPVwiXCI7dmFyIHUsYyxmLHAsbSx2LHksVCx4LHcsYixQLGssUz1pLnNwbGl0KFwiLCBcIikuam9pbihcIixcIikuc3BsaXQoXCIgXCIpLFI9cy5zcGxpdChcIiwgXCIpLmpvaW4oXCIsXCIpLnNwbGl0KFwiIFwiKSxPPVMubGVuZ3RoLEE9XyE9PSExO2ZvcigoLTEhPT1zLmluZGV4T2YoXCIsXCIpfHwtMSE9PWkuaW5kZXhPZihcIixcIikpJiYoUz1TLmpvaW4oXCIgXCIpLnJlcGxhY2UoTSxcIiwgXCIpLnNwbGl0KFwiIFwiKSxSPVIuam9pbihcIiBcIikucmVwbGFjZShNLFwiLCBcIikuc3BsaXQoXCIgXCIpLE89Uy5sZW5ndGgpLE8hPT1SLmxlbmd0aCYmKFM9KG58fFwiXCIpLnNwbGl0KFwiIFwiKSxPPVMubGVuZ3RoKSxhLnBsdWdpbj1sLGEuc2V0UmF0aW89aCx1ZS5sYXN0SW5kZXg9MCx1PTA7Tz51O3UrKylpZihwPVNbdV0sbT1SW3VdLFQ9cGFyc2VGbG9hdChwKSxUfHwwPT09VClhLmFwcGVuZFh0cmEoXCJcIixULHJlKG0sVCksbS5yZXBsYWNlKGcsXCJcIiksQSYmLTEhPT1tLmluZGV4T2YoXCJweFwiKSwhMCk7ZWxzZSBpZihyJiZ1ZS50ZXN0KHApKVA9XCIsXCI9PT1tLmNoYXJBdChtLmxlbmd0aC0xKT9cIiksXCI6XCIpXCIsaz0tMSE9PW0uaW5kZXhPZihcImhzbFwiKSYmWSxwPWhlKHAsayksbT1oZShtLGspLHg9cC5sZW5ndGgrbS5sZW5ndGg+Nix4JiYhWSYmMD09PW1bM10/KGFbXCJ4c1wiK2EubF0rPWEubD9cIiB0cmFuc3BhcmVudFwiOlwidHJhbnNwYXJlbnRcIixhLmU9YS5lLnNwbGl0KFJbdV0pLmpvaW4oXCJ0cmFuc3BhcmVudFwiKSk6KFl8fCh4PSExKSxrP2EuYXBwZW5kWHRyYSh4P1wiaHNsYShcIjpcImhzbChcIixwWzBdLHJlKG1bMF0scFswXSksXCIsXCIsITEsITApLmFwcGVuZFh0cmEoXCJcIixwWzFdLHJlKG1bMV0scFsxXSksXCIlLFwiLCExKS5hcHBlbmRYdHJhKFwiXCIscFsyXSxyZShtWzJdLHBbMl0pLHg/XCIlLFwiOlwiJVwiK1AsITEpOmEuYXBwZW5kWHRyYSh4P1wicmdiYShcIjpcInJnYihcIixwWzBdLG1bMF0tcFswXSxcIixcIiwhMCwhMCkuYXBwZW5kWHRyYShcIlwiLHBbMV0sbVsxXS1wWzFdLFwiLFwiLCEwKS5hcHBlbmRYdHJhKFwiXCIscFsyXSxtWzJdLXBbMl0seD9cIixcIjpQLCEwKSx4JiYocD00PnAubGVuZ3RoPzE6cFszXSxhLmFwcGVuZFh0cmEoXCJcIixwLCg0Pm0ubGVuZ3RoPzE6bVszXSktcCxQLCExKSkpLHVlLmxhc3RJbmRleD0wO2Vsc2UgaWYodj1wLm1hdGNoKGQpKXtpZih5PW0ubWF0Y2goZyksIXl8fHkubGVuZ3RoIT09di5sZW5ndGgpcmV0dXJuIGE7Zm9yKGY9MCxjPTA7di5sZW5ndGg+YztjKyspYj12W2NdLHc9cC5pbmRleE9mKGIsZiksYS5hcHBlbmRYdHJhKHAuc3Vic3RyKGYsdy1mKSxOdW1iZXIoYikscmUoeVtjXSxiKSxcIlwiLEEmJlwicHhcIj09PXAuc3Vic3RyKHcrYi5sZW5ndGgsMiksMD09PWMpLGY9dytiLmxlbmd0aDthW1wieHNcIithLmxdKz1wLnN1YnN0cihmKX1lbHNlIGFbXCJ4c1wiK2EubF0rPWEubD9cIiBcIitwOnA7aWYoLTEhPT1zLmluZGV4T2YoXCI9XCIpJiZhLmRhdGEpe2ZvcihQPWEueHMwK2EuZGF0YS5zLHU9MTthLmw+dTt1KyspUCs9YVtcInhzXCIrdV0rYS5kYXRhW1wieG5cIit1XTthLmU9UCthW1wieHNcIit1XX1yZXR1cm4gYS5sfHwoYS50eXBlPS0xLGEueHMwPWEuZSksYS54Zmlyc3R8fGF9LHZlPTk7Zm9yKGg9bWUucHJvdG90eXBlLGgubD1oLnByPTA7LS12ZT4wOyloW1wieG5cIit2ZV09MCxoW1wieHNcIit2ZV09XCJcIjtoLnhzMD1cIlwiLGguX25leHQ9aC5fcHJldj1oLnhmaXJzdD1oLmRhdGE9aC5wbHVnaW49aC5zZXRSYXRpbz1oLnJ4cD1udWxsLGguYXBwZW5kWHRyYT1mdW5jdGlvbih0LGUsaSxzLHIsbil7dmFyIGE9dGhpcyxvPWEubDtyZXR1cm4gYVtcInhzXCIrb10rPW4mJm8/XCIgXCIrdDp0fHxcIlwiLGl8fDA9PT1vfHxhLnBsdWdpbj8oYS5sKyssYS50eXBlPWEuc2V0UmF0aW8/MjoxLGFbXCJ4c1wiK2EubF09c3x8XCJcIixvPjA/KGEuZGF0YVtcInhuXCIrb109ZStpLGEucnhwW1wieG5cIitvXT1yLGFbXCJ4blwiK29dPWUsYS5wbHVnaW58fChhLnhmaXJzdD1uZXcgbWUoYSxcInhuXCIrbyxlLGksYS54Zmlyc3R8fGEsMCxhLm4scixhLnByKSxhLnhmaXJzdC54czA9MCksYSk6KGEuZGF0YT17czplK2l9LGEucnhwPXt9LGEucz1lLGEuYz1pLGEucj1yLGEpKTooYVtcInhzXCIrb10rPWUrKHN8fFwiXCIpLGEpfTt2YXIgeWU9ZnVuY3Rpb24odCxlKXtlPWV8fHt9LHRoaXMucD1lLnByZWZpeD9XKHQpfHx0OnQsbFt0XT1sW3RoaXMucF09dGhpcyx0aGlzLmZvcm1hdD1lLmZvcm1hdHRlcnx8Y2UoZS5kZWZhdWx0VmFsdWUsZS5jb2xvcixlLmNvbGxhcHNpYmxlLGUubXVsdGkpLGUucGFyc2VyJiYodGhpcy5wYXJzZT1lLnBhcnNlciksdGhpcy5jbHJzPWUuY29sb3IsdGhpcy5tdWx0aT1lLm11bHRpLHRoaXMua2V5d29yZD1lLmtleXdvcmQsdGhpcy5kZmx0PWUuZGVmYXVsdFZhbHVlLHRoaXMucHI9ZS5wcmlvcml0eXx8MH0sVGU9Qi5fcmVnaXN0ZXJDb21wbGV4U3BlY2lhbFByb3A9ZnVuY3Rpb24odCxlLGkpe1wib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT17cGFyc2VyOml9KTt2YXIgcyxyLG49dC5zcGxpdChcIixcIiksYT1lLmRlZmF1bHRWYWx1ZTtmb3IoaT1pfHxbYV0scz0wO24ubGVuZ3RoPnM7cysrKWUucHJlZml4PTA9PT1zJiZlLnByZWZpeCxlLmRlZmF1bHRWYWx1ZT1pW3NdfHxhLHI9bmV3IHllKG5bc10sZSl9LHhlPWZ1bmN0aW9uKHQpe2lmKCFsW3RdKXt2YXIgZT10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDEpK1wiUGx1Z2luXCI7VGUodCx7cGFyc2VyOmZ1bmN0aW9uKHQsaSxzLHIsbixhLGgpe3ZhciBfPW8uY29tLmdyZWVuc29jay5wbHVnaW5zW2VdO3JldHVybiBfPyhfLl9jc3NSZWdpc3RlcigpLGxbc10ucGFyc2UodCxpLHMscixuLGEsaCkpOihxKFwiRXJyb3I6IFwiK2UrXCIganMgZmlsZSBub3QgbG9hZGVkLlwiKSxuKX19KX19O2g9eWUucHJvdG90eXBlLGgucGFyc2VDb21wbGV4PWZ1bmN0aW9uKHQsZSxpLHMscixuKXt2YXIgYSxvLGwsaCxfLHUsYz10aGlzLmtleXdvcmQ7aWYodGhpcy5tdWx0aSYmKE0udGVzdChpKXx8TS50ZXN0KGUpPyhvPWUucmVwbGFjZShNLFwifFwiKS5zcGxpdChcInxcIiksbD1pLnJlcGxhY2UoTSxcInxcIikuc3BsaXQoXCJ8XCIpKTpjJiYobz1bZV0sbD1baV0pKSxsKXtmb3IoaD1sLmxlbmd0aD5vLmxlbmd0aD9sLmxlbmd0aDpvLmxlbmd0aCxhPTA7aD5hO2ErKyllPW9bYV09b1thXXx8dGhpcy5kZmx0LGk9bFthXT1sW2FdfHx0aGlzLmRmbHQsYyYmKF89ZS5pbmRleE9mKGMpLHU9aS5pbmRleE9mKGMpLF8hPT11JiYoLTE9PT11P29bYV09b1thXS5zcGxpdChjKS5qb2luKFwiXCIpOi0xPT09XyYmKG9bYV0rPVwiIFwiK2MpKSk7ZT1vLmpvaW4oXCIsIFwiKSxpPWwuam9pbihcIiwgXCIpfXJldHVybiBnZSh0LHRoaXMucCxlLGksdGhpcy5jbHJzLHRoaXMuZGZsdCxzLHRoaXMucHIscixuKX0saC5wYXJzZT1mdW5jdGlvbih0LGUsaSxzLG4sYSl7cmV0dXJuIHRoaXMucGFyc2VDb21wbGV4KHQuc3R5bGUsdGhpcy5mb3JtYXQoUSh0LHRoaXMucCxyLCExLHRoaXMuZGZsdCkpLHRoaXMuZm9ybWF0KGUpLG4sYSl9LGEucmVnaXN0ZXJTcGVjaWFsUHJvcD1mdW5jdGlvbih0LGUsaSl7VGUodCx7cGFyc2VyOmZ1bmN0aW9uKHQscyxyLG4sYSxvKXt2YXIgbD1uZXcgbWUodCxyLDAsMCxhLDIsciwhMSxpKTtyZXR1cm4gbC5wbHVnaW49byxsLnNldFJhdGlvPWUodCxzLG4uX3R3ZWVuLHIpLGx9LHByaW9yaXR5Oml9KX0sYS51c2VTVkdUcmFuc2Zvcm1BdHRyPWN8fGY7dmFyIHdlLGJlPVwic2NhbGVYLHNjYWxlWSxzY2FsZVoseCx5LHosc2tld1gsc2tld1kscm90YXRpb24scm90YXRpb25YLHJvdGF0aW9uWSxwZXJzcGVjdGl2ZSx4UGVyY2VudCx5UGVyY2VudFwiLnNwbGl0KFwiLFwiKSxQZT1XKFwidHJhbnNmb3JtXCIpLGtlPVYrXCJ0cmFuc2Zvcm1cIixTZT1XKFwidHJhbnNmb3JtT3JpZ2luXCIpLFJlPW51bGwhPT1XKFwicGVyc3BlY3RpdmVcIiksT2U9Qi5UcmFuc2Zvcm09ZnVuY3Rpb24oKXt0aGlzLnBlcnNwZWN0aXZlPXBhcnNlRmxvYXQoYS5kZWZhdWx0VHJhbnNmb3JtUGVyc3BlY3RpdmUpfHwwLHRoaXMuZm9yY2UzRD1hLmRlZmF1bHRGb3JjZTNEIT09ITEmJlJlP2EuZGVmYXVsdEZvcmNlM0R8fFwiYXV0b1wiOiExfSxBZT13aW5kb3cuU1ZHRWxlbWVudCxDZT1mdW5jdGlvbih0LGUsaSl7dmFyIHMscj1FLmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsdCksbj0vKFthLXpdKShbQS1aXSkvZztmb3IocyBpbiBpKXIuc2V0QXR0cmlidXRlTlMobnVsbCxzLnJlcGxhY2UobixcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCksaVtzXSk7cmV0dXJuIGUuYXBwZW5kQ2hpbGQocikscn0sRGU9RS5kb2N1bWVudEVsZW1lbnQsTWU9ZnVuY3Rpb24oKXt2YXIgdCxlLGkscz1tfHwvQW5kcm9pZC9pLnRlc3QoaikmJiF3aW5kb3cuY2hyb21lO3JldHVybiBFLmNyZWF0ZUVsZW1lbnROUyYmIXMmJih0PUNlKFwic3ZnXCIsRGUpLGU9Q2UoXCJyZWN0XCIsdCx7d2lkdGg6MTAwLGhlaWdodDo1MCx4OjEwMH0pLGk9ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxlLnN0eWxlW1NlXT1cIjUwJSA1MCVcIixlLnN0eWxlW1BlXT1cInNjYWxlWCgwLjUpXCIscz1pPT09ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCYmIShmJiZSZSksRGUucmVtb3ZlQ2hpbGQodCkpLHN9KCksemU9ZnVuY3Rpb24odCxlLGkscyxyKXt2YXIgbixvLGwsaCxfLHUsYyxmLHAsbSxkLGcsdix5LFQ9dC5fZ3NUcmFuc2Zvcm0seD1FZSh0LCEwKTtUJiYodj1ULnhPcmlnaW4seT1ULnlPcmlnaW4pLCghc3x8Mj4obj1zLnNwbGl0KFwiIFwiKSkubGVuZ3RoKSYmKGM9dC5nZXRCQm94KCksZT1zZShlKS5zcGxpdChcIiBcIiksbj1bKC0xIT09ZVswXS5pbmRleE9mKFwiJVwiKT9wYXJzZUZsb2F0KGVbMF0pLzEwMCpjLndpZHRoOnBhcnNlRmxvYXQoZVswXSkpK2MueCwoLTEhPT1lWzFdLmluZGV4T2YoXCIlXCIpP3BhcnNlRmxvYXQoZVsxXSkvMTAwKmMuaGVpZ2h0OnBhcnNlRmxvYXQoZVsxXSkpK2MueV0pLGkueE9yaWdpbj1oPXBhcnNlRmxvYXQoblswXSksaS55T3JpZ2luPV89cGFyc2VGbG9hdChuWzFdKSxzJiZ4IT09SWUmJih1PXhbMF0sYz14WzFdLGY9eFsyXSxwPXhbM10sbT14WzRdLGQ9eFs1XSxnPXUqcC1jKmYsbz1oKihwL2cpK18qKC1mL2cpKyhmKmQtcCptKS9nLGw9aCooLWMvZykrXyoodS9nKS0odSpkLWMqbSkvZyxoPWkueE9yaWdpbj1uWzBdPW8sXz1pLnlPcmlnaW49blsxXT1sKSxUJiYocnx8ciE9PSExJiZhLmRlZmF1bHRTbW9vdGhPcmlnaW4hPT0hMT8obz1oLXYsbD1fLXksVC54T2Zmc2V0Kz1vKnhbMF0rbCp4WzJdLW8sVC55T2Zmc2V0Kz1vKnhbMV0rbCp4WzNdLWwpOlQueE9mZnNldD1ULnlPZmZzZXQ9MCksdC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXN2Zy1vcmlnaW5cIixuLmpvaW4oXCIgXCIpKX0sRmU9ZnVuY3Rpb24odCl7cmV0dXJuISEoQWUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0QkJveCYmdC5nZXRDVE0mJighdC5wYXJlbnROb2RlfHx0LnBhcmVudE5vZGUuZ2V0QkJveCYmdC5wYXJlbnROb2RlLmdldENUTSkpfSxJZT1bMSwwLDAsMSwwLDBdLEVlPWZ1bmN0aW9uKHQsZSl7dmFyIGkscyxyLG4sYSxvPXQuX2dzVHJhbnNmb3JtfHxuZXcgT2UsbD0xZTU7aWYoUGU/cz1RKHQsa2UsbnVsbCwhMCk6dC5jdXJyZW50U3R5bGUmJihzPXQuY3VycmVudFN0eWxlLmZpbHRlci5tYXRjaChDKSxzPXMmJjQ9PT1zLmxlbmd0aD9bc1swXS5zdWJzdHIoNCksTnVtYmVyKHNbMl0uc3Vic3RyKDQpKSxOdW1iZXIoc1sxXS5zdWJzdHIoNCkpLHNbM10uc3Vic3RyKDQpLG8ueHx8MCxvLnl8fDBdLmpvaW4oXCIsXCIpOlwiXCIpLGk9IXN8fFwibm9uZVwiPT09c3x8XCJtYXRyaXgoMSwgMCwgMCwgMSwgMCwgMClcIj09PXMsKG8uc3ZnfHx0LmdldEJCb3gmJkZlKHQpKSYmKGkmJi0xIT09KHQuc3R5bGVbUGVdK1wiXCIpLmluZGV4T2YoXCJtYXRyaXhcIikmJihzPXQuc3R5bGVbUGVdLGk9MCkscj10LmdldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiKSxpJiZyJiYoLTEhPT1yLmluZGV4T2YoXCJtYXRyaXhcIik/KHM9cixpPTApOi0xIT09ci5pbmRleE9mKFwidHJhbnNsYXRlXCIpJiYocz1cIm1hdHJpeCgxLDAsMCwxLFwiK3IubWF0Y2goLyg/OlxcLXxcXGIpW1xcZFxcLVxcLmVdK1xcYi9naSkuam9pbihcIixcIikrXCIpXCIsaT0wKSkpLGkpcmV0dXJuIEllO2ZvcihyPShzfHxcIlwiKS5tYXRjaCgvKD86XFwtfFxcYilbXFxkXFwtXFwuZV0rXFxiL2dpKXx8W10sdmU9ci5sZW5ndGg7LS12ZT4tMTspbj1OdW1iZXIoclt2ZV0pLHJbdmVdPShhPW4tKG58PTApKT8oMHxhKmwrKDA+YT8tLjU6LjUpKS9sK246bjtyZXR1cm4gZSYmci5sZW5ndGg+Nj9bclswXSxyWzFdLHJbNF0scls1XSxyWzEyXSxyWzEzXV06cn0sTmU9Qi5nZXRUcmFuc2Zvcm09ZnVuY3Rpb24odCxpLHMsbil7aWYodC5fZ3NUcmFuc2Zvcm0mJnMmJiFuKXJldHVybiB0Ll9nc1RyYW5zZm9ybTt2YXIgbyxsLGgsXyx1LGMsZj1zP3QuX2dzVHJhbnNmb3JtfHxuZXcgT2U6bmV3IE9lLHA9MD5mLnNjYWxlWCxtPTJlLTUsZD0xZTUsZz1SZT9wYXJzZUZsb2F0KFEodCxTZSxpLCExLFwiMCAwIDBcIikuc3BsaXQoXCIgXCIpWzJdKXx8Zi56T3JpZ2lufHwwOjAsdj1wYXJzZUZsb2F0KGEuZGVmYXVsdFRyYW5zZm9ybVBlcnNwZWN0aXZlKXx8MDtpZihmLnN2Zz0hKCF0LmdldEJCb3h8fCFGZSh0KSksZi5zdmcmJih6ZSh0LFEodCxTZSxyLCExLFwiNTAlIDUwJVwiKStcIlwiLGYsdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN2Zy1vcmlnaW5cIikpLHdlPWEudXNlU1ZHVHJhbnNmb3JtQXR0cnx8TWUpLG89RWUodCksbyE9PUllKXtpZigxNj09PW8ubGVuZ3RoKXt2YXIgeSxULHgsdyxiLFA9b1swXSxrPW9bMV0sUz1vWzJdLFI9b1szXSxPPW9bNF0sQT1vWzVdLEM9b1s2XSxEPW9bN10sTT1vWzhdLHo9b1s5XSxJPW9bMTBdLEU9b1sxMl0sTj1vWzEzXSxMPW9bMTRdLFg9b1sxMV0sQj1NYXRoLmF0YW4yKEMsSSk7Zi56T3JpZ2luJiYoTD0tZi56T3JpZ2luLEU9TSpMLW9bMTJdLE49eipMLW9bMTNdLEw9SSpMK2Yuek9yaWdpbi1vWzE0XSksZi5yb3RhdGlvblg9QipGLEImJih3PU1hdGguY29zKC1CKSxiPU1hdGguc2luKC1CKSx5PU8qdytNKmIsVD1BKncreipiLHg9Qyp3K0kqYixNPU8qLWIrTSp3LHo9QSotYit6KncsST1DKi1iK0kqdyxYPUQqLWIrWCp3LE89eSxBPVQsQz14KSxCPU1hdGguYXRhbjIoTSxJKSxmLnJvdGF0aW9uWT1CKkYsQiYmKHc9TWF0aC5jb3MoLUIpLGI9TWF0aC5zaW4oLUIpLHk9UCp3LU0qYixUPWsqdy16KmIseD1TKnctSSpiLHo9aypiK3oqdyxJPVMqYitJKncsWD1SKmIrWCp3LFA9eSxrPVQsUz14KSxCPU1hdGguYXRhbjIoayxQKSxmLnJvdGF0aW9uPUIqRixCJiYodz1NYXRoLmNvcygtQiksYj1NYXRoLnNpbigtQiksUD1QKncrTypiLFQ9ayp3K0EqYixBPWsqLWIrQSp3LEM9UyotYitDKncsaz1UKSxmLnJvdGF0aW9uWCYmTWF0aC5hYnMoZi5yb3RhdGlvblgpK01hdGguYWJzKGYucm90YXRpb24pPjM1OS45JiYoZi5yb3RhdGlvblg9Zi5yb3RhdGlvbj0wLGYucm90YXRpb25ZKz0xODApLGYuc2NhbGVYPSgwfE1hdGguc3FydChQKlArayprKSpkKy41KS9kLGYuc2NhbGVZPSgwfE1hdGguc3FydChBKkEreip6KSpkKy41KS9kLGYuc2NhbGVaPSgwfE1hdGguc3FydChDKkMrSSpJKSpkKy41KS9kLGYuc2tld1g9MCxmLnBlcnNwZWN0aXZlPVg/MS8oMD5YPy1YOlgpOjAsZi54PUUsZi55PU4sZi56PUwsZi5zdmcmJihmLngtPWYueE9yaWdpbi0oZi54T3JpZ2luKlAtZi55T3JpZ2luKk8pLGYueS09Zi55T3JpZ2luLShmLnlPcmlnaW4qay1mLnhPcmlnaW4qQSkpfWVsc2UgaWYoIShSZSYmIW4mJm8ubGVuZ3RoJiZmLng9PT1vWzRdJiZmLnk9PT1vWzVdJiYoZi5yb3RhdGlvblh8fGYucm90YXRpb25ZKXx8dm9pZCAwIT09Zi54JiZcIm5vbmVcIj09PVEodCxcImRpc3BsYXlcIixpKSkpe3ZhciBqPW8ubGVuZ3RoPj02LFk9aj9vWzBdOjEsVT1vWzFdfHwwLHE9b1syXXx8MCxWPWo/b1szXToxO2YueD1vWzRdfHwwLGYueT1vWzVdfHwwLGg9TWF0aC5zcXJ0KFkqWStVKlUpLF89TWF0aC5zcXJ0KFYqVitxKnEpLHU9WXx8VT9NYXRoLmF0YW4yKFUsWSkqRjpmLnJvdGF0aW9ufHwwLGM9cXx8Vj9NYXRoLmF0YW4yKHEsVikqRit1OmYuc2tld1h8fDAsTWF0aC5hYnMoYyk+OTAmJjI3MD5NYXRoLmFicyhjKSYmKHA/KGgqPS0xLGMrPTA+PXU/MTgwOi0xODAsdSs9MD49dT8xODA6LTE4MCk6KF8qPS0xLGMrPTA+PWM/MTgwOi0xODApKSxmLnNjYWxlWD1oLGYuc2NhbGVZPV8sZi5yb3RhdGlvbj11LGYuc2tld1g9YyxSZSYmKGYucm90YXRpb25YPWYucm90YXRpb25ZPWYuej0wLGYucGVyc3BlY3RpdmU9dixmLnNjYWxlWj0xKSxmLnN2ZyYmKGYueC09Zi54T3JpZ2luLShmLnhPcmlnaW4qWStmLnlPcmlnaW4qcSksZi55LT1mLnlPcmlnaW4tKGYueE9yaWdpbipVK2YueU9yaWdpbipWKSl9Zi56T3JpZ2luPWc7Zm9yKGwgaW4gZiltPmZbbF0mJmZbbF0+LW0mJihmW2xdPTApfXJldHVybiBzJiYodC5fZ3NUcmFuc2Zvcm09ZixmLnN2ZyYmKHdlJiZ0LnN0eWxlW1BlXT9lLmRlbGF5ZWRDYWxsKC4wMDEsZnVuY3Rpb24oKXtqZSh0LnN0eWxlLFBlKX0pOiF3ZSYmdC5nZXRBdHRyaWJ1dGUoXCJ0cmFuc2Zvcm1cIikmJmUuZGVsYXllZENhbGwoLjAwMSxmdW5jdGlvbigpe3QucmVtb3ZlQXR0cmlidXRlKFwidHJhbnNmb3JtXCIpfSkpKSxmfSxMZT1mdW5jdGlvbih0KXt2YXIgZSxpLHM9dGhpcy5kYXRhLHI9LXMucm90YXRpb24qeixuPXIrcy5za2V3WCp6LGE9MWU1LG89KDB8TWF0aC5jb3Mocikqcy5zY2FsZVgqYSkvYSxsPSgwfE1hdGguc2luKHIpKnMuc2NhbGVYKmEpL2EsaD0oMHxNYXRoLnNpbihuKSotcy5zY2FsZVkqYSkvYSxfPSgwfE1hdGguY29zKG4pKnMuc2NhbGVZKmEpL2EsdT10aGlzLnQuc3R5bGUsYz10aGlzLnQuY3VycmVudFN0eWxlO2lmKGMpe2k9bCxsPS1oLGg9LWksZT1jLmZpbHRlcix1LmZpbHRlcj1cIlwiO3ZhciBmLHAsZD10aGlzLnQub2Zmc2V0V2lkdGgsZz10aGlzLnQub2Zmc2V0SGVpZ2h0LHY9XCJhYnNvbHV0ZVwiIT09Yy5wb3NpdGlvbix5PVwicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChNMTE9XCIrbytcIiwgTTEyPVwiK2wrXCIsIE0yMT1cIitoK1wiLCBNMjI9XCIrXyx3PXMueCtkKnMueFBlcmNlbnQvMTAwLGI9cy55K2cqcy55UGVyY2VudC8xMDA7aWYobnVsbCE9cy5veCYmKGY9KHMub3hwPy4wMSpkKnMub3g6cy5veCktZC8yLHA9KHMub3lwPy4wMSpnKnMub3k6cy5veSktZy8yLHcrPWYtKGYqbytwKmwpLGIrPXAtKGYqaCtwKl8pKSx2PyhmPWQvMixwPWcvMix5Kz1cIiwgRHg9XCIrKGYtKGYqbytwKmwpK3cpK1wiLCBEeT1cIisocC0oZipoK3AqXykrYikrXCIpXCIpOnkrPVwiLCBzaXppbmdNZXRob2Q9J2F1dG8gZXhwYW5kJylcIix1LmZpbHRlcj0tMSE9PWUuaW5kZXhPZihcIkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0Lk1hdHJpeChcIik/ZS5yZXBsYWNlKEQseSk6eStcIiBcIitlLCgwPT09dHx8MT09PXQpJiYxPT09byYmMD09PWwmJjA9PT1oJiYxPT09XyYmKHYmJi0xPT09eS5pbmRleE9mKFwiRHg9MCwgRHk9MFwiKXx8eC50ZXN0KGUpJiYxMDAhPT1wYXJzZUZsb2F0KFJlZ0V4cC4kMSl8fC0xPT09ZS5pbmRleE9mKFwiZ3JhZGllbnQoXCImJmUuaW5kZXhPZihcIkFscGhhXCIpKSYmdS5yZW1vdmVBdHRyaWJ1dGUoXCJmaWx0ZXJcIikpLCF2KXt2YXIgUCxrLFMsUj04Pm0/MTotMTtmb3IoZj1zLmllT2Zmc2V0WHx8MCxwPXMuaWVPZmZzZXRZfHwwLHMuaWVPZmZzZXRYPU1hdGgucm91bmQoKGQtKCgwPm8/LW86bykqZCsoMD5sPy1sOmwpKmcpKS8yK3cpLHMuaWVPZmZzZXRZPU1hdGgucm91bmQoKGctKCgwPl8/LV86XykqZysoMD5oPy1oOmgpKmQpKS8yK2IpLHZlPTA7ND52ZTt2ZSsrKWs9ZWVbdmVdLFA9Y1trXSxpPS0xIT09UC5pbmRleE9mKFwicHhcIik/cGFyc2VGbG9hdChQKTokKHRoaXMudCxrLHBhcnNlRmxvYXQoUCksUC5yZXBsYWNlKFQsXCJcIikpfHwwLFM9aSE9PXNba10/Mj52ZT8tcy5pZU9mZnNldFg6LXMuaWVPZmZzZXRZOjI+dmU/Zi1zLmllT2Zmc2V0WDpwLXMuaWVPZmZzZXRZLHVba109KHNba109TWF0aC5yb3VuZChpLVMqKDA9PT12ZXx8Mj09PXZlPzE6UikpKStcInB4XCJ9fX0sWGU9Qi5zZXQzRFRyYW5zZm9ybVJhdGlvPUIuc2V0VHJhbnNmb3JtUmF0aW89ZnVuY3Rpb24odCl7dmFyIGUsaSxzLHIsbixhLG8sbCxoLF8sdSxjLHAsbSxkLGcsdix5LFQseCx3LGIsUCxrPXRoaXMuZGF0YSxTPXRoaXMudC5zdHlsZSxSPWsucm90YXRpb24sTz1rLnJvdGF0aW9uWCxBPWsucm90YXRpb25ZLEM9ay5zY2FsZVgsRD1rLnNjYWxlWSxNPWsuc2NhbGVaLEY9ay54LEk9ay55LEU9ay56LE49ay5zdmcsTD1rLnBlcnNwZWN0aXZlLFg9ay5mb3JjZTNEO2lmKCEoKCgxIT09dCYmMCE9PXR8fFwiYXV0b1wiIT09WHx8dGhpcy50d2Vlbi5fdG90YWxUaW1lIT09dGhpcy50d2Vlbi5fdG90YWxEdXJhdGlvbiYmdGhpcy50d2Vlbi5fdG90YWxUaW1lKSYmWHx8RXx8THx8QXx8TykmJighd2V8fCFOKSYmUmUpKXJldHVybiBSfHxrLnNrZXdYfHxOPyhSKj16LGI9ay5za2V3WCp6LFA9MWU1LGU9TWF0aC5jb3MoUikqQyxyPU1hdGguc2luKFIpKkMsaT1NYXRoLnNpbihSLWIpKi1ELG49TWF0aC5jb3MoUi1iKSpELGImJlwic2ltcGxlXCI9PT1rLnNrZXdUeXBlJiYodj1NYXRoLnRhbihiKSx2PU1hdGguc3FydCgxK3YqdiksaSo9dixuKj12LGsuc2tld1kmJihlKj12LHIqPXYpKSxOJiYoRis9ay54T3JpZ2luLShrLnhPcmlnaW4qZStrLnlPcmlnaW4qaSkray54T2Zmc2V0LEkrPWsueU9yaWdpbi0oay54T3JpZ2luKnIray55T3JpZ2luKm4pK2sueU9mZnNldCx3ZSYmKGsueFBlcmNlbnR8fGsueVBlcmNlbnQpJiYobT10aGlzLnQuZ2V0QkJveCgpLEYrPS4wMSprLnhQZXJjZW50Km0ud2lkdGgsSSs9LjAxKmsueVBlcmNlbnQqbS5oZWlnaHQpLG09MWUtNixtPkYmJkY+LW0mJihGPTApLG0+SSYmST4tbSYmKEk9MCkpLFQ9KDB8ZSpQKS9QK1wiLFwiKygwfHIqUCkvUCtcIixcIisoMHxpKlApL1ArXCIsXCIrKDB8bipQKS9QK1wiLFwiK0YrXCIsXCIrSStcIilcIixOJiZ3ZT90aGlzLnQuc2V0QXR0cmlidXRlKFwidHJhbnNmb3JtXCIsXCJtYXRyaXgoXCIrVCk6U1tQZV09KGsueFBlcmNlbnR8fGsueVBlcmNlbnQ/XCJ0cmFuc2xhdGUoXCIray54UGVyY2VudCtcIiUsXCIray55UGVyY2VudCtcIiUpIG1hdHJpeChcIjpcIm1hdHJpeChcIikrVCk6U1tQZV09KGsueFBlcmNlbnR8fGsueVBlcmNlbnQ/XCJ0cmFuc2xhdGUoXCIray54UGVyY2VudCtcIiUsXCIray55UGVyY2VudCtcIiUpIG1hdHJpeChcIjpcIm1hdHJpeChcIikrQytcIiwwLDAsXCIrRCtcIixcIitGK1wiLFwiK0krXCIpXCIsdm9pZCAwO2lmKGYmJihtPTFlLTQsbT5DJiZDPi1tJiYoQz1NPTJlLTUpLG0+RCYmRD4tbSYmKEQ9TT0yZS01KSwhTHx8ay56fHxrLnJvdGF0aW9uWHx8ay5yb3RhdGlvbll8fChMPTApKSxSfHxrLnNrZXdYKVIqPXosZD1lPU1hdGguY29zKFIpLGc9cj1NYXRoLnNpbihSKSxrLnNrZXdYJiYoUi09ay5za2V3WCp6LGQ9TWF0aC5jb3MoUiksZz1NYXRoLnNpbihSKSxcInNpbXBsZVwiPT09ay5za2V3VHlwZSYmKHY9TWF0aC50YW4oay5za2V3WCp6KSx2PU1hdGguc3FydCgxK3YqdiksZCo9dixnKj12LGsuc2tld1kmJihlKj12LHIqPXYpKSksaT0tZyxuPWQ7ZWxzZXtpZighKEF8fE98fDEhPT1NfHxMfHxOKSlyZXR1cm4gU1tQZV09KGsueFBlcmNlbnR8fGsueVBlcmNlbnQ/XCJ0cmFuc2xhdGUoXCIray54UGVyY2VudCtcIiUsXCIray55UGVyY2VudCtcIiUpIHRyYW5zbGF0ZTNkKFwiOlwidHJhbnNsYXRlM2QoXCIpK0YrXCJweCxcIitJK1wicHgsXCIrRStcInB4KVwiKygxIT09Q3x8MSE9PUQ/XCIgc2NhbGUoXCIrQytcIixcIitEK1wiKVwiOlwiXCIpLHZvaWQgMDtlPW49MSxpPXI9MH1oPTEscz1hPW89bD1fPXU9MCxjPUw/LTEvTDowLHA9ay56T3JpZ2luLG09MWUtNix4PVwiLFwiLHc9XCIwXCIsUj1BKnosUiYmKGQ9TWF0aC5jb3MoUiksZz1NYXRoLnNpbihSKSxvPS1nLF89YyotZyxzPWUqZyxhPXIqZyxoPWQsYyo9ZCxlKj1kLHIqPWQpLFI9Typ6LFImJihkPU1hdGguY29zKFIpLGc9TWF0aC5zaW4oUiksdj1pKmQrcypnLHk9bipkK2EqZyxsPWgqZyx1PWMqZyxzPWkqLWcrcypkLGE9biotZythKmQsaCo9ZCxjKj1kLGk9dixuPXkpLDEhPT1NJiYocyo9TSxhKj1NLGgqPU0sYyo9TSksMSE9PUQmJihpKj1ELG4qPUQsbCo9RCx1Kj1EKSwxIT09QyYmKGUqPUMscio9QyxvKj1DLF8qPUMpLChwfHxOKSYmKHAmJihGKz1zKi1wLEkrPWEqLXAsRSs9aCotcCtwKSxOJiYoRis9ay54T3JpZ2luLShrLnhPcmlnaW4qZStrLnlPcmlnaW4qaSkray54T2Zmc2V0LEkrPWsueU9yaWdpbi0oay54T3JpZ2luKnIray55T3JpZ2luKm4pK2sueU9mZnNldCksbT5GJiZGPi1tJiYoRj13KSxtPkkmJkk+LW0mJihJPXcpLG0+RSYmRT4tbSYmKEU9MCkpLFQ9ay54UGVyY2VudHx8ay55UGVyY2VudD9cInRyYW5zbGF0ZShcIitrLnhQZXJjZW50K1wiJSxcIitrLnlQZXJjZW50K1wiJSkgbWF0cml4M2QoXCI6XCJtYXRyaXgzZChcIixUKz0obT5lJiZlPi1tP3c6ZSkreCsobT5yJiZyPi1tP3c6cikreCsobT5vJiZvPi1tP3c6byksVCs9eCsobT5fJiZfPi1tP3c6XykreCsobT5pJiZpPi1tP3c6aSkreCsobT5uJiZuPi1tP3c6biksT3x8QT8oVCs9eCsobT5sJiZsPi1tP3c6bCkreCsobT51JiZ1Pi1tP3c6dSkreCsobT5zJiZzPi1tP3c6cyksVCs9eCsobT5hJiZhPi1tP3c6YSkreCsobT5oJiZoPi1tP3c6aCkreCsobT5jJiZjPi1tP3c6YykreCk6VCs9XCIsMCwwLDAsMCwxLDAsXCIsVCs9Rit4K0kreCtFK3grKEw/MSstRS9MOjEpK1wiKVwiLFNbUGVdPVR9O2g9T2UucHJvdG90eXBlLGgueD1oLnk9aC56PWguc2tld1g9aC5za2V3WT1oLnJvdGF0aW9uPWgucm90YXRpb25YPWgucm90YXRpb25ZPWguek9yaWdpbj1oLnhQZXJjZW50PWgueVBlcmNlbnQ9aC54T2Zmc2V0PWgueU9mZnNldD0wLGguc2NhbGVYPWguc2NhbGVZPWguc2NhbGVaPTEsVGUoXCJ0cmFuc2Zvcm0sc2NhbGUsc2NhbGVYLHNjYWxlWSxzY2FsZVoseCx5LHoscm90YXRpb24scm90YXRpb25YLHJvdGF0aW9uWSxyb3RhdGlvblosc2tld1gsc2tld1ksc2hvcnRSb3RhdGlvbixzaG9ydFJvdGF0aW9uWCxzaG9ydFJvdGF0aW9uWSxzaG9ydFJvdGF0aW9uWix0cmFuc2Zvcm1PcmlnaW4sc3ZnT3JpZ2luLHRyYW5zZm9ybVBlcnNwZWN0aXZlLGRpcmVjdGlvbmFsUm90YXRpb24scGFyc2VUcmFuc2Zvcm0sZm9yY2UzRCxza2V3VHlwZSx4UGVyY2VudCx5UGVyY2VudCxzbW9vdGhPcmlnaW5cIix7cGFyc2VyOmZ1bmN0aW9uKHQsZSxpLHMsbixvLGwpe2lmKHMuX2xhc3RQYXJzZWRUcmFuc2Zvcm09PT1sKXJldHVybiBuO3MuX2xhc3RQYXJzZWRUcmFuc2Zvcm09bDt2YXIgaCxfLHUsYyxmLHAsbSxkLGcsdix5PXQuX2dzVHJhbnNmb3JtLFQ9dC5zdHlsZSx4PTFlLTYsdz1iZS5sZW5ndGgsYj1sLFA9e30saz1cInRyYW5zZm9ybU9yaWdpblwiO2lmKGwuZGlzcGxheT8oYz1RKHQsXCJkaXNwbGF5XCIpLFQuZGlzcGxheT1cImJsb2NrXCIsaD1OZSh0LHIsITAsbC5wYXJzZVRyYW5zZm9ybSksVC5kaXNwbGF5PWMpOmg9TmUodCxyLCEwLGwucGFyc2VUcmFuc2Zvcm0pLHMuX3RyYW5zZm9ybT1oLFwic3RyaW5nXCI9PXR5cGVvZiBiLnRyYW5zZm9ybSYmUGUpYz1MLnN0eWxlLGNbUGVdPWIudHJhbnNmb3JtLGMuZGlzcGxheT1cImJsb2NrXCIsYy5wb3NpdGlvbj1cImFic29sdXRlXCIsRS5ib2R5LmFwcGVuZENoaWxkKEwpLF89TmUoTCxudWxsLCExKSxFLmJvZHkucmVtb3ZlQ2hpbGQoTCksXy5wZXJzcGVjdGl2ZXx8KF8ucGVyc3BlY3RpdmU9aC5wZXJzcGVjdGl2ZSksbnVsbCE9Yi54UGVyY2VudCYmKF8ueFBlcmNlbnQ9bmUoYi54UGVyY2VudCxoLnhQZXJjZW50KSksbnVsbCE9Yi55UGVyY2VudCYmKF8ueVBlcmNlbnQ9bmUoYi55UGVyY2VudCxoLnlQZXJjZW50KSk7ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgYil7aWYoXz17c2NhbGVYOm5lKG51bGwhPWIuc2NhbGVYP2Iuc2NhbGVYOmIuc2NhbGUsaC5zY2FsZVgpLHNjYWxlWTpuZShudWxsIT1iLnNjYWxlWT9iLnNjYWxlWTpiLnNjYWxlLGguc2NhbGVZKSxzY2FsZVo6bmUoYi5zY2FsZVosaC5zY2FsZVopLHg6bmUoYi54LGgueCkseTpuZShiLnksaC55KSx6Om5lKGIueixoLnopLHhQZXJjZW50Om5lKGIueFBlcmNlbnQsaC54UGVyY2VudCkseVBlcmNlbnQ6bmUoYi55UGVyY2VudCxoLnlQZXJjZW50KSxwZXJzcGVjdGl2ZTpuZShiLnRyYW5zZm9ybVBlcnNwZWN0aXZlLGgucGVyc3BlY3RpdmUpfSxkPWIuZGlyZWN0aW9uYWxSb3RhdGlvbixudWxsIT1kKWlmKFwib2JqZWN0XCI9PXR5cGVvZiBkKWZvcihjIGluIGQpYltjXT1kW2NdO2Vsc2UgYi5yb3RhdGlvbj1kO1wic3RyaW5nXCI9PXR5cGVvZiBiLngmJi0xIT09Yi54LmluZGV4T2YoXCIlXCIpJiYoXy54PTAsXy54UGVyY2VudD1uZShiLngsaC54UGVyY2VudCkpLFwic3RyaW5nXCI9PXR5cGVvZiBiLnkmJi0xIT09Yi55LmluZGV4T2YoXCIlXCIpJiYoXy55PTAsXy55UGVyY2VudD1uZShiLnksaC55UGVyY2VudCkpLF8ucm90YXRpb249YWUoXCJyb3RhdGlvblwiaW4gYj9iLnJvdGF0aW9uOlwic2hvcnRSb3RhdGlvblwiaW4gYj9iLnNob3J0Um90YXRpb24rXCJfc2hvcnRcIjpcInJvdGF0aW9uWlwiaW4gYj9iLnJvdGF0aW9uWjpoLnJvdGF0aW9uLGgucm90YXRpb24sXCJyb3RhdGlvblwiLFApLFJlJiYoXy5yb3RhdGlvblg9YWUoXCJyb3RhdGlvblhcImluIGI/Yi5yb3RhdGlvblg6XCJzaG9ydFJvdGF0aW9uWFwiaW4gYj9iLnNob3J0Um90YXRpb25YK1wiX3Nob3J0XCI6aC5yb3RhdGlvblh8fDAsaC5yb3RhdGlvblgsXCJyb3RhdGlvblhcIixQKSxfLnJvdGF0aW9uWT1hZShcInJvdGF0aW9uWVwiaW4gYj9iLnJvdGF0aW9uWTpcInNob3J0Um90YXRpb25ZXCJpbiBiP2Iuc2hvcnRSb3RhdGlvblkrXCJfc2hvcnRcIjpoLnJvdGF0aW9uWXx8MCxoLnJvdGF0aW9uWSxcInJvdGF0aW9uWVwiLFApKSxfLnNrZXdYPW51bGw9PWIuc2tld1g/aC5za2V3WDphZShiLnNrZXdYLGguc2tld1gpLF8uc2tld1k9bnVsbD09Yi5za2V3WT9oLnNrZXdZOmFlKGIuc2tld1ksaC5za2V3WSksKHU9Xy5za2V3WS1oLnNrZXdZKSYmKF8uc2tld1grPXUsXy5yb3RhdGlvbis9dSl9Zm9yKFJlJiZudWxsIT1iLmZvcmNlM0QmJihoLmZvcmNlM0Q9Yi5mb3JjZTNELG09ITApLGguc2tld1R5cGU9Yi5za2V3VHlwZXx8aC5za2V3VHlwZXx8YS5kZWZhdWx0U2tld1R5cGUscD1oLmZvcmNlM0R8fGguenx8aC5yb3RhdGlvblh8fGgucm90YXRpb25ZfHxfLnp8fF8ucm90YXRpb25YfHxfLnJvdGF0aW9uWXx8Xy5wZXJzcGVjdGl2ZSxwfHxudWxsPT1iLnNjYWxlfHwoXy5zY2FsZVo9MSk7LS13Pi0xOylpPWJlW3ddLGY9X1tpXS1oW2ldLChmPnh8fC14PmZ8fG51bGwhPWJbaV18fG51bGwhPUlbaV0pJiYobT0hMCxuPW5ldyBtZShoLGksaFtpXSxmLG4pLGkgaW4gUCYmKG4uZT1QW2ldKSxuLnhzMD0wLG4ucGx1Z2luPW8scy5fb3ZlcndyaXRlUHJvcHMucHVzaChuLm4pKTtyZXR1cm4gZj1iLnRyYW5zZm9ybU9yaWdpbixoLnN2ZyYmKGZ8fGIuc3ZnT3JpZ2luKSYmKGc9aC54T2Zmc2V0LHY9aC55T2Zmc2V0LHplKHQsc2UoZiksXyxiLnN2Z09yaWdpbixiLnNtb290aE9yaWdpbiksbj1kZShoLFwieE9yaWdpblwiLCh5P2g6XykueE9yaWdpbixfLnhPcmlnaW4sbixrKSxuPWRlKGgsXCJ5T3JpZ2luXCIsKHk/aDpfKS55T3JpZ2luLF8ueU9yaWdpbixuLGspLChnIT09aC54T2Zmc2V0fHx2IT09aC55T2Zmc2V0KSYmKG49ZGUoaCxcInhPZmZzZXRcIix5P2c6aC54T2Zmc2V0LGgueE9mZnNldCxuLGspLG49ZGUoaCxcInlPZmZzZXRcIix5P3Y6aC55T2Zmc2V0LGgueU9mZnNldCxuLGspKSxmPXdlP251bGw6XCIwcHggMHB4XCIpLChmfHxSZSYmcCYmaC56T3JpZ2luKSYmKFBlPyhtPSEwLGk9U2UsZj0oZnx8USh0LGksciwhMSxcIjUwJSA1MCVcIikpK1wiXCIsbj1uZXcgbWUoVCxpLDAsMCxuLC0xLGspLG4uYj1UW2ldLG4ucGx1Z2luPW8sUmU/KGM9aC56T3JpZ2luLGY9Zi5zcGxpdChcIiBcIiksaC56T3JpZ2luPShmLmxlbmd0aD4yJiYoMD09PWN8fFwiMHB4XCIhPT1mWzJdKT9wYXJzZUZsb2F0KGZbMl0pOmMpfHwwLG4ueHMwPW4uZT1mWzBdK1wiIFwiKyhmWzFdfHxcIjUwJVwiKStcIiAwcHhcIixuPW5ldyBtZShoLFwiek9yaWdpblwiLDAsMCxuLC0xLG4ubiksbi5iPWMsbi54czA9bi5lPWguek9yaWdpbik6bi54czA9bi5lPWYpOnNlKGYrXCJcIixoKSksbSYmKHMuX3RyYW5zZm9ybVR5cGU9aC5zdmcmJndlfHwhcCYmMyE9PXRoaXMuX3RyYW5zZm9ybVR5cGU/MjozKSxufSxwcmVmaXg6ITB9KSxUZShcImJveFNoYWRvd1wiLHtkZWZhdWx0VmFsdWU6XCIwcHggMHB4IDBweCAwcHggIzk5OVwiLHByZWZpeDohMCxjb2xvcjohMCxtdWx0aTohMCxrZXl3b3JkOlwiaW5zZXRcIn0pLFRlKFwiYm9yZGVyUmFkaXVzXCIse2RlZmF1bHRWYWx1ZTpcIjBweFwiLHBhcnNlcjpmdW5jdGlvbih0LGUsaSxuLGEpe2U9dGhpcy5mb3JtYXQoZSk7dmFyIG8sbCxoLF8sdSxjLGYscCxtLGQsZyx2LHksVCx4LHcsYj1bXCJib3JkZXJUb3BMZWZ0UmFkaXVzXCIsXCJib3JkZXJUb3BSaWdodFJhZGl1c1wiLFwiYm9yZGVyQm90dG9tUmlnaHRSYWRpdXNcIixcImJvcmRlckJvdHRvbUxlZnRSYWRpdXNcIl0sUD10LnN0eWxlO2ZvcihtPXBhcnNlRmxvYXQodC5vZmZzZXRXaWR0aCksZD1wYXJzZUZsb2F0KHQub2Zmc2V0SGVpZ2h0KSxvPWUuc3BsaXQoXCIgXCIpLGw9MDtiLmxlbmd0aD5sO2wrKyl0aGlzLnAuaW5kZXhPZihcImJvcmRlclwiKSYmKGJbbF09VyhiW2xdKSksdT1fPVEodCxiW2xdLHIsITEsXCIwcHhcIiksLTEhPT11LmluZGV4T2YoXCIgXCIpJiYoXz11LnNwbGl0KFwiIFwiKSx1PV9bMF0sXz1fWzFdKSxjPWg9b1tsXSxmPXBhcnNlRmxvYXQodSksdj11LnN1YnN0cigoZitcIlwiKS5sZW5ndGgpLHk9XCI9XCI9PT1jLmNoYXJBdCgxKSx5PyhwPXBhcnNlSW50KGMuY2hhckF0KDApK1wiMVwiLDEwKSxjPWMuc3Vic3RyKDIpLHAqPXBhcnNlRmxvYXQoYyksZz1jLnN1YnN0cigocCtcIlwiKS5sZW5ndGgtKDA+cD8xOjApKXx8XCJcIik6KHA9cGFyc2VGbG9hdChjKSxnPWMuc3Vic3RyKChwK1wiXCIpLmxlbmd0aCkpLFwiXCI9PT1nJiYoZz1zW2ldfHx2KSxnIT09diYmKFQ9JCh0LFwiYm9yZGVyTGVmdFwiLGYsdikseD0kKHQsXCJib3JkZXJUb3BcIixmLHYpLFwiJVwiPT09Zz8odT0xMDAqKFQvbSkrXCIlXCIsXz0xMDAqKHgvZCkrXCIlXCIpOlwiZW1cIj09PWc/KHc9JCh0LFwiYm9yZGVyTGVmdFwiLDEsXCJlbVwiKSx1PVQvdytcImVtXCIsXz14L3crXCJlbVwiKToodT1UK1wicHhcIixfPXgrXCJweFwiKSx5JiYoYz1wYXJzZUZsb2F0KHUpK3ArZyxoPXBhcnNlRmxvYXQoXykrcCtnKSksYT1nZShQLGJbbF0sdStcIiBcIitfLGMrXCIgXCIraCwhMSxcIjBweFwiLGEpO3JldHVybiBhfSxwcmVmaXg6ITAsZm9ybWF0dGVyOmNlKFwiMHB4IDBweCAwcHggMHB4XCIsITEsITApfSksVGUoXCJiYWNrZ3JvdW5kUG9zaXRpb25cIix7ZGVmYXVsdFZhbHVlOlwiMCAwXCIscGFyc2VyOmZ1bmN0aW9uKHQsZSxpLHMsbixhKXt2YXIgbyxsLGgsXyx1LGMsZj1cImJhY2tncm91bmQtcG9zaXRpb25cIixwPXJ8fFoodCxudWxsKSxkPXRoaXMuZm9ybWF0KChwP20/cC5nZXRQcm9wZXJ0eVZhbHVlKGYrXCIteFwiKStcIiBcIitwLmdldFByb3BlcnR5VmFsdWUoZitcIi15XCIpOnAuZ2V0UHJvcGVydHlWYWx1ZShmKTp0LmN1cnJlbnRTdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb25YK1wiIFwiK3QuY3VycmVudFN0eWxlLmJhY2tncm91bmRQb3NpdGlvblkpfHxcIjAgMFwiKSxnPXRoaXMuZm9ybWF0KGUpO1xuaWYoLTEhPT1kLmluZGV4T2YoXCIlXCIpIT0oLTEhPT1nLmluZGV4T2YoXCIlXCIpKSYmKGM9USh0LFwiYmFja2dyb3VuZEltYWdlXCIpLnJlcGxhY2UoUixcIlwiKSxjJiZcIm5vbmVcIiE9PWMpKXtmb3Iobz1kLnNwbGl0KFwiIFwiKSxsPWcuc3BsaXQoXCIgXCIpLFguc2V0QXR0cmlidXRlKFwic3JjXCIsYyksaD0yOy0taD4tMTspZD1vW2hdLF89LTEhPT1kLmluZGV4T2YoXCIlXCIpLF8hPT0oLTEhPT1sW2hdLmluZGV4T2YoXCIlXCIpKSYmKHU9MD09PWg/dC5vZmZzZXRXaWR0aC1YLndpZHRoOnQub2Zmc2V0SGVpZ2h0LVguaGVpZ2h0LG9baF09Xz9wYXJzZUZsb2F0KGQpLzEwMCp1K1wicHhcIjoxMDAqKHBhcnNlRmxvYXQoZCkvdSkrXCIlXCIpO2Q9by5qb2luKFwiIFwiKX1yZXR1cm4gdGhpcy5wYXJzZUNvbXBsZXgodC5zdHlsZSxkLGcsbixhKX0sZm9ybWF0dGVyOnNlfSksVGUoXCJiYWNrZ3JvdW5kU2l6ZVwiLHtkZWZhdWx0VmFsdWU6XCIwIDBcIixmb3JtYXR0ZXI6c2V9KSxUZShcInBlcnNwZWN0aXZlXCIse2RlZmF1bHRWYWx1ZTpcIjBweFwiLHByZWZpeDohMH0pLFRlKFwicGVyc3BlY3RpdmVPcmlnaW5cIix7ZGVmYXVsdFZhbHVlOlwiNTAlIDUwJVwiLHByZWZpeDohMH0pLFRlKFwidHJhbnNmb3JtU3R5bGVcIix7cHJlZml4OiEwfSksVGUoXCJiYWNrZmFjZVZpc2liaWxpdHlcIix7cHJlZml4OiEwfSksVGUoXCJ1c2VyU2VsZWN0XCIse3ByZWZpeDohMH0pLFRlKFwibWFyZ2luXCIse3BhcnNlcjpmZShcIm1hcmdpblRvcCxtYXJnaW5SaWdodCxtYXJnaW5Cb3R0b20sbWFyZ2luTGVmdFwiKX0pLFRlKFwicGFkZGluZ1wiLHtwYXJzZXI6ZmUoXCJwYWRkaW5nVG9wLHBhZGRpbmdSaWdodCxwYWRkaW5nQm90dG9tLHBhZGRpbmdMZWZ0XCIpfSksVGUoXCJjbGlwXCIse2RlZmF1bHRWYWx1ZTpcInJlY3QoMHB4LDBweCwwcHgsMHB4KVwiLHBhcnNlcjpmdW5jdGlvbih0LGUsaSxzLG4sYSl7dmFyIG8sbCxoO3JldHVybiA5Pm0/KGw9dC5jdXJyZW50U3R5bGUsaD04Pm0/XCIgXCI6XCIsXCIsbz1cInJlY3QoXCIrbC5jbGlwVG9wK2grbC5jbGlwUmlnaHQraCtsLmNsaXBCb3R0b20raCtsLmNsaXBMZWZ0K1wiKVwiLGU9dGhpcy5mb3JtYXQoZSkuc3BsaXQoXCIsXCIpLmpvaW4oaCkpOihvPXRoaXMuZm9ybWF0KFEodCx0aGlzLnAsciwhMSx0aGlzLmRmbHQpKSxlPXRoaXMuZm9ybWF0KGUpKSx0aGlzLnBhcnNlQ29tcGxleCh0LnN0eWxlLG8sZSxuLGEpfX0pLFRlKFwidGV4dFNoYWRvd1wiLHtkZWZhdWx0VmFsdWU6XCIwcHggMHB4IDBweCAjOTk5XCIsY29sb3I6ITAsbXVsdGk6ITB9KSxUZShcImF1dG9Sb3VuZCxzdHJpY3RVbml0c1wiLHtwYXJzZXI6ZnVuY3Rpb24odCxlLGkscyxyKXtyZXR1cm4gcn19KSxUZShcImJvcmRlclwiLHtkZWZhdWx0VmFsdWU6XCIwcHggc29saWQgIzAwMFwiLHBhcnNlcjpmdW5jdGlvbih0LGUsaSxzLG4sYSl7cmV0dXJuIHRoaXMucGFyc2VDb21wbGV4KHQuc3R5bGUsdGhpcy5mb3JtYXQoUSh0LFwiYm9yZGVyVG9wV2lkdGhcIixyLCExLFwiMHB4XCIpK1wiIFwiK1EodCxcImJvcmRlclRvcFN0eWxlXCIsciwhMSxcInNvbGlkXCIpK1wiIFwiK1EodCxcImJvcmRlclRvcENvbG9yXCIsciwhMSxcIiMwMDBcIikpLHRoaXMuZm9ybWF0KGUpLG4sYSl9LGNvbG9yOiEwLGZvcm1hdHRlcjpmdW5jdGlvbih0KXt2YXIgZT10LnNwbGl0KFwiIFwiKTtyZXR1cm4gZVswXStcIiBcIisoZVsxXXx8XCJzb2xpZFwiKStcIiBcIisodC5tYXRjaCh1ZSl8fFtcIiMwMDBcIl0pWzBdfX0pLFRlKFwiYm9yZGVyV2lkdGhcIix7cGFyc2VyOmZlKFwiYm9yZGVyVG9wV2lkdGgsYm9yZGVyUmlnaHRXaWR0aCxib3JkZXJCb3R0b21XaWR0aCxib3JkZXJMZWZ0V2lkdGhcIil9KSxUZShcImZsb2F0LGNzc0Zsb2F0LHN0eWxlRmxvYXRcIix7cGFyc2VyOmZ1bmN0aW9uKHQsZSxpLHMscil7dmFyIG49dC5zdHlsZSxhPVwiY3NzRmxvYXRcImluIG4/XCJjc3NGbG9hdFwiOlwic3R5bGVGbG9hdFwiO3JldHVybiBuZXcgbWUobixhLDAsMCxyLC0xLGksITEsMCxuW2FdLGUpfX0pO3ZhciBCZT1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMudCxzPWkuZmlsdGVyfHxRKHRoaXMuZGF0YSxcImZpbHRlclwiKXx8XCJcIixyPTB8dGhpcy5zK3RoaXMuYyp0OzEwMD09PXImJigtMT09PXMuaW5kZXhPZihcImF0cml4KFwiKSYmLTE9PT1zLmluZGV4T2YoXCJyYWRpZW50KFwiKSYmLTE9PT1zLmluZGV4T2YoXCJvYWRlcihcIik/KGkucmVtb3ZlQXR0cmlidXRlKFwiZmlsdGVyXCIpLGU9IVEodGhpcy5kYXRhLFwiZmlsdGVyXCIpKTooaS5maWx0ZXI9cy5yZXBsYWNlKGIsXCJcIiksZT0hMCkpLGV8fCh0aGlzLnhuMSYmKGkuZmlsdGVyPXM9c3x8XCJhbHBoYShvcGFjaXR5PVwiK3IrXCIpXCIpLC0xPT09cy5pbmRleE9mKFwicGFjaXR5XCIpPzA9PT1yJiZ0aGlzLnhuMXx8KGkuZmlsdGVyPXMrXCIgYWxwaGEob3BhY2l0eT1cIityK1wiKVwiKTppLmZpbHRlcj1zLnJlcGxhY2UoeCxcIm9wYWNpdHk9XCIrcikpfTtUZShcIm9wYWNpdHksYWxwaGEsYXV0b0FscGhhXCIse2RlZmF1bHRWYWx1ZTpcIjFcIixwYXJzZXI6ZnVuY3Rpb24odCxlLGkscyxuLGEpe3ZhciBvPXBhcnNlRmxvYXQoUSh0LFwib3BhY2l0eVwiLHIsITEsXCIxXCIpKSxsPXQuc3R5bGUsaD1cImF1dG9BbHBoYVwiPT09aTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmXCI9XCI9PT1lLmNoYXJBdCgxKSYmKGU9KFwiLVwiPT09ZS5jaGFyQXQoMCk/LTE6MSkqcGFyc2VGbG9hdChlLnN1YnN0cigyKSkrbyksaCYmMT09PW8mJlwiaGlkZGVuXCI9PT1RKHQsXCJ2aXNpYmlsaXR5XCIscikmJjAhPT1lJiYobz0wKSxZP249bmV3IG1lKGwsXCJvcGFjaXR5XCIsbyxlLW8sbik6KG49bmV3IG1lKGwsXCJvcGFjaXR5XCIsMTAwKm8sMTAwKihlLW8pLG4pLG4ueG4xPWg/MTowLGwuem9vbT0xLG4udHlwZT0yLG4uYj1cImFscGhhKG9wYWNpdHk9XCIrbi5zK1wiKVwiLG4uZT1cImFscGhhKG9wYWNpdHk9XCIrKG4ucytuLmMpK1wiKVwiLG4uZGF0YT10LG4ucGx1Z2luPWEsbi5zZXRSYXRpbz1CZSksaCYmKG49bmV3IG1lKGwsXCJ2aXNpYmlsaXR5XCIsMCwwLG4sLTEsbnVsbCwhMSwwLDAhPT1vP1wiaW5oZXJpdFwiOlwiaGlkZGVuXCIsMD09PWU/XCJoaWRkZW5cIjpcImluaGVyaXRcIiksbi54czA9XCJpbmhlcml0XCIscy5fb3ZlcndyaXRlUHJvcHMucHVzaChuLm4pLHMuX292ZXJ3cml0ZVByb3BzLnB1c2goaSkpLG59fSk7dmFyIGplPWZ1bmN0aW9uKHQsZSl7ZSYmKHQucmVtb3ZlUHJvcGVydHk/KChcIm1zXCI9PT1lLnN1YnN0cigwLDIpfHxcIndlYmtpdFwiPT09ZS5zdWJzdHIoMCw2KSkmJihlPVwiLVwiK2UpLHQucmVtb3ZlUHJvcGVydHkoZS5yZXBsYWNlKGssXCItJDFcIikudG9Mb3dlckNhc2UoKSkpOnQucmVtb3ZlQXR0cmlidXRlKGUpKX0sWWU9ZnVuY3Rpb24odCl7aWYodGhpcy50Ll9nc0NsYXNzUFQ9dGhpcywxPT09dHx8MD09PXQpe3RoaXMudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLDA9PT10P3RoaXMuYjp0aGlzLmUpO2Zvcih2YXIgZT10aGlzLmRhdGEsaT10aGlzLnQuc3R5bGU7ZTspZS52P2lbZS5wXT1lLnY6amUoaSxlLnApLGU9ZS5fbmV4dDsxPT09dCYmdGhpcy50Ll9nc0NsYXNzUFQ9PT10aGlzJiYodGhpcy50Ll9nc0NsYXNzUFQ9bnVsbCl9ZWxzZSB0aGlzLnQuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikhPT10aGlzLmUmJnRoaXMudC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLHRoaXMuZSl9O1RlKFwiY2xhc3NOYW1lXCIse3BhcnNlcjpmdW5jdGlvbih0LGUscyxuLGEsbyxsKXt2YXIgaCxfLHUsYyxmLHA9dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIixtPXQuc3R5bGUuY3NzVGV4dDtpZihhPW4uX2NsYXNzTmFtZVBUPW5ldyBtZSh0LHMsMCwwLGEsMiksYS5zZXRSYXRpbz1ZZSxhLnByPS0xMSxpPSEwLGEuYj1wLF89Syh0LHIpLHU9dC5fZ3NDbGFzc1BUKXtmb3IoYz17fSxmPXUuZGF0YTtmOyljW2YucF09MSxmPWYuX25leHQ7dS5zZXRSYXRpbygxKX1yZXR1cm4gdC5fZ3NDbGFzc1BUPWEsYS5lPVwiPVwiIT09ZS5jaGFyQXQoMSk/ZTpwLnJlcGxhY2UoUmVnRXhwKFwiXFxcXHMqXFxcXGJcIitlLnN1YnN0cigyKStcIlxcXFxiXCIpLFwiXCIpKyhcIitcIj09PWUuY2hhckF0KDApP1wiIFwiK2Uuc3Vic3RyKDIpOlwiXCIpLHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixhLmUpLGg9Sih0LF8sSyh0KSxsLGMpLHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixwKSxhLmRhdGE9aC5maXJzdE1QVCx0LnN0eWxlLmNzc1RleHQ9bSxhPWEueGZpcnN0PW4ucGFyc2UodCxoLmRpZnMsYSxvKX19KTt2YXIgVWU9ZnVuY3Rpb24odCl7aWYoKDE9PT10fHwwPT09dCkmJnRoaXMuZGF0YS5fdG90YWxUaW1lPT09dGhpcy5kYXRhLl90b3RhbER1cmF0aW9uJiZcImlzRnJvbVN0YXJ0XCIhPT10aGlzLmRhdGEuZGF0YSl7dmFyIGUsaSxzLHIsbixhPXRoaXMudC5zdHlsZSxvPWwudHJhbnNmb3JtLnBhcnNlO2lmKFwiYWxsXCI9PT10aGlzLmUpYS5jc3NUZXh0PVwiXCIscj0hMDtlbHNlIGZvcihlPXRoaXMuZS5zcGxpdChcIiBcIikuam9pbihcIlwiKS5zcGxpdChcIixcIikscz1lLmxlbmd0aDstLXM+LTE7KWk9ZVtzXSxsW2ldJiYobFtpXS5wYXJzZT09PW8/cj0hMDppPVwidHJhbnNmb3JtT3JpZ2luXCI9PT1pP1NlOmxbaV0ucCksamUoYSxpKTtyJiYoamUoYSxQZSksbj10aGlzLnQuX2dzVHJhbnNmb3JtLG4mJihuLnN2ZyYmdGhpcy50LnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtc3ZnLW9yaWdpblwiKSxkZWxldGUgdGhpcy50Ll9nc1RyYW5zZm9ybSkpfX07Zm9yKFRlKFwiY2xlYXJQcm9wc1wiLHtwYXJzZXI6ZnVuY3Rpb24odCxlLHMscixuKXtyZXR1cm4gbj1uZXcgbWUodCxzLDAsMCxuLDIpLG4uc2V0UmF0aW89VWUsbi5lPWUsbi5wcj0tMTAsbi5kYXRhPXIuX3R3ZWVuLGk9ITAsbn19KSxoPVwiYmV6aWVyLHRocm93UHJvcHMscGh5c2ljc1Byb3BzLHBoeXNpY3MyRFwiLnNwbGl0KFwiLFwiKSx2ZT1oLmxlbmd0aDt2ZS0tOyl4ZShoW3ZlXSk7aD1hLnByb3RvdHlwZSxoLl9maXJzdFBUPWguX2xhc3RQYXJzZWRUcmFuc2Zvcm09aC5fdHJhbnNmb3JtPW51bGwsaC5fb25Jbml0VHdlZW49ZnVuY3Rpb24odCxlLG8pe2lmKCF0Lm5vZGVUeXBlKXJldHVybiExO3RoaXMuX3RhcmdldD10LHRoaXMuX3R3ZWVuPW8sdGhpcy5fdmFycz1lLF89ZS5hdXRvUm91bmQsaT0hMSxzPWUuc3VmZml4TWFwfHxhLnN1ZmZpeE1hcCxyPVoodCxcIlwiKSxuPXRoaXMuX292ZXJ3cml0ZVByb3BzO3ZhciBoLGYsbSxkLGcsdix5LFQseCxiPXQuc3R5bGU7aWYodSYmXCJcIj09PWIuekluZGV4JiYoaD1RKHQsXCJ6SW5kZXhcIixyKSwoXCJhdXRvXCI9PT1ofHxcIlwiPT09aCkmJnRoaXMuX2FkZExhenlTZXQoYixcInpJbmRleFwiLDApKSxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGQ9Yi5jc3NUZXh0LGg9Syh0LHIpLGIuY3NzVGV4dD1kK1wiO1wiK2UsaD1KKHQsaCxLKHQpKS5kaWZzLCFZJiZ3LnRlc3QoZSkmJihoLm9wYWNpdHk9cGFyc2VGbG9hdChSZWdFeHAuJDEpKSxlPWgsYi5jc3NUZXh0PWQpLHRoaXMuX2ZpcnN0UFQ9Zj1lLmNsYXNzTmFtZT9sLmNsYXNzTmFtZS5wYXJzZSh0LGUuY2xhc3NOYW1lLFwiY2xhc3NOYW1lXCIsdGhpcyxudWxsLG51bGwsZSk6dGhpcy5wYXJzZSh0LGUsbnVsbCksdGhpcy5fdHJhbnNmb3JtVHlwZSl7Zm9yKHg9Mz09PXRoaXMuX3RyYW5zZm9ybVR5cGUsUGU/YyYmKHU9ITAsXCJcIj09PWIuekluZGV4JiYoeT1RKHQsXCJ6SW5kZXhcIixyKSwoXCJhdXRvXCI9PT15fHxcIlwiPT09eSkmJnRoaXMuX2FkZExhenlTZXQoYixcInpJbmRleFwiLDApKSxwJiZ0aGlzLl9hZGRMYXp5U2V0KGIsXCJXZWJraXRCYWNrZmFjZVZpc2liaWxpdHlcIix0aGlzLl92YXJzLldlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eXx8KHg/XCJ2aXNpYmxlXCI6XCJoaWRkZW5cIikpKTpiLnpvb209MSxtPWY7bSYmbS5fbmV4dDspbT1tLl9uZXh0O1Q9bmV3IG1lKHQsXCJ0cmFuc2Zvcm1cIiwwLDAsbnVsbCwyKSx0aGlzLl9saW5rQ1NTUChULG51bGwsbSksVC5zZXRSYXRpbz1QZT9YZTpMZSxULmRhdGE9dGhpcy5fdHJhbnNmb3JtfHxOZSh0LHIsITApLFQudHdlZW49byxULnByPS0xLG4ucG9wKCl9aWYoaSl7Zm9yKDtmOyl7Zm9yKHY9Zi5fbmV4dCxtPWQ7bSYmbS5wcj5mLnByOyltPW0uX25leHQ7KGYuX3ByZXY9bT9tLl9wcmV2OmcpP2YuX3ByZXYuX25leHQ9ZjpkPWYsKGYuX25leHQ9bSk/bS5fcHJldj1mOmc9ZixmPXZ9dGhpcy5fZmlyc3RQVD1kfXJldHVybiEwfSxoLnBhcnNlPWZ1bmN0aW9uKHQsZSxpLG4pe3ZhciBhLG8saCx1LGMsZixwLG0sZCxnLHY9dC5zdHlsZTtmb3IoYSBpbiBlKWY9ZVthXSxvPWxbYV0sbz9pPW8ucGFyc2UodCxmLGEsdGhpcyxpLG4sZSk6KGM9USh0LGEscikrXCJcIixkPVwic3RyaW5nXCI9PXR5cGVvZiBmLFwiY29sb3JcIj09PWF8fFwiZmlsbFwiPT09YXx8XCJzdHJva2VcIj09PWF8fC0xIT09YS5pbmRleE9mKFwiQ29sb3JcIil8fGQmJlAudGVzdChmKT8oZHx8KGY9aGUoZiksZj0oZi5sZW5ndGg+Mz9cInJnYmEoXCI6XCJyZ2IoXCIpK2Yuam9pbihcIixcIikrXCIpXCIpLGk9Z2UodixhLGMsZiwhMCxcInRyYW5zcGFyZW50XCIsaSwwLG4pKTohZHx8LTE9PT1mLmluZGV4T2YoXCIgXCIpJiYtMT09PWYuaW5kZXhPZihcIixcIik/KGg9cGFyc2VGbG9hdChjKSxwPWh8fDA9PT1oP2Muc3Vic3RyKChoK1wiXCIpLmxlbmd0aCk6XCJcIiwoXCJcIj09PWN8fFwiYXV0b1wiPT09YykmJihcIndpZHRoXCI9PT1hfHxcImhlaWdodFwiPT09YT8oaD1pZSh0LGEscikscD1cInB4XCIpOlwibGVmdFwiPT09YXx8XCJ0b3BcIj09PWE/KGg9SCh0LGEscikscD1cInB4XCIpOihoPVwib3BhY2l0eVwiIT09YT8wOjEscD1cIlwiKSksZz1kJiZcIj1cIj09PWYuY2hhckF0KDEpLGc/KHU9cGFyc2VJbnQoZi5jaGFyQXQoMCkrXCIxXCIsMTApLGY9Zi5zdWJzdHIoMiksdSo9cGFyc2VGbG9hdChmKSxtPWYucmVwbGFjZShULFwiXCIpKToodT1wYXJzZUZsb2F0KGYpLG09ZD9mLnJlcGxhY2UoVCxcIlwiKTpcIlwiKSxcIlwiPT09bSYmKG09YSBpbiBzP3NbYV06cCksZj11fHwwPT09dT8oZz91K2g6dSkrbTplW2FdLHAhPT1tJiZcIlwiIT09bSYmKHV8fDA9PT11KSYmaCYmKGg9JCh0LGEsaCxwKSxcIiVcIj09PW0/KGgvPSQodCxhLDEwMCxcIiVcIikvMTAwLGUuc3RyaWN0VW5pdHMhPT0hMCYmKGM9aCtcIiVcIikpOlwiZW1cIj09PW18fFwicmVtXCI9PT1tP2gvPSQodCxhLDEsbSk6XCJweFwiIT09bSYmKHU9JCh0LGEsdSxtKSxtPVwicHhcIiksZyYmKHV8fDA9PT11KSYmKGY9dStoK20pKSxnJiYodSs9aCksIWgmJjAhPT1ofHwhdSYmMCE9PXU/dm9pZCAwIT09dlthXSYmKGZ8fFwiTmFOXCIhPWYrXCJcIiYmbnVsbCE9Zik/KGk9bmV3IG1lKHYsYSx1fHxofHwwLDAsaSwtMSxhLCExLDAsYyxmKSxpLnhzMD1cIm5vbmVcIiE9PWZ8fFwiZGlzcGxheVwiIT09YSYmLTE9PT1hLmluZGV4T2YoXCJTdHlsZVwiKT9mOmMpOnEoXCJpbnZhbGlkIFwiK2ErXCIgdHdlZW4gdmFsdWU6IFwiK2VbYV0pOihpPW5ldyBtZSh2LGEsaCx1LWgsaSwwLGEsXyE9PSExJiYoXCJweFwiPT09bXx8XCJ6SW5kZXhcIj09PWEpLDAsYyxmKSxpLnhzMD1tKSk6aT1nZSh2LGEsYyxmLCEwLG51bGwsaSwwLG4pKSxuJiZpJiYhaS5wbHVnaW4mJihpLnBsdWdpbj1uKTtyZXR1cm4gaX0saC5zZXRSYXRpbz1mdW5jdGlvbih0KXt2YXIgZSxpLHMscj10aGlzLl9maXJzdFBULG49MWUtNjtpZigxIT09dHx8dGhpcy5fdHdlZW4uX3RpbWUhPT10aGlzLl90d2Vlbi5fZHVyYXRpb24mJjAhPT10aGlzLl90d2Vlbi5fdGltZSlpZih0fHx0aGlzLl90d2Vlbi5fdGltZSE9PXRoaXMuX3R3ZWVuLl9kdXJhdGlvbiYmMCE9PXRoaXMuX3R3ZWVuLl90aW1lfHx0aGlzLl90d2Vlbi5fcmF3UHJldlRpbWU9PT0tMWUtNilmb3IoO3I7KXtpZihlPXIuYyp0K3IucyxyLnI/ZT1NYXRoLnJvdW5kKGUpOm4+ZSYmZT4tbiYmKGU9MCksci50eXBlKWlmKDE9PT1yLnR5cGUpaWYocz1yLmwsMj09PXMpci50W3IucF09ci54czArZStyLnhzMStyLnhuMStyLnhzMjtlbHNlIGlmKDM9PT1zKXIudFtyLnBdPXIueHMwK2Urci54czErci54bjErci54czIrci54bjIrci54czM7ZWxzZSBpZig0PT09cylyLnRbci5wXT1yLnhzMCtlK3IueHMxK3IueG4xK3IueHMyK3IueG4yK3IueHMzK3IueG4zK3IueHM0O2Vsc2UgaWYoNT09PXMpci50W3IucF09ci54czArZStyLnhzMStyLnhuMStyLnhzMityLnhuMityLnhzMytyLnhuMytyLnhzNCtyLnhuNCtyLnhzNTtlbHNle2ZvcihpPXIueHMwK2Urci54czEscz0xO3IubD5zO3MrKylpKz1yW1wieG5cIitzXStyW1wieHNcIisocysxKV07ci50W3IucF09aX1lbHNlLTE9PT1yLnR5cGU/ci50W3IucF09ci54czA6ci5zZXRSYXRpbyYmci5zZXRSYXRpbyh0KTtlbHNlIHIudFtyLnBdPWUrci54czA7cj1yLl9uZXh0fWVsc2UgZm9yKDtyOykyIT09ci50eXBlP3IudFtyLnBdPXIuYjpyLnNldFJhdGlvKHQpLHI9ci5fbmV4dDtlbHNlIGZvcig7cjspe2lmKDIhPT1yLnR5cGUpaWYoci5yJiYtMSE9PXIudHlwZSlpZihlPU1hdGgucm91bmQoci5zK3IuYyksci50eXBlKXtpZigxPT09ci50eXBlKXtmb3Iocz1yLmwsaT1yLnhzMCtlK3IueHMxLHM9MTtyLmw+cztzKyspaSs9cltcInhuXCIrc10rcltcInhzXCIrKHMrMSldO3IudFtyLnBdPWl9fWVsc2Ugci50W3IucF09ZStyLnhzMDtlbHNlIHIudFtyLnBdPXIuZTtlbHNlIHIuc2V0UmF0aW8odCk7cj1yLl9uZXh0fX0saC5fZW5hYmxlVHJhbnNmb3Jtcz1mdW5jdGlvbih0KXt0aGlzLl90cmFuc2Zvcm09dGhpcy5fdHJhbnNmb3JtfHxOZSh0aGlzLl90YXJnZXQsciwhMCksdGhpcy5fdHJhbnNmb3JtVHlwZT10aGlzLl90cmFuc2Zvcm0uc3ZnJiZ3ZXx8IXQmJjMhPT10aGlzLl90cmFuc2Zvcm1UeXBlPzI6M307dmFyIHFlPWZ1bmN0aW9uKCl7dGhpcy50W3RoaXMucF09dGhpcy5lLHRoaXMuZGF0YS5fbGlua0NTU1AodGhpcyx0aGlzLl9uZXh0LG51bGwsITApfTtoLl9hZGRMYXp5U2V0PWZ1bmN0aW9uKHQsZSxpKXt2YXIgcz10aGlzLl9maXJzdFBUPW5ldyBtZSh0LGUsMCwwLHRoaXMuX2ZpcnN0UFQsMik7cy5lPWkscy5zZXRSYXRpbz1xZSxzLmRhdGE9dGhpc30saC5fbGlua0NTU1A9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHQmJihlJiYoZS5fcHJldj10KSx0Ll9uZXh0JiYodC5fbmV4dC5fcHJldj10Ll9wcmV2KSx0Ll9wcmV2P3QuX3ByZXYuX25leHQ9dC5fbmV4dDp0aGlzLl9maXJzdFBUPT09dCYmKHRoaXMuX2ZpcnN0UFQ9dC5fbmV4dCxzPSEwKSxpP2kuX25leHQ9dDpzfHxudWxsIT09dGhpcy5fZmlyc3RQVHx8KHRoaXMuX2ZpcnN0UFQ9dCksdC5fbmV4dD1lLHQuX3ByZXY9aSksdH0saC5fa2lsbD1mdW5jdGlvbihlKXt2YXIgaSxzLHIsbj1lO2lmKGUuYXV0b0FscGhhfHxlLmFscGhhKXtuPXt9O2ZvcihzIGluIGUpbltzXT1lW3NdO24ub3BhY2l0eT0xLG4uYXV0b0FscGhhJiYobi52aXNpYmlsaXR5PTEpfXJldHVybiBlLmNsYXNzTmFtZSYmKGk9dGhpcy5fY2xhc3NOYW1lUFQpJiYocj1pLnhmaXJzdCxyJiZyLl9wcmV2P3RoaXMuX2xpbmtDU1NQKHIuX3ByZXYsaS5fbmV4dCxyLl9wcmV2Ll9wcmV2KTpyPT09dGhpcy5fZmlyc3RQVCYmKHRoaXMuX2ZpcnN0UFQ9aS5fbmV4dCksaS5fbmV4dCYmdGhpcy5fbGlua0NTU1AoaS5fbmV4dCxpLl9uZXh0Ll9uZXh0LHIuX3ByZXYpLHRoaXMuX2NsYXNzTmFtZVBUPW51bGwpLHQucHJvdG90eXBlLl9raWxsLmNhbGwodGhpcyxuKX07dmFyIFZlPWZ1bmN0aW9uKHQsZSxpKXt2YXIgcyxyLG4sYTtpZih0LnNsaWNlKWZvcihyPXQubGVuZ3RoOy0tcj4tMTspVmUodFtyXSxlLGkpO2Vsc2UgZm9yKHM9dC5jaGlsZE5vZGVzLHI9cy5sZW5ndGg7LS1yPi0xOyluPXNbcl0sYT1uLnR5cGUsbi5zdHlsZSYmKGUucHVzaChLKG4pKSxpJiZpLnB1c2gobikpLDEhPT1hJiY5IT09YSYmMTEhPT1hfHwhbi5jaGlsZE5vZGVzLmxlbmd0aHx8VmUobixlLGkpfTtyZXR1cm4gYS5jYXNjYWRlVG89ZnVuY3Rpb24odCxpLHMpe3ZhciByLG4sYSxvLGw9ZS50byh0LGkscyksaD1bbF0sXz1bXSx1PVtdLGM9W10sZj1lLl9pbnRlcm5hbHMucmVzZXJ2ZWRQcm9wcztmb3IodD1sLl90YXJnZXRzfHxsLnRhcmdldCxWZSh0LF8sYyksbC5yZW5kZXIoaSwhMCwhMCksVmUodCx1KSxsLnJlbmRlcigwLCEwLCEwKSxsLl9lbmFibGVkKCEwKSxyPWMubGVuZ3RoOy0tcj4tMTspaWYobj1KKGNbcl0sX1tyXSx1W3JdKSxuLmZpcnN0TVBUKXtuPW4uZGlmcztmb3IoYSBpbiBzKWZbYV0mJihuW2FdPXNbYV0pO289e307Zm9yKGEgaW4gbilvW2FdPV9bcl1bYV07aC5wdXNoKGUuZnJvbVRvKGNbcl0saSxvLG4pKX1yZXR1cm4gaH0sdC5hY3RpdmF0ZShbYV0pLGF9LCEwKSxmdW5jdGlvbigpe3ZhciB0PV9nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwicm91bmRQcm9wc1wiLHZlcnNpb246XCIxLjVcIixwcmlvcml0eTotMSxBUEk6Mixpbml0OmZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gdGhpcy5fdHdlZW49aSwhMH19KSxlPWZ1bmN0aW9uKHQpe2Zvcig7dDspdC5mfHx0LmJsb2J8fCh0LnI9MSksdD10Ll9uZXh0fSxpPXQucHJvdG90eXBlO2kuX29uSW5pdEFsbFByb3BzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0LGkscyxyPXRoaXMuX3R3ZWVuLG49ci52YXJzLnJvdW5kUHJvcHMuam9pbj9yLnZhcnMucm91bmRQcm9wczpyLnZhcnMucm91bmRQcm9wcy5zcGxpdChcIixcIiksYT1uLmxlbmd0aCxvPXt9LGw9ci5fcHJvcExvb2t1cC5yb3VuZFByb3BzOy0tYT4tMTspb1tuW2FdXT0xO2ZvcihhPW4ubGVuZ3RoOy0tYT4tMTspZm9yKHQ9blthXSxpPXIuX2ZpcnN0UFQ7aTspcz1pLl9uZXh0LGkucGc/aS50Ll9yb3VuZFByb3BzKG8sITApOmkubj09PXQmJigyPT09aS5mJiZpLnQ/ZShpLnQuX2ZpcnN0UFQpOih0aGlzLl9hZGQoaS50LHQsaS5zLGkuYykscyYmKHMuX3ByZXY9aS5fcHJldiksaS5fcHJldj9pLl9wcmV2Ll9uZXh0PXM6ci5fZmlyc3RQVD09PWkmJihyLl9maXJzdFBUPXMpLGkuX25leHQ9aS5fcHJldj1udWxsLHIuX3Byb3BMb29rdXBbdF09bCkpLGk9cztyZXR1cm4hMX0saS5fYWRkPWZ1bmN0aW9uKHQsZSxpLHMpe3RoaXMuX2FkZFR3ZWVuKHQsZSxpLGkrcyxlLCEwKSx0aGlzLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGUpfX0oKSxmdW5jdGlvbigpe19nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwiYXR0clwiLEFQSToyLHZlcnNpb246XCIwLjUuMFwiLGluaXQ6ZnVuY3Rpb24odCxlKXt2YXIgaTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0LnNldEF0dHJpYnV0ZSlyZXR1cm4hMTtmb3IoaSBpbiBlKXRoaXMuX2FkZFR3ZWVuKHQsXCJzZXRBdHRyaWJ1dGVcIix0LmdldEF0dHJpYnV0ZShpKStcIlwiLGVbaV0rXCJcIixpLCExLGkpLHRoaXMuX292ZXJ3cml0ZVByb3BzLnB1c2goaSk7cmV0dXJuITB9fSl9KCksX2dzU2NvcGUuX2dzRGVmaW5lLnBsdWdpbih7cHJvcE5hbWU6XCJkaXJlY3Rpb25hbFJvdGF0aW9uXCIsdmVyc2lvbjpcIjAuMi4xXCIsQVBJOjIsaW5pdDpmdW5jdGlvbih0LGUpe1wib2JqZWN0XCIhPXR5cGVvZiBlJiYoZT17cm90YXRpb246ZX0pLHRoaXMuZmluYWxzPXt9O3ZhciBpLHMscixuLGEsbyxsPWUudXNlUmFkaWFucz09PSEwPzIqTWF0aC5QSTozNjAsaD0xZS02O2ZvcihpIGluIGUpXCJ1c2VSYWRpYW5zXCIhPT1pJiYobz0oZVtpXStcIlwiKS5zcGxpdChcIl9cIikscz1vWzBdLHI9cGFyc2VGbG9hdChcImZ1bmN0aW9uXCIhPXR5cGVvZiB0W2ldP3RbaV06dFtpLmluZGV4T2YoXCJzZXRcIil8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIHRbXCJnZXRcIitpLnN1YnN0cigzKV0/aTpcImdldFwiK2kuc3Vic3RyKDMpXSgpKSxuPXRoaXMuZmluYWxzW2ldPVwic3RyaW5nXCI9PXR5cGVvZiBzJiZcIj1cIj09PXMuY2hhckF0KDEpP3IrcGFyc2VJbnQocy5jaGFyQXQoMCkrXCIxXCIsMTApKk51bWJlcihzLnN1YnN0cigyKSk6TnVtYmVyKHMpfHwwLGE9bi1yLG8ubGVuZ3RoJiYocz1vLmpvaW4oXCJfXCIpLC0xIT09cy5pbmRleE9mKFwic2hvcnRcIikmJihhJT1sLGEhPT1hJShsLzIpJiYoYT0wPmE/YStsOmEtbCkpLC0xIT09cy5pbmRleE9mKFwiX2N3XCIpJiYwPmE/YT0oYSs5OTk5OTk5OTk5KmwpJWwtKDB8YS9sKSpsOi0xIT09cy5pbmRleE9mKFwiY2N3XCIpJiZhPjAmJihhPShhLTk5OTk5OTk5OTkqbCklbC0oMHxhL2wpKmwpKSwoYT5ofHwtaD5hKSYmKHRoaXMuX2FkZFR3ZWVuKHQsaSxyLHIrYSxpKSx0aGlzLl9vdmVyd3JpdGVQcm9wcy5wdXNoKGkpKSk7cmV0dXJuITB9LHNldDpmdW5jdGlvbih0KXt2YXIgZTtpZigxIT09dCl0aGlzLl9zdXBlci5zZXRSYXRpby5jYWxsKHRoaXMsdCk7ZWxzZSBmb3IoZT10aGlzLl9maXJzdFBUO2U7KWUuZj9lLnRbZS5wXSh0aGlzLmZpbmFsc1tlLnBdKTplLnRbZS5wXT10aGlzLmZpbmFsc1tlLnBdLGU9ZS5fbmV4dH19KS5fYXV0b0NTUz0hMCxfZ3NTY29wZS5fZ3NEZWZpbmUoXCJlYXNpbmcuQmFja1wiLFtcImVhc2luZy5FYXNlXCJdLGZ1bmN0aW9uKHQpe3ZhciBlLGkscyxyPV9nc1Njb3BlLkdyZWVuU29ja0dsb2JhbHN8fF9nc1Njb3BlLG49ci5jb20uZ3JlZW5zb2NrLGE9MipNYXRoLlBJLG89TWF0aC5QSS8yLGw9bi5fY2xhc3MsaD1mdW5jdGlvbihlLGkpe3ZhciBzPWwoXCJlYXNpbmcuXCIrZSxmdW5jdGlvbigpe30sITApLHI9cy5wcm90b3R5cGU9bmV3IHQ7cmV0dXJuIHIuY29uc3RydWN0b3I9cyxyLmdldFJhdGlvPWksc30sXz10LnJlZ2lzdGVyfHxmdW5jdGlvbigpe30sdT1mdW5jdGlvbih0LGUsaSxzKXt2YXIgcj1sKFwiZWFzaW5nLlwiK3Qse2Vhc2VPdXQ6bmV3IGUsZWFzZUluOm5ldyBpLGVhc2VJbk91dDpuZXcgc30sITApO3JldHVybiBfKHIsdCkscn0sYz1mdW5jdGlvbih0LGUsaSl7dGhpcy50PXQsdGhpcy52PWUsaSYmKHRoaXMubmV4dD1pLGkucHJldj10aGlzLHRoaXMuYz1pLnYtZSx0aGlzLmdhcD1pLnQtdCl9LGY9ZnVuY3Rpb24oZSxpKXt2YXIgcz1sKFwiZWFzaW5nLlwiK2UsZnVuY3Rpb24odCl7dGhpcy5fcDE9dHx8MD09PXQ/dDoxLjcwMTU4LHRoaXMuX3AyPTEuNTI1KnRoaXMuX3AxfSwhMCkscj1zLnByb3RvdHlwZT1uZXcgdDtyZXR1cm4gci5jb25zdHJ1Y3Rvcj1zLHIuZ2V0UmF0aW89aSxyLmNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IHModCl9LHN9LHA9dShcIkJhY2tcIixmKFwiQmFja091dFwiLGZ1bmN0aW9uKHQpe3JldHVybih0LT0xKSp0KigodGhpcy5fcDErMSkqdCt0aGlzLl9wMSkrMX0pLGYoXCJCYWNrSW5cIixmdW5jdGlvbih0KXtyZXR1cm4gdCp0KigodGhpcy5fcDErMSkqdC10aGlzLl9wMSl9KSxmKFwiQmFja0luT3V0XCIsZnVuY3Rpb24odCl7cmV0dXJuIDE+KHQqPTIpPy41KnQqdCooKHRoaXMuX3AyKzEpKnQtdGhpcy5fcDIpOi41KigodC09MikqdCooKHRoaXMuX3AyKzEpKnQrdGhpcy5fcDIpKzIpfSkpLG09bChcImVhc2luZy5TbG93TW9cIixmdW5jdGlvbih0LGUsaSl7ZT1lfHwwPT09ZT9lOi43LG51bGw9PXQ/dD0uNzp0PjEmJih0PTEpLHRoaXMuX3A9MSE9PXQ/ZTowLHRoaXMuX3AxPSgxLXQpLzIsdGhpcy5fcDI9dCx0aGlzLl9wMz10aGlzLl9wMSt0aGlzLl9wMix0aGlzLl9jYWxjRW5kPWk9PT0hMH0sITApLGQ9bS5wcm90b3R5cGU9bmV3IHQ7cmV0dXJuIGQuY29uc3RydWN0b3I9bSxkLmdldFJhdGlvPWZ1bmN0aW9uKHQpe3ZhciBlPXQrKC41LXQpKnRoaXMuX3A7cmV0dXJuIHRoaXMuX3AxPnQ/dGhpcy5fY2FsY0VuZD8xLSh0PTEtdC90aGlzLl9wMSkqdDplLSh0PTEtdC90aGlzLl9wMSkqdCp0KnQqZTp0PnRoaXMuX3AzP3RoaXMuX2NhbGNFbmQ/MS0odD0odC10aGlzLl9wMykvdGhpcy5fcDEpKnQ6ZSsodC1lKSoodD0odC10aGlzLl9wMykvdGhpcy5fcDEpKnQqdCp0OnRoaXMuX2NhbGNFbmQ/MTplfSxtLmVhc2U9bmV3IG0oLjcsLjcpLGQuY29uZmlnPW0uY29uZmlnPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gbmV3IG0odCxlLGkpfSxlPWwoXCJlYXNpbmcuU3RlcHBlZEVhc2VcIixmdW5jdGlvbih0KXt0PXR8fDEsdGhpcy5fcDE9MS90LHRoaXMuX3AyPXQrMX0sITApLGQ9ZS5wcm90b3R5cGU9bmV3IHQsZC5jb25zdHJ1Y3Rvcj1lLGQuZ2V0UmF0aW89ZnVuY3Rpb24odCl7cmV0dXJuIDA+dD90PTA6dD49MSYmKHQ9Ljk5OTk5OTk5OSksKHRoaXMuX3AyKnQ+PjApKnRoaXMuX3AxfSxkLmNvbmZpZz1lLmNvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGUodCl9LGk9bChcImVhc2luZy5Sb3VnaEVhc2VcIixmdW5jdGlvbihlKXtlPWV8fHt9O2Zvcih2YXIgaSxzLHIsbixhLG8sbD1lLnRhcGVyfHxcIm5vbmVcIixoPVtdLF89MCx1PTB8KGUucG9pbnRzfHwyMCksZj11LHA9ZS5yYW5kb21pemUhPT0hMSxtPWUuY2xhbXA9PT0hMCxkPWUudGVtcGxhdGUgaW5zdGFuY2VvZiB0P2UudGVtcGxhdGU6bnVsbCxnPVwibnVtYmVyXCI9PXR5cGVvZiBlLnN0cmVuZ3RoPy40KmUuc3RyZW5ndGg6LjQ7LS1mPi0xOylpPXA/TWF0aC5yYW5kb20oKToxL3UqZixzPWQ/ZC5nZXRSYXRpbyhpKTppLFwibm9uZVwiPT09bD9yPWc6XCJvdXRcIj09PWw/KG49MS1pLHI9bipuKmcpOlwiaW5cIj09PWw/cj1pKmkqZzouNT5pPyhuPTIqaSxyPS41Km4qbipnKToobj0yKigxLWkpLHI9LjUqbipuKmcpLHA/cys9TWF0aC5yYW5kb20oKSpyLS41KnI6ZiUyP3MrPS41KnI6cy09LjUqcixtJiYocz4xP3M9MTowPnMmJihzPTApKSxoW18rK109e3g6aSx5OnN9O2ZvcihoLnNvcnQoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC54LWUueH0pLG89bmV3IGMoMSwxLG51bGwpLGY9dTstLWY+LTE7KWE9aFtmXSxvPW5ldyBjKGEueCxhLnksbyk7dGhpcy5fcHJldj1uZXcgYygwLDAsMCE9PW8udD9vOm8ubmV4dCl9LCEwKSxkPWkucHJvdG90eXBlPW5ldyB0LGQuY29uc3RydWN0b3I9aSxkLmdldFJhdGlvPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3ByZXY7aWYodD5lLnQpe2Zvcig7ZS5uZXh0JiZ0Pj1lLnQ7KWU9ZS5uZXh0O2U9ZS5wcmV2fWVsc2UgZm9yKDtlLnByZXYmJmUudD49dDspZT1lLnByZXY7cmV0dXJuIHRoaXMuX3ByZXY9ZSxlLnYrKHQtZS50KS9lLmdhcCplLmN9LGQuY29uZmlnPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaSh0KX0saS5lYXNlPW5ldyBpLHUoXCJCb3VuY2VcIixoKFwiQm91bmNlT3V0XCIsZnVuY3Rpb24odCl7cmV0dXJuIDEvMi43NT50PzcuNTYyNSp0KnQ6Mi8yLjc1PnQ/Ny41NjI1Kih0LT0xLjUvMi43NSkqdCsuNzU6Mi41LzIuNzU+dD83LjU2MjUqKHQtPTIuMjUvMi43NSkqdCsuOTM3NTo3LjU2MjUqKHQtPTIuNjI1LzIuNzUpKnQrLjk4NDM3NX0pLGgoXCJCb3VuY2VJblwiLGZ1bmN0aW9uKHQpe3JldHVybiAxLzIuNzU+KHQ9MS10KT8xLTcuNTYyNSp0KnQ6Mi8yLjc1PnQ/MS0oNy41NjI1Kih0LT0xLjUvMi43NSkqdCsuNzUpOjIuNS8yLjc1PnQ/MS0oNy41NjI1Kih0LT0yLjI1LzIuNzUpKnQrLjkzNzUpOjEtKDcuNTYyNSoodC09Mi42MjUvMi43NSkqdCsuOTg0Mzc1KX0pLGgoXCJCb3VuY2VJbk91dFwiLGZ1bmN0aW9uKHQpe3ZhciBlPS41PnQ7cmV0dXJuIHQ9ZT8xLTIqdDoyKnQtMSx0PTEvMi43NT50PzcuNTYyNSp0KnQ6Mi8yLjc1PnQ/Ny41NjI1Kih0LT0xLjUvMi43NSkqdCsuNzU6Mi41LzIuNzU+dD83LjU2MjUqKHQtPTIuMjUvMi43NSkqdCsuOTM3NTo3LjU2MjUqKHQtPTIuNjI1LzIuNzUpKnQrLjk4NDM3NSxlPy41KigxLXQpOi41KnQrLjV9KSksdShcIkNpcmNcIixoKFwiQ2lyY091dFwiLGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnNxcnQoMS0odC09MSkqdCl9KSxoKFwiQ2lyY0luXCIsZnVuY3Rpb24odCl7cmV0dXJuLShNYXRoLnNxcnQoMS10KnQpLTEpfSksaChcIkNpcmNJbk91dFwiLGZ1bmN0aW9uKHQpe3JldHVybiAxPih0Kj0yKT8tLjUqKE1hdGguc3FydCgxLXQqdCktMSk6LjUqKE1hdGguc3FydCgxLSh0LT0yKSp0KSsxKX0pKSxzPWZ1bmN0aW9uKGUsaSxzKXt2YXIgcj1sKFwiZWFzaW5nLlwiK2UsZnVuY3Rpb24odCxlKXt0aGlzLl9wMT10Pj0xP3Q6MSx0aGlzLl9wMj0oZXx8cykvKDE+dD90OjEpLHRoaXMuX3AzPXRoaXMuX3AyL2EqKE1hdGguYXNpbigxL3RoaXMuX3AxKXx8MCksdGhpcy5fcDI9YS90aGlzLl9wMn0sITApLG49ci5wcm90b3R5cGU9bmV3IHQ7cmV0dXJuIG4uY29uc3RydWN0b3I9cixuLmdldFJhdGlvPWksbi5jb25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHIodCxlKX0scn0sdShcIkVsYXN0aWNcIixzKFwiRWxhc3RpY091dFwiLGZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9wMSpNYXRoLnBvdygyLC0xMCp0KSpNYXRoLnNpbigodC10aGlzLl9wMykqdGhpcy5fcDIpKzF9LC4zKSxzKFwiRWxhc3RpY0luXCIsZnVuY3Rpb24odCl7cmV0dXJuLSh0aGlzLl9wMSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtdGhpcy5fcDMpKnRoaXMuX3AyKSl9LC4zKSxzKFwiRWxhc3RpY0luT3V0XCIsZnVuY3Rpb24odCl7cmV0dXJuIDE+KHQqPTIpPy0uNSp0aGlzLl9wMSpNYXRoLnBvdygyLDEwKih0LT0xKSkqTWF0aC5zaW4oKHQtdGhpcy5fcDMpKnRoaXMuX3AyKTouNSp0aGlzLl9wMSpNYXRoLnBvdygyLC0xMCoodC09MSkpKk1hdGguc2luKCh0LXRoaXMuX3AzKSp0aGlzLl9wMikrMX0sLjQ1KSksdShcIkV4cG9cIixoKFwiRXhwb091dFwiLGZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGgucG93KDIsLTEwKnQpfSksaChcIkV4cG9JblwiLGZ1bmN0aW9uKHQpe3JldHVybiBNYXRoLnBvdygyLDEwKih0LTEpKS0uMDAxfSksaChcIkV4cG9Jbk91dFwiLGZ1bmN0aW9uKHQpe3JldHVybiAxPih0Kj0yKT8uNSpNYXRoLnBvdygyLDEwKih0LTEpKTouNSooMi1NYXRoLnBvdygyLC0xMCoodC0xKSkpfSkpLHUoXCJTaW5lXCIsaChcIlNpbmVPdXRcIixmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5zaW4odCpvKX0pLGgoXCJTaW5lSW5cIixmdW5jdGlvbih0KXtyZXR1cm4tTWF0aC5jb3ModCpvKSsxfSksaChcIlNpbmVJbk91dFwiLGZ1bmN0aW9uKHQpe3JldHVybi0uNSooTWF0aC5jb3MoTWF0aC5QSSp0KS0xKX0pKSxsKFwiZWFzaW5nLkVhc2VMb29rdXBcIix7ZmluZDpmdW5jdGlvbihlKXtyZXR1cm4gdC5tYXBbZV19fSwhMCksXyhyLlNsb3dNbyxcIlNsb3dNb1wiLFwiZWFzZSxcIiksXyhpLFwiUm91Z2hFYXNlXCIsXCJlYXNlLFwiKSxfKGUsXCJTdGVwcGVkRWFzZVwiLFwiZWFzZSxcIikscH0sITApfSksX2dzU2NvcGUuX2dzRGVmaW5lJiZfZ3NTY29wZS5fZ3NRdWV1ZS5wb3AoKSgpLGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9dC5HcmVlblNvY2tHbG9iYWxzPXQuR3JlZW5Tb2NrR2xvYmFsc3x8dDtpZighaS5Ud2VlbkxpdGUpe3ZhciBzLHIsbixhLG8sbD1mdW5jdGlvbih0KXt2YXIgZSxzPXQuc3BsaXQoXCIuXCIpLHI9aTtmb3IoZT0wO3MubGVuZ3RoPmU7ZSsrKXJbc1tlXV09cj1yW3NbZV1dfHx7fTtyZXR1cm4gcn0saD1sKFwiY29tLmdyZWVuc29ja1wiKSxfPTFlLTEwLHU9ZnVuY3Rpb24odCl7dmFyIGUsaT1bXSxzPXQubGVuZ3RoO2ZvcihlPTA7ZSE9PXM7aS5wdXNoKHRbZSsrXSkpO3JldHVybiBpfSxjPWZ1bmN0aW9uKCl7fSxmPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxlPXQuY2FsbChbXSk7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBudWxsIT1pJiYoaSBpbnN0YW5jZW9mIEFycmF5fHxcIm9iamVjdFwiPT10eXBlb2YgaSYmISFpLnB1c2gmJnQuY2FsbChpKT09PWUpfX0oKSxwPXt9LG09ZnVuY3Rpb24ocyxyLG4sYSl7dGhpcy5zYz1wW3NdP3Bbc10uc2M6W10scFtzXT10aGlzLHRoaXMuZ3NDbGFzcz1udWxsLHRoaXMuZnVuYz1uO3ZhciBvPVtdO3RoaXMuY2hlY2s9ZnVuY3Rpb24oaCl7Zm9yKHZhciBfLHUsYyxmLGQsZz1yLmxlbmd0aCx2PWc7LS1nPi0xOykoXz1wW3JbZ11dfHxuZXcgbShyW2ddLFtdKSkuZ3NDbGFzcz8ob1tnXT1fLmdzQ2xhc3Msdi0tKTpoJiZfLnNjLnB1c2godGhpcyk7aWYoMD09PXYmJm4pZm9yKHU9KFwiY29tLmdyZWVuc29jay5cIitzKS5zcGxpdChcIi5cIiksYz11LnBvcCgpLGY9bCh1LmpvaW4oXCIuXCIpKVtjXT10aGlzLmdzQ2xhc3M9bi5hcHBseShuLG8pLGEmJihpW2NdPWYsZD1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cywhZCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSgodC5HcmVlblNvY2tBTURQYXRoP3QuR3JlZW5Tb2NrQU1EUGF0aCtcIi9cIjpcIlwiKStzLnNwbGl0KFwiLlwiKS5wb3AoKSxbXSxmdW5jdGlvbigpe3JldHVybiBmfSk6cz09PWUmJmQmJihtb2R1bGUuZXhwb3J0cz1mKSksZz0wO3RoaXMuc2MubGVuZ3RoPmc7ZysrKXRoaXMuc2NbZ10uY2hlY2soKX0sdGhpcy5jaGVjayghMCl9LGQ9dC5fZ3NEZWZpbmU9ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIG5ldyBtKHQsZSxpLHMpfSxnPWguX2NsYXNzPWZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZT1lfHxmdW5jdGlvbigpe30sZCh0LFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGV9LGkpLGV9O2QuZ2xvYmFscz1pO3ZhciB2PVswLDAsMSwxXSx5PVtdLFQ9ZyhcImVhc2luZy5FYXNlXCIsZnVuY3Rpb24odCxlLGkscyl7dGhpcy5fZnVuYz10LHRoaXMuX3R5cGU9aXx8MCx0aGlzLl9wb3dlcj1zfHwwLHRoaXMuX3BhcmFtcz1lP3YuY29uY2F0KGUpOnZ9LCEwKSx4PVQubWFwPXt9LHc9VC5yZWdpc3Rlcj1mdW5jdGlvbih0LGUsaSxzKXtmb3IodmFyIHIsbixhLG8sbD1lLnNwbGl0KFwiLFwiKSxfPWwubGVuZ3RoLHU9KGl8fFwiZWFzZUluLGVhc2VPdXQsZWFzZUluT3V0XCIpLnNwbGl0KFwiLFwiKTstLV8+LTE7KWZvcihuPWxbX10scj1zP2coXCJlYXNpbmcuXCIrbixudWxsLCEwKTpoLmVhc2luZ1tuXXx8e30sYT11Lmxlbmd0aDstLWE+LTE7KW89dVthXSx4W24rXCIuXCIrb109eFtvK25dPXJbb109dC5nZXRSYXRpbz90OnRbb118fG5ldyB0fTtmb3Iobj1ULnByb3RvdHlwZSxuLl9jYWxjRW5kPSExLG4uZ2V0UmF0aW89ZnVuY3Rpb24odCl7aWYodGhpcy5fZnVuYylyZXR1cm4gdGhpcy5fcGFyYW1zWzBdPXQsdGhpcy5fZnVuYy5hcHBseShudWxsLHRoaXMuX3BhcmFtcyk7dmFyIGU9dGhpcy5fdHlwZSxpPXRoaXMuX3Bvd2VyLHM9MT09PWU/MS10OjI9PT1lP3Q6LjU+dD8yKnQ6MiooMS10KTtyZXR1cm4gMT09PWk/cyo9czoyPT09aT9zKj1zKnM6Mz09PWk/cyo9cypzKnM6ND09PWkmJihzKj1zKnMqcypzKSwxPT09ZT8xLXM6Mj09PWU/czouNT50P3MvMjoxLXMvMn0scz1bXCJMaW5lYXJcIixcIlF1YWRcIixcIkN1YmljXCIsXCJRdWFydFwiLFwiUXVpbnQsU3Ryb25nXCJdLHI9cy5sZW5ndGg7LS1yPi0xOyluPXNbcl0rXCIsUG93ZXJcIityLHcobmV3IFQobnVsbCxudWxsLDEsciksbixcImVhc2VPdXRcIiwhMCksdyhuZXcgVChudWxsLG51bGwsMixyKSxuLFwiZWFzZUluXCIrKDA9PT1yP1wiLGVhc2VOb25lXCI6XCJcIikpLHcobmV3IFQobnVsbCxudWxsLDMsciksbixcImVhc2VJbk91dFwiKTt4LmxpbmVhcj1oLmVhc2luZy5MaW5lYXIuZWFzZUluLHguc3dpbmc9aC5lYXNpbmcuUXVhZC5lYXNlSW5PdXQ7dmFyIGI9ZyhcImV2ZW50cy5FdmVudERpc3BhdGNoZXJcIixmdW5jdGlvbih0KXt0aGlzLl9saXN0ZW5lcnM9e30sdGhpcy5fZXZlbnRUYXJnZXQ9dHx8dGhpc30pO249Yi5wcm90b3R5cGUsbi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSxpLHMscil7cj1yfHwwO3ZhciBuLGwsaD10aGlzLl9saXN0ZW5lcnNbdF0sXz0wO2ZvcihudWxsPT1oJiYodGhpcy5fbGlzdGVuZXJzW3RdPWg9W10pLGw9aC5sZW5ndGg7LS1sPi0xOyluPWhbbF0sbi5jPT09ZSYmbi5zPT09aT9oLnNwbGljZShsLDEpOjA9PT1fJiZyPm4ucHImJihfPWwrMSk7aC5zcGxpY2UoXywwLHtjOmUsczppLHVwOnMscHI6cn0pLHRoaXMhPT1hfHxvfHxhLndha2UoKX0sbi5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKHQsZSl7dmFyIGkscz10aGlzLl9saXN0ZW5lcnNbdF07aWYocylmb3IoaT1zLmxlbmd0aDstLWk+LTE7KWlmKHNbaV0uYz09PWUpcmV0dXJuIHMuc3BsaWNlKGksMSksdm9pZCAwfSxuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24odCl7dmFyIGUsaSxzLHI9dGhpcy5fbGlzdGVuZXJzW3RdO2lmKHIpZm9yKGU9ci5sZW5ndGgsaT10aGlzLl9ldmVudFRhcmdldDstLWU+LTE7KXM9cltlXSxzJiYocy51cD9zLmMuY2FsbChzLnN8fGkse3R5cGU6dCx0YXJnZXQ6aX0pOnMuYy5jYWxsKHMuc3x8aSkpfTt2YXIgUD10LnJlcXVlc3RBbmltYXRpb25GcmFtZSxrPXQuY2FuY2VsQW5pbWF0aW9uRnJhbWUsUz1EYXRlLm5vd3x8ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sUj1TKCk7Zm9yKHM9W1wibXNcIixcIm1velwiLFwid2Via2l0XCIsXCJvXCJdLHI9cy5sZW5ndGg7LS1yPi0xJiYhUDspUD10W3Nbcl0rXCJSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl0saz10W3Nbcl0rXCJDYW5jZWxBbmltYXRpb25GcmFtZVwiXXx8dFtzW3JdK1wiQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO2coXCJUaWNrZXJcIixmdW5jdGlvbih0LGUpe3ZhciBpLHMscixuLGwsaD10aGlzLHU9UygpLGY9ZSE9PSExJiZQLHA9NTAwLG09MzMsZD1cInRpY2tcIixnPWZ1bmN0aW9uKHQpe3ZhciBlLGEsbz1TKCktUjtvPnAmJih1Kz1vLW0pLFIrPW8saC50aW1lPShSLXUpLzFlMyxlPWgudGltZS1sLCghaXx8ZT4wfHx0PT09ITApJiYoaC5mcmFtZSsrLGwrPWUrKGU+PW4/LjAwNDpuLWUpLGE9ITApLHQhPT0hMCYmKHI9cyhnKSksYSYmaC5kaXNwYXRjaEV2ZW50KGQpfTtiLmNhbGwoaCksaC50aW1lPWguZnJhbWU9MCxoLnRpY2s9ZnVuY3Rpb24oKXtnKCEwKX0saC5sYWdTbW9vdGhpbmc9ZnVuY3Rpb24odCxlKXtwPXR8fDEvXyxtPU1hdGgubWluKGUscCwwKX0saC5zbGVlcD1mdW5jdGlvbigpe251bGwhPXImJihmJiZrP2socik6Y2xlYXJUaW1lb3V0KHIpLHM9YyxyPW51bGwsaD09PWEmJihvPSExKSl9LGgud2FrZT1mdW5jdGlvbigpe251bGwhPT1yP2guc2xlZXAoKTpoLmZyYW1lPjEwJiYoUj1TKCktcCs1KSxzPTA9PT1pP2M6ZiYmUD9QOmZ1bmN0aW9uKHQpe3JldHVybiBzZXRUaW1lb3V0KHQsMHwxZTMqKGwtaC50aW1lKSsxKX0saD09PWEmJihvPSEwKSxnKDIpfSxoLmZwcz1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaT10LG49MS8oaXx8NjApLGw9dGhpcy50aW1lK24saC53YWtlKCksdm9pZCAwKTppfSxoLnVzZVJBRj1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaC5zbGVlcCgpLGY9dCxoLmZwcyhpKSx2b2lkIDApOmZ9LGguZnBzKHQpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtmJiY1PmguZnJhbWUmJmgudXNlUkFGKCExKX0sMTUwMCl9KSxuPWguVGlja2VyLnByb3RvdHlwZT1uZXcgaC5ldmVudHMuRXZlbnREaXNwYXRjaGVyLG4uY29uc3RydWN0b3I9aC5UaWNrZXI7dmFyIE89ZyhcImNvcmUuQW5pbWF0aW9uXCIsZnVuY3Rpb24odCxlKXtpZih0aGlzLnZhcnM9ZT1lfHx7fSx0aGlzLl9kdXJhdGlvbj10aGlzLl90b3RhbER1cmF0aW9uPXR8fDAsdGhpcy5fZGVsYXk9TnVtYmVyKGUuZGVsYXkpfHwwLHRoaXMuX3RpbWVTY2FsZT0xLHRoaXMuX2FjdGl2ZT1lLmltbWVkaWF0ZVJlbmRlcj09PSEwLHRoaXMuZGF0YT1lLmRhdGEsdGhpcy5fcmV2ZXJzZWQ9ZS5yZXZlcnNlZD09PSEwLFcpe298fGEud2FrZSgpO3ZhciBpPXRoaXMudmFycy51c2VGcmFtZXM/RzpXO2kuYWRkKHRoaXMsaS5fdGltZSksdGhpcy52YXJzLnBhdXNlZCYmdGhpcy5wYXVzZWQoITApfX0pO2E9Ty50aWNrZXI9bmV3IGguVGlja2VyLG49Ty5wcm90b3R5cGUsbi5fZGlydHk9bi5fZ2M9bi5faW5pdHRlZD1uLl9wYXVzZWQ9ITEsbi5fdG90YWxUaW1lPW4uX3RpbWU9MCxuLl9yYXdQcmV2VGltZT0tMSxuLl9uZXh0PW4uX2xhc3Q9bi5fb25VcGRhdGU9bi5fdGltZWxpbmU9bi50aW1lbGluZT1udWxsLG4uX3BhdXNlZD0hMTt2YXIgQT1mdW5jdGlvbigpe28mJlMoKS1SPjJlMyYmYS53YWtlKCksc2V0VGltZW91dChBLDJlMyl9O0EoKSxuLnBsYXk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5zZWVrKHQsZSksdGhpcy5yZXZlcnNlZCghMSkucGF1c2VkKCExKX0sbi5wYXVzZT1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsIT10JiZ0aGlzLnNlZWsodCxlKSx0aGlzLnBhdXNlZCghMCl9LG4ucmVzdW1lPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG51bGwhPXQmJnRoaXMuc2Vlayh0LGUpLHRoaXMucGF1c2VkKCExKX0sbi5zZWVrPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudG90YWxUaW1lKE51bWJlcih0KSxlIT09ITEpfSxuLnJlc3RhcnQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5yZXZlcnNlZCghMSkucGF1c2VkKCExKS50b3RhbFRpbWUodD8tdGhpcy5fZGVsYXk6MCxlIT09ITEsITApfSxuLnJldmVyc2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5zZWVrKHR8fHRoaXMudG90YWxEdXJhdGlvbigpLGUpLHRoaXMucmV2ZXJzZWQoITApLnBhdXNlZCghMSl9LG4ucmVuZGVyPWZ1bmN0aW9uKCl7fSxuLmludmFsaWRhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGltZT10aGlzLl90b3RhbFRpbWU9MCx0aGlzLl9pbml0dGVkPXRoaXMuX2djPSExLHRoaXMuX3Jhd1ByZXZUaW1lPS0xLCh0aGlzLl9nY3x8IXRoaXMudGltZWxpbmUpJiZ0aGlzLl9lbmFibGVkKCEwKSx0aGlzfSxuLmlzQWN0aXZlPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLl90aW1lbGluZSxpPXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4hZXx8IXRoaXMuX2djJiYhdGhpcy5fcGF1c2VkJiZlLmlzQWN0aXZlKCkmJih0PWUucmF3VGltZSgpKT49aSYmaSt0aGlzLnRvdGFsRHVyYXRpb24oKS90aGlzLl90aW1lU2NhbGU+dH0sbi5fZW5hYmxlZD1mdW5jdGlvbih0LGUpe3JldHVybiBvfHxhLndha2UoKSx0aGlzLl9nYz0hdCx0aGlzLl9hY3RpdmU9dGhpcy5pc0FjdGl2ZSgpLGUhPT0hMCYmKHQmJiF0aGlzLnRpbWVsaW5lP3RoaXMuX3RpbWVsaW5lLmFkZCh0aGlzLHRoaXMuX3N0YXJ0VGltZS10aGlzLl9kZWxheSk6IXQmJnRoaXMudGltZWxpbmUmJnRoaXMuX3RpbWVsaW5lLl9yZW1vdmUodGhpcywhMCkpLCExfSxuLl9raWxsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWQoITEsITEpfSxuLmtpbGw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fa2lsbCh0LGUpLHRoaXN9LG4uX3VuY2FjaGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXQ/dGhpczp0aGlzLnRpbWVsaW5lO2U7KWUuX2RpcnR5PSEwLGU9ZS50aW1lbGluZTtyZXR1cm4gdGhpc30sbi5fc3dhcFNlbGZJblBhcmFtcz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGgsaT10LmNvbmNhdCgpOy0tZT4tMTspXCJ7c2VsZn1cIj09PXRbZV0mJihpW2VdPXRoaXMpO3JldHVybiBpfSxuLl9jYWxsYmFjaz1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZhcnM7ZVt0XS5hcHBseShlW3QrXCJTY29wZVwiXXx8ZS5jYWxsYmFja1Njb3BlfHx0aGlzLGVbdCtcIlBhcmFtc1wiXXx8eSl9LG4uZXZlbnRDYWxsYmFjaz1mdW5jdGlvbih0LGUsaSxzKXtpZihcIm9uXCI9PT0odHx8XCJcIikuc3Vic3RyKDAsMikpe3ZhciByPXRoaXMudmFycztpZigxPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gclt0XTtudWxsPT1lP2RlbGV0ZSByW3RdOihyW3RdPWUsclt0K1wiUGFyYW1zXCJdPWYoaSkmJi0xIT09aS5qb2luKFwiXCIpLmluZGV4T2YoXCJ7c2VsZn1cIik/dGhpcy5fc3dhcFNlbGZJblBhcmFtcyhpKTppLHJbdCtcIlNjb3BlXCJdPXMpLFwib25VcGRhdGVcIj09PXQmJih0aGlzLl9vblVwZGF0ZT1lKX1yZXR1cm4gdGhpc30sbi5kZWxheT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuc3RhcnRUaW1lKHRoaXMuX3N0YXJ0VGltZSt0LXRoaXMuX2RlbGF5KSx0aGlzLl9kZWxheT10LHRoaXMpOnRoaXMuX2RlbGF5fSxuLmR1cmF0aW9uPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kdXJhdGlvbj10aGlzLl90b3RhbER1cmF0aW9uPXQsdGhpcy5fdW5jYWNoZSghMCksdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuX3RpbWU+MCYmdGhpcy5fdGltZTx0aGlzLl9kdXJhdGlvbiYmMCE9PXQmJnRoaXMudG90YWxUaW1lKHRoaXMuX3RvdGFsVGltZSoodC90aGlzLl9kdXJhdGlvbiksITApLHRoaXMpOih0aGlzLl9kaXJ0eT0hMSx0aGlzLl9kdXJhdGlvbil9LG4udG90YWxEdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGlydHk9ITEsYXJndW1lbnRzLmxlbmd0aD90aGlzLmR1cmF0aW9uKHQpOnRoaXMuX3RvdGFsRHVyYXRpb259LG4udGltZT1mdW5jdGlvbih0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kaXJ0eSYmdGhpcy50b3RhbER1cmF0aW9uKCksdGhpcy50b3RhbFRpbWUodD50aGlzLl9kdXJhdGlvbj90aGlzLl9kdXJhdGlvbjp0LGUpKTp0aGlzLl90aW1lfSxuLnRvdGFsVGltZT1mdW5jdGlvbih0LGUsaSl7aWYob3x8YS53YWtlKCksIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3RvdGFsVGltZTtpZih0aGlzLl90aW1lbGluZSl7aWYoMD50JiYhaSYmKHQrPXRoaXMudG90YWxEdXJhdGlvbigpKSx0aGlzLl90aW1lbGluZS5zbW9vdGhDaGlsZFRpbWluZyl7dGhpcy5fZGlydHkmJnRoaXMudG90YWxEdXJhdGlvbigpO3ZhciBzPXRoaXMuX3RvdGFsRHVyYXRpb24scj10aGlzLl90aW1lbGluZTtpZih0PnMmJiFpJiYodD1zKSx0aGlzLl9zdGFydFRpbWU9KHRoaXMuX3BhdXNlZD90aGlzLl9wYXVzZVRpbWU6ci5fdGltZSktKHRoaXMuX3JldmVyc2VkP3MtdDp0KS90aGlzLl90aW1lU2NhbGUsci5fZGlydHl8fHRoaXMuX3VuY2FjaGUoITEpLHIuX3RpbWVsaW5lKWZvcig7ci5fdGltZWxpbmU7KXIuX3RpbWVsaW5lLl90aW1lIT09KHIuX3N0YXJ0VGltZStyLl90b3RhbFRpbWUpL3IuX3RpbWVTY2FsZSYmci50b3RhbFRpbWUoci5fdG90YWxUaW1lLCEwKSxyPXIuX3RpbWVsaW5lfXRoaXMuX2djJiZ0aGlzLl9lbmFibGVkKCEwLCExKSwodGhpcy5fdG90YWxUaW1lIT09dHx8MD09PXRoaXMuX2R1cmF0aW9uKSYmKEYubGVuZ3RoJiZRKCksdGhpcy5yZW5kZXIodCxlLCExKSxGLmxlbmd0aCYmUSgpKX1yZXR1cm4gdGhpc30sbi5wcm9ncmVzcz1uLnRvdGFsUHJvZ3Jlc3M9ZnVuY3Rpb24odCxlKXt2YXIgaT10aGlzLmR1cmF0aW9uKCk7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbFRpbWUoaSp0LGUpOmk/dGhpcy5fdGltZS9pOnRoaXMucmF0aW99LG4uc3RhcnRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0IT09dGhpcy5fc3RhcnRUaW1lJiYodGhpcy5fc3RhcnRUaW1lPXQsdGhpcy50aW1lbGluZSYmdGhpcy50aW1lbGluZS5fc29ydENoaWxkcmVuJiZ0aGlzLnRpbWVsaW5lLmFkZCh0aGlzLHQtdGhpcy5fZGVsYXkpKSx0aGlzKTp0aGlzLl9zdGFydFRpbWV9LG4uZW5kVGltZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fc3RhcnRUaW1lKygwIT10P3RoaXMudG90YWxEdXJhdGlvbigpOnRoaXMuZHVyYXRpb24oKSkvdGhpcy5fdGltZVNjYWxlfSxuLnRpbWVTY2FsZT1mdW5jdGlvbih0KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fdGltZVNjYWxlO2lmKHQ9dHx8Xyx0aGlzLl90aW1lbGluZSYmdGhpcy5fdGltZWxpbmUuc21vb3RoQ2hpbGRUaW1pbmcpe3ZhciBlPXRoaXMuX3BhdXNlVGltZSxpPWV8fDA9PT1lP2U6dGhpcy5fdGltZWxpbmUudG90YWxUaW1lKCk7dGhpcy5fc3RhcnRUaW1lPWktKGktdGhpcy5fc3RhcnRUaW1lKSp0aGlzLl90aW1lU2NhbGUvdH1yZXR1cm4gdGhpcy5fdGltZVNjYWxlPXQsdGhpcy5fdW5jYWNoZSghMSl9LG4ucmV2ZXJzZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQhPXRoaXMuX3JldmVyc2VkJiYodGhpcy5fcmV2ZXJzZWQ9dCx0aGlzLnRvdGFsVGltZSh0aGlzLl90aW1lbGluZSYmIXRoaXMuX3RpbWVsaW5lLnNtb290aENoaWxkVGltaW5nP3RoaXMudG90YWxEdXJhdGlvbigpLXRoaXMuX3RvdGFsVGltZTp0aGlzLl90b3RhbFRpbWUsITApKSx0aGlzKTp0aGlzLl9yZXZlcnNlZH0sbi5wYXVzZWQ9ZnVuY3Rpb24odCl7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3BhdXNlZDt2YXIgZSxpLHM9dGhpcy5fdGltZWxpbmU7cmV0dXJuIHQhPXRoaXMuX3BhdXNlZCYmcyYmKG98fHR8fGEud2FrZSgpLGU9cy5yYXdUaW1lKCksaT1lLXRoaXMuX3BhdXNlVGltZSwhdCYmcy5zbW9vdGhDaGlsZFRpbWluZyYmKHRoaXMuX3N0YXJ0VGltZSs9aSx0aGlzLl91bmNhY2hlKCExKSksdGhpcy5fcGF1c2VUaW1lPXQ/ZTpudWxsLHRoaXMuX3BhdXNlZD10LHRoaXMuX2FjdGl2ZT10aGlzLmlzQWN0aXZlKCksIXQmJjAhPT1pJiZ0aGlzLl9pbml0dGVkJiZ0aGlzLmR1cmF0aW9uKCkmJihlPXMuc21vb3RoQ2hpbGRUaW1pbmc/dGhpcy5fdG90YWxUaW1lOihlLXRoaXMuX3N0YXJ0VGltZSkvdGhpcy5fdGltZVNjYWxlLHRoaXMucmVuZGVyKGUsZT09PXRoaXMuX3RvdGFsVGltZSwhMCkpKSx0aGlzLl9nYyYmIXQmJnRoaXMuX2VuYWJsZWQoITAsITEpLHRoaXN9O3ZhciBDPWcoXCJjb3JlLlNpbXBsZVRpbWVsaW5lXCIsZnVuY3Rpb24odCl7Ty5jYWxsKHRoaXMsMCx0KSx0aGlzLmF1dG9SZW1vdmVDaGlsZHJlbj10aGlzLnNtb290aENoaWxkVGltaW5nPSEwfSk7bj1DLnByb3RvdHlwZT1uZXcgTyxuLmNvbnN0cnVjdG9yPUMsbi5raWxsKCkuX2djPSExLG4uX2ZpcnN0PW4uX2xhc3Q9bi5fcmVjZW50PW51bGwsbi5fc29ydENoaWxkcmVuPSExLG4uYWRkPW4uaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIGkscztpZih0Ll9zdGFydFRpbWU9TnVtYmVyKGV8fDApK3QuX2RlbGF5LHQuX3BhdXNlZCYmdGhpcyE9PXQuX3RpbWVsaW5lJiYodC5fcGF1c2VUaW1lPXQuX3N0YXJ0VGltZSsodGhpcy5yYXdUaW1lKCktdC5fc3RhcnRUaW1lKS90Ll90aW1lU2NhbGUpLHQudGltZWxpbmUmJnQudGltZWxpbmUuX3JlbW92ZSh0LCEwKSx0LnRpbWVsaW5lPXQuX3RpbWVsaW5lPXRoaXMsdC5fZ2MmJnQuX2VuYWJsZWQoITAsITApLGk9dGhpcy5fbGFzdCx0aGlzLl9zb3J0Q2hpbGRyZW4pZm9yKHM9dC5fc3RhcnRUaW1lO2kmJmkuX3N0YXJ0VGltZT5zOylpPWkuX3ByZXY7cmV0dXJuIGk/KHQuX25leHQ9aS5fbmV4dCxpLl9uZXh0PXQpOih0Ll9uZXh0PXRoaXMuX2ZpcnN0LHRoaXMuX2ZpcnN0PXQpLHQuX25leHQ/dC5fbmV4dC5fcHJldj10OnRoaXMuX2xhc3Q9dCx0Ll9wcmV2PWksdGhpcy5fcmVjZW50PXQsdGhpcy5fdGltZWxpbmUmJnRoaXMuX3VuY2FjaGUoITApLHRoaXN9LG4uX3JlbW92ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0LnRpbWVsaW5lPT09dGhpcyYmKGV8fHQuX2VuYWJsZWQoITEsITApLHQuX3ByZXY/dC5fcHJldi5fbmV4dD10Ll9uZXh0OnRoaXMuX2ZpcnN0PT09dCYmKHRoaXMuX2ZpcnN0PXQuX25leHQpLHQuX25leHQ/dC5fbmV4dC5fcHJldj10Ll9wcmV2OnRoaXMuX2xhc3Q9PT10JiYodGhpcy5fbGFzdD10Ll9wcmV2KSx0Ll9uZXh0PXQuX3ByZXY9dC50aW1lbGluZT1udWxsLHQ9PT10aGlzLl9yZWNlbnQmJih0aGlzLl9yZWNlbnQ9dGhpcy5fbGFzdCksdGhpcy5fdGltZWxpbmUmJnRoaXMuX3VuY2FjaGUoITApKSx0aGlzfSxuLnJlbmRlcj1mdW5jdGlvbih0LGUsaSl7dmFyIHMscj10aGlzLl9maXJzdDtmb3IodGhpcy5fdG90YWxUaW1lPXRoaXMuX3RpbWU9dGhpcy5fcmF3UHJldlRpbWU9dDtyOylzPXIuX25leHQsKHIuX2FjdGl2ZXx8dD49ci5fc3RhcnRUaW1lJiYhci5fcGF1c2VkKSYmKHIuX3JldmVyc2VkP3IucmVuZGVyKChyLl9kaXJ0eT9yLnRvdGFsRHVyYXRpb24oKTpyLl90b3RhbER1cmF0aW9uKS0odC1yLl9zdGFydFRpbWUpKnIuX3RpbWVTY2FsZSxlLGkpOnIucmVuZGVyKCh0LXIuX3N0YXJ0VGltZSkqci5fdGltZVNjYWxlLGUsaSkpLHI9c30sbi5yYXdUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIG98fGEud2FrZSgpLHRoaXMuX3RvdGFsVGltZX07dmFyIEQ9ZyhcIlR3ZWVuTGl0ZVwiLGZ1bmN0aW9uKGUsaSxzKXtpZihPLmNhbGwodGhpcyxpLHMpLHRoaXMucmVuZGVyPUQucHJvdG90eXBlLnJlbmRlcixudWxsPT1lKXRocm93XCJDYW5ub3QgdHdlZW4gYSBudWxsIHRhcmdldC5cIjt0aGlzLnRhcmdldD1lPVwic3RyaW5nXCIhPXR5cGVvZiBlP2U6RC5zZWxlY3RvcihlKXx8ZTt2YXIgcixuLGEsbz1lLmpxdWVyeXx8ZS5sZW5ndGgmJmUhPT10JiZlWzBdJiYoZVswXT09PXR8fGVbMF0ubm9kZVR5cGUmJmVbMF0uc3R5bGUmJiFlLm5vZGVUeXBlKSxsPXRoaXMudmFycy5vdmVyd3JpdGU7aWYodGhpcy5fb3ZlcndyaXRlPWw9bnVsbD09bD9WW0QuZGVmYXVsdE92ZXJ3cml0ZV06XCJudW1iZXJcIj09dHlwZW9mIGw/bD4+MDpWW2xdLChvfHxlIGluc3RhbmNlb2YgQXJyYXl8fGUucHVzaCYmZihlKSkmJlwibnVtYmVyXCIhPXR5cGVvZiBlWzBdKWZvcih0aGlzLl90YXJnZXRzPWE9dShlKSx0aGlzLl9wcm9wTG9va3VwPVtdLHRoaXMuX3NpYmxpbmdzPVtdLHI9MDthLmxlbmd0aD5yO3IrKyluPWFbcl0sbj9cInN0cmluZ1wiIT10eXBlb2Ygbj9uLmxlbmd0aCYmbiE9PXQmJm5bMF0mJihuWzBdPT09dHx8blswXS5ub2RlVHlwZSYmblswXS5zdHlsZSYmIW4ubm9kZVR5cGUpPyhhLnNwbGljZShyLS0sMSksdGhpcy5fdGFyZ2V0cz1hPWEuY29uY2F0KHUobikpKToodGhpcy5fc2libGluZ3Nbcl09JChuLHRoaXMsITEpLDE9PT1sJiZ0aGlzLl9zaWJsaW5nc1tyXS5sZW5ndGg+MSYmSyhuLHRoaXMsbnVsbCwxLHRoaXMuX3NpYmxpbmdzW3JdKSk6KG49YVtyLS1dPUQuc2VsZWN0b3IobiksXCJzdHJpbmdcIj09dHlwZW9mIG4mJmEuc3BsaWNlKHIrMSwxKSk6YS5zcGxpY2Uoci0tLDEpO2Vsc2UgdGhpcy5fcHJvcExvb2t1cD17fSx0aGlzLl9zaWJsaW5ncz0kKGUsdGhpcywhMSksMT09PWwmJnRoaXMuX3NpYmxpbmdzLmxlbmd0aD4xJiZLKGUsdGhpcyxudWxsLDEsdGhpcy5fc2libGluZ3MpOyh0aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyfHwwPT09aSYmMD09PXRoaXMuX2RlbGF5JiZ0aGlzLnZhcnMuaW1tZWRpYXRlUmVuZGVyIT09ITEpJiYodGhpcy5fdGltZT0tXyx0aGlzLnJlbmRlcigtdGhpcy5fZGVsYXkpKX0sITApLE09ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubGVuZ3RoJiZlIT09dCYmZVswXSYmKGVbMF09PT10fHxlWzBdLm5vZGVUeXBlJiZlWzBdLnN0eWxlJiYhZS5ub2RlVHlwZSl9LHo9ZnVuY3Rpb24odCxlKXt2YXIgaSxzPXt9O2ZvcihpIGluIHQpcVtpXXx8aSBpbiBlJiZcInRyYW5zZm9ybVwiIT09aSYmXCJ4XCIhPT1pJiZcInlcIiE9PWkmJlwid2lkdGhcIiE9PWkmJlwiaGVpZ2h0XCIhPT1pJiZcImNsYXNzTmFtZVwiIT09aSYmXCJib3JkZXJcIiE9PWl8fCEoIWpbaV18fGpbaV0mJmpbaV0uX2F1dG9DU1MpfHwoc1tpXT10W2ldLGRlbGV0ZSB0W2ldKTt0LmNzcz1zfTtuPUQucHJvdG90eXBlPW5ldyBPLG4uY29uc3RydWN0b3I9RCxuLmtpbGwoKS5fZ2M9ITEsbi5yYXRpbz0wLG4uX2ZpcnN0UFQ9bi5fdGFyZ2V0cz1uLl9vdmVyd3JpdHRlblByb3BzPW4uX3N0YXJ0QXQ9bnVsbCxuLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkPW4uX2xhenk9ITEsRC52ZXJzaW9uPVwiMS4xOC4wXCIsRC5kZWZhdWx0RWFzZT1uLl9lYXNlPW5ldyBUKG51bGwsbnVsbCwxLDEpLEQuZGVmYXVsdE92ZXJ3cml0ZT1cImF1dG9cIixELnRpY2tlcj1hLEQuYXV0b1NsZWVwPTEyMCxELmxhZ1Ntb290aGluZz1mdW5jdGlvbih0LGUpe2EubGFnU21vb3RoaW5nKHQsZSl9LEQuc2VsZWN0b3I9dC4kfHx0LmpRdWVyeXx8ZnVuY3Rpb24oZSl7dmFyIGk9dC4kfHx0LmpRdWVyeTtyZXR1cm4gaT8oRC5zZWxlY3Rvcj1pLGkoZSkpOlwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudD9lOmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw/ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKTpkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIiNcIj09PWUuY2hhckF0KDApP2Uuc3Vic3RyKDEpOmUpfTt2YXIgRj1bXSxJPXt9LEU9Lyg/OigtfC09fFxcKz0pP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/KVswLTldL2dpLE49ZnVuY3Rpb24odCl7Zm9yKHZhciBlLGk9dGhpcy5fZmlyc3RQVCxzPTFlLTY7aTspZT1pLmJsb2I/dD90aGlzLmpvaW4oXCJcIik6dGhpcy5zdGFydDppLmMqdCtpLnMsaS5yP2U9TWF0aC5yb3VuZChlKTpzPmUmJmU+LXMmJihlPTApLGkuZj9pLmZwP2kudFtpLnBdKGkuZnAsZSk6aS50W2kucF0oZSk6aS50W2kucF09ZSxpPWkuX25leHR9LEw9ZnVuY3Rpb24odCxlLGkscyl7dmFyIHIsbixhLG8sbCxoLF8sdT1bdCxlXSxjPTAsZj1cIlwiLHA9MDtmb3IodS5zdGFydD10LGkmJihpKHUpLHQ9dVswXSxlPXVbMV0pLHUubGVuZ3RoPTAscj10Lm1hdGNoKEUpfHxbXSxuPWUubWF0Y2goRSl8fFtdLHMmJihzLl9uZXh0PW51bGwscy5ibG9iPTEsdS5fZmlyc3RQVD1zKSxsPW4ubGVuZ3RoLG89MDtsPm87bysrKV89bltvXSxoPWUuc3Vic3RyKGMsZS5pbmRleE9mKF8sYyktYyksZis9aHx8IW8/aDpcIixcIixjKz1oLmxlbmd0aCxwP3A9KHArMSklNTpcInJnYmEoXCI9PT1oLnN1YnN0cigtNSkmJihwPTEpLF89PT1yW29dfHxvPj1yLmxlbmd0aD9mKz1fOihmJiYodS5wdXNoKGYpLGY9XCJcIiksYT1wYXJzZUZsb2F0KHJbb10pLHUucHVzaChhKSx1Ll9maXJzdFBUPXtfbmV4dDp1Ll9maXJzdFBULHQ6dSxwOnUubGVuZ3RoLTEsczphLGM6KFwiPVwiPT09Xy5jaGFyQXQoMSk/cGFyc2VJbnQoXy5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQoXy5zdWJzdHIoMikpOnBhcnNlRmxvYXQoXyktYSl8fDAsZjowLHI6cCYmND5wfSksYys9Xy5sZW5ndGg7cmV0dXJuIGYrPWUuc3Vic3RyKGMpLGYmJnUucHVzaChmKSx1LnNldFJhdGlvPU4sdX0sWD1mdW5jdGlvbih0LGUsaSxzLHIsbixhLG8pe3ZhciBsLGgsXz1cImdldFwiPT09aT90W2VdOmksdT10eXBlb2YgdFtlXSxjPVwic3RyaW5nXCI9PXR5cGVvZiBzJiZcIj1cIj09PXMuY2hhckF0KDEpLGY9e3Q6dCxwOmUsczpfLGY6XCJmdW5jdGlvblwiPT09dSxwZzowLG46cnx8ZSxyOm4scHI6MCxjOmM/cGFyc2VJbnQocy5jaGFyQXQoMCkrXCIxXCIsMTApKnBhcnNlRmxvYXQocy5zdWJzdHIoMikpOnBhcnNlRmxvYXQocyktX3x8MH07cmV0dXJuXCJudW1iZXJcIiE9PXUmJihcImZ1bmN0aW9uXCI9PT11JiZcImdldFwiPT09aSYmKGg9ZS5pbmRleE9mKFwic2V0XCIpfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0W1wiZ2V0XCIrZS5zdWJzdHIoMyldP2U6XCJnZXRcIitlLnN1YnN0cigzKSxmLnM9Xz1hP3RbaF0oYSk6dFtoXSgpKSxcInN0cmluZ1wiPT10eXBlb2YgXyYmKGF8fGlzTmFOKF8pKT8oZi5mcD1hLGw9TChfLHMsb3x8RC5kZWZhdWx0U3RyaW5nRmlsdGVyLGYpLGY9e3Q6bCxwOlwic2V0UmF0aW9cIixzOjAsYzoxLGY6MixwZzowLG46cnx8ZSxwcjowfSk6Y3x8KGYuYz1wYXJzZUZsb2F0KHMpLXBhcnNlRmxvYXQoXyl8fDApKSxmLmM/KChmLl9uZXh0PXRoaXMuX2ZpcnN0UFQpJiYoZi5fbmV4dC5fcHJldj1mKSx0aGlzLl9maXJzdFBUPWYsZik6dm9pZCAwfSxCPUQuX2ludGVybmFscz17aXNBcnJheTpmLGlzU2VsZWN0b3I6TSxsYXp5VHdlZW5zOkYsYmxvYkRpZjpMfSxqPUQuX3BsdWdpbnM9e30sWT1CLnR3ZWVuTG9va3VwPXt9LFU9MCxxPUIucmVzZXJ2ZWRQcm9wcz17ZWFzZToxLGRlbGF5OjEsb3ZlcndyaXRlOjEsb25Db21wbGV0ZToxLG9uQ29tcGxldGVQYXJhbXM6MSxvbkNvbXBsZXRlU2NvcGU6MSx1c2VGcmFtZXM6MSxydW5CYWNrd2FyZHM6MSxzdGFydEF0OjEsb25VcGRhdGU6MSxvblVwZGF0ZVBhcmFtczoxLG9uVXBkYXRlU2NvcGU6MSxvblN0YXJ0OjEsb25TdGFydFBhcmFtczoxLG9uU3RhcnRTY29wZToxLG9uUmV2ZXJzZUNvbXBsZXRlOjEsb25SZXZlcnNlQ29tcGxldGVQYXJhbXM6MSxvblJldmVyc2VDb21wbGV0ZVNjb3BlOjEsb25SZXBlYXQ6MSxvblJlcGVhdFBhcmFtczoxLG9uUmVwZWF0U2NvcGU6MSxlYXNlUGFyYW1zOjEseW95bzoxLGltbWVkaWF0ZVJlbmRlcjoxLHJlcGVhdDoxLHJlcGVhdERlbGF5OjEsZGF0YToxLHBhdXNlZDoxLHJldmVyc2VkOjEsYXV0b0NTUzoxLGxhenk6MSxvbk92ZXJ3cml0ZToxLGNhbGxiYWNrU2NvcGU6MSxzdHJpbmdGaWx0ZXI6MX0sVj17bm9uZTowLGFsbDoxLGF1dG86Mixjb25jdXJyZW50OjMsYWxsT25TdGFydDo0LHByZWV4aXN0aW5nOjUsXCJ0cnVlXCI6MSxcImZhbHNlXCI6MH0sRz1PLl9yb290RnJhbWVzVGltZWxpbmU9bmV3IEMsVz1PLl9yb290VGltZWxpbmU9bmV3IEMsWj0zMCxRPUIubGF6eVJlbmRlcj1mdW5jdGlvbigpe3ZhciB0LGU9Ri5sZW5ndGg7Zm9yKEk9e307LS1lPi0xOyl0PUZbZV0sdCYmdC5fbGF6eSE9PSExJiYodC5yZW5kZXIodC5fbGF6eVswXSx0Ll9sYXp5WzFdLCEwKSx0Ll9sYXp5PSExKTtGLmxlbmd0aD0wfTtXLl9zdGFydFRpbWU9YS50aW1lLEcuX3N0YXJ0VGltZT1hLmZyYW1lLFcuX2FjdGl2ZT1HLl9hY3RpdmU9ITAsc2V0VGltZW91dChRLDEpLE8uX3VwZGF0ZVJvb3Q9RC5yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgdCxlLGk7aWYoRi5sZW5ndGgmJlEoKSxXLnJlbmRlcigoYS50aW1lLVcuX3N0YXJ0VGltZSkqVy5fdGltZVNjYWxlLCExLCExKSxHLnJlbmRlcigoYS5mcmFtZS1HLl9zdGFydFRpbWUpKkcuX3RpbWVTY2FsZSwhMSwhMSksRi5sZW5ndGgmJlEoKSxhLmZyYW1lPj1aKXtaPWEuZnJhbWUrKHBhcnNlSW50KEQuYXV0b1NsZWVwLDEwKXx8MTIwKTtcbmZvcihpIGluIFkpe2ZvcihlPVlbaV0udHdlZW5zLHQ9ZS5sZW5ndGg7LS10Pi0xOyllW3RdLl9nYyYmZS5zcGxpY2UodCwxKTswPT09ZS5sZW5ndGgmJmRlbGV0ZSBZW2ldfWlmKGk9Vy5fZmlyc3QsKCFpfHxpLl9wYXVzZWQpJiZELmF1dG9TbGVlcCYmIUcuX2ZpcnN0JiYxPT09YS5fbGlzdGVuZXJzLnRpY2subGVuZ3RoKXtmb3IoO2kmJmkuX3BhdXNlZDspaT1pLl9uZXh0O2l8fGEuc2xlZXAoKX19fSxhLmFkZEV2ZW50TGlzdGVuZXIoXCJ0aWNrXCIsTy5fdXBkYXRlUm9vdCk7dmFyICQ9ZnVuY3Rpb24odCxlLGkpe3ZhciBzLHIsbj10Ll9nc1R3ZWVuSUQ7aWYoWVtufHwodC5fZ3NUd2VlbklEPW49XCJ0XCIrVSsrKV18fChZW25dPXt0YXJnZXQ6dCx0d2VlbnM6W119KSxlJiYocz1ZW25dLnR3ZWVucyxzW3I9cy5sZW5ndGhdPWUsaSkpZm9yKDstLXI+LTE7KXNbcl09PT1lJiZzLnNwbGljZShyLDEpO3JldHVybiBZW25dLnR3ZWVuc30sSD1mdW5jdGlvbih0LGUsaSxzKXt2YXIgcixuLGE9dC52YXJzLm9uT3ZlcndyaXRlO3JldHVybiBhJiYocj1hKHQsZSxpLHMpKSxhPUQub25PdmVyd3JpdGUsYSYmKG49YSh0LGUsaSxzKSksciE9PSExJiZuIT09ITF9LEs9ZnVuY3Rpb24odCxlLGkscyxyKXt2YXIgbixhLG8sbDtpZigxPT09c3x8cz49NCl7Zm9yKGw9ci5sZW5ndGgsbj0wO2w+bjtuKyspaWYoKG89cltuXSkhPT1lKW8uX2djfHxvLl9raWxsKG51bGwsdCxlKSYmKGE9ITApO2Vsc2UgaWYoNT09PXMpYnJlYWs7cmV0dXJuIGF9dmFyIGgsdT1lLl9zdGFydFRpbWUrXyxjPVtdLGY9MCxwPTA9PT1lLl9kdXJhdGlvbjtmb3Iobj1yLmxlbmd0aDstLW4+LTE7KShvPXJbbl0pPT09ZXx8by5fZ2N8fG8uX3BhdXNlZHx8KG8uX3RpbWVsaW5lIT09ZS5fdGltZWxpbmU/KGg9aHx8SihlLDAscCksMD09PUoobyxoLHApJiYoY1tmKytdPW8pKTp1Pj1vLl9zdGFydFRpbWUmJm8uX3N0YXJ0VGltZStvLnRvdGFsRHVyYXRpb24oKS9vLl90aW1lU2NhbGU+dSYmKChwfHwhby5faW5pdHRlZCkmJjJlLTEwPj11LW8uX3N0YXJ0VGltZXx8KGNbZisrXT1vKSkpO2ZvcihuPWY7LS1uPi0xOylpZihvPWNbbl0sMj09PXMmJm8uX2tpbGwoaSx0LGUpJiYoYT0hMCksMiE9PXN8fCFvLl9maXJzdFBUJiZvLl9pbml0dGVkKXtpZigyIT09cyYmIUgobyxlKSljb250aW51ZTtvLl9lbmFibGVkKCExLCExKSYmKGE9ITApfXJldHVybiBhfSxKPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIHM9dC5fdGltZWxpbmUscj1zLl90aW1lU2NhbGUsbj10Ll9zdGFydFRpbWU7cy5fdGltZWxpbmU7KXtpZihuKz1zLl9zdGFydFRpbWUscio9cy5fdGltZVNjYWxlLHMuX3BhdXNlZClyZXR1cm4tMTAwO3M9cy5fdGltZWxpbmV9cmV0dXJuIG4vPXIsbj5lP24tZTppJiZuPT09ZXx8IXQuX2luaXR0ZWQmJjIqXz5uLWU/Xzoobis9dC50b3RhbER1cmF0aW9uKCkvdC5fdGltZVNjYWxlL3IpPmUrXz8wOm4tZS1ffTtuLl9pbml0PWZ1bmN0aW9uKCl7dmFyIHQsZSxpLHMscixuPXRoaXMudmFycyxhPXRoaXMuX292ZXJ3cml0dGVuUHJvcHMsbz10aGlzLl9kdXJhdGlvbixsPSEhbi5pbW1lZGlhdGVSZW5kZXIsaD1uLmVhc2U7aWYobi5zdGFydEF0KXt0aGlzLl9zdGFydEF0JiYodGhpcy5fc3RhcnRBdC5yZW5kZXIoLTEsITApLHRoaXMuX3N0YXJ0QXQua2lsbCgpKSxyPXt9O2ZvcihzIGluIG4uc3RhcnRBdClyW3NdPW4uc3RhcnRBdFtzXTtpZihyLm92ZXJ3cml0ZT0hMSxyLmltbWVkaWF0ZVJlbmRlcj0hMCxyLmxhenk9bCYmbi5sYXp5IT09ITEsci5zdGFydEF0PXIuZGVsYXk9bnVsbCx0aGlzLl9zdGFydEF0PUQudG8odGhpcy50YXJnZXQsMCxyKSxsKWlmKHRoaXMuX3RpbWU+MCl0aGlzLl9zdGFydEF0PW51bGw7ZWxzZSBpZigwIT09bylyZXR1cm59ZWxzZSBpZihuLnJ1bkJhY2t3YXJkcyYmMCE9PW8paWYodGhpcy5fc3RhcnRBdCl0aGlzLl9zdGFydEF0LnJlbmRlcigtMSwhMCksdGhpcy5fc3RhcnRBdC5raWxsKCksdGhpcy5fc3RhcnRBdD1udWxsO2Vsc2V7MCE9PXRoaXMuX3RpbWUmJihsPSExKSxpPXt9O2ZvcihzIGluIG4pcVtzXSYmXCJhdXRvQ1NTXCIhPT1zfHwoaVtzXT1uW3NdKTtpZihpLm92ZXJ3cml0ZT0wLGkuZGF0YT1cImlzRnJvbVN0YXJ0XCIsaS5sYXp5PWwmJm4ubGF6eSE9PSExLGkuaW1tZWRpYXRlUmVuZGVyPWwsdGhpcy5fc3RhcnRBdD1ELnRvKHRoaXMudGFyZ2V0LDAsaSksbCl7aWYoMD09PXRoaXMuX3RpbWUpcmV0dXJufWVsc2UgdGhpcy5fc3RhcnRBdC5faW5pdCgpLHRoaXMuX3N0YXJ0QXQuX2VuYWJsZWQoITEpLHRoaXMudmFycy5pbW1lZGlhdGVSZW5kZXImJih0aGlzLl9zdGFydEF0PW51bGwpfWlmKHRoaXMuX2Vhc2U9aD1oP2ggaW5zdGFuY2VvZiBUP2g6XCJmdW5jdGlvblwiPT10eXBlb2YgaD9uZXcgVChoLG4uZWFzZVBhcmFtcyk6eFtoXXx8RC5kZWZhdWx0RWFzZTpELmRlZmF1bHRFYXNlLG4uZWFzZVBhcmFtcyBpbnN0YW5jZW9mIEFycmF5JiZoLmNvbmZpZyYmKHRoaXMuX2Vhc2U9aC5jb25maWcuYXBwbHkoaCxuLmVhc2VQYXJhbXMpKSx0aGlzLl9lYXNlVHlwZT10aGlzLl9lYXNlLl90eXBlLHRoaXMuX2Vhc2VQb3dlcj10aGlzLl9lYXNlLl9wb3dlcix0aGlzLl9maXJzdFBUPW51bGwsdGhpcy5fdGFyZ2V0cylmb3IodD10aGlzLl90YXJnZXRzLmxlbmd0aDstLXQ+LTE7KXRoaXMuX2luaXRQcm9wcyh0aGlzLl90YXJnZXRzW3RdLHRoaXMuX3Byb3BMb29rdXBbdF09e30sdGhpcy5fc2libGluZ3NbdF0sYT9hW3RdOm51bGwpJiYoZT0hMCk7ZWxzZSBlPXRoaXMuX2luaXRQcm9wcyh0aGlzLnRhcmdldCx0aGlzLl9wcm9wTG9va3VwLHRoaXMuX3NpYmxpbmdzLGEpO2lmKGUmJkQuX29uUGx1Z2luRXZlbnQoXCJfb25Jbml0QWxsUHJvcHNcIix0aGlzKSxhJiYodGhpcy5fZmlyc3RQVHx8XCJmdW5jdGlvblwiIT10eXBlb2YgdGhpcy50YXJnZXQmJnRoaXMuX2VuYWJsZWQoITEsITEpKSxuLnJ1bkJhY2t3YXJkcylmb3IoaT10aGlzLl9maXJzdFBUO2k7KWkucys9aS5jLGkuYz0taS5jLGk9aS5fbmV4dDt0aGlzLl9vblVwZGF0ZT1uLm9uVXBkYXRlLHRoaXMuX2luaXR0ZWQ9ITB9LG4uX2luaXRQcm9wcz1mdW5jdGlvbihlLGkscyxyKXt2YXIgbixhLG8sbCxoLF87aWYobnVsbD09ZSlyZXR1cm4hMTtJW2UuX2dzVHdlZW5JRF0mJlEoKSx0aGlzLnZhcnMuY3NzfHxlLnN0eWxlJiZlIT09dCYmZS5ub2RlVHlwZSYmai5jc3MmJnRoaXMudmFycy5hdXRvQ1NTIT09ITEmJnoodGhpcy52YXJzLGUpO2ZvcihuIGluIHRoaXMudmFycylpZihfPXRoaXMudmFyc1tuXSxxW25dKV8mJihfIGluc3RhbmNlb2YgQXJyYXl8fF8ucHVzaCYmZihfKSkmJi0xIT09Xy5qb2luKFwiXCIpLmluZGV4T2YoXCJ7c2VsZn1cIikmJih0aGlzLnZhcnNbbl09Xz10aGlzLl9zd2FwU2VsZkluUGFyYW1zKF8sdGhpcykpO2Vsc2UgaWYoaltuXSYmKGw9bmV3IGpbbl0pLl9vbkluaXRUd2VlbihlLHRoaXMudmFyc1tuXSx0aGlzKSl7Zm9yKHRoaXMuX2ZpcnN0UFQ9aD17X25leHQ6dGhpcy5fZmlyc3RQVCx0OmwscDpcInNldFJhdGlvXCIsczowLGM6MSxmOjEsbjpuLHBnOjEscHI6bC5fcHJpb3JpdHl9LGE9bC5fb3ZlcndyaXRlUHJvcHMubGVuZ3RoOy0tYT4tMTspaVtsLl9vdmVyd3JpdGVQcm9wc1thXV09dGhpcy5fZmlyc3RQVDsobC5fcHJpb3JpdHl8fGwuX29uSW5pdEFsbFByb3BzKSYmKG89ITApLChsLl9vbkRpc2FibGV8fGwuX29uRW5hYmxlKSYmKHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQ9ITApLGguX25leHQmJihoLl9uZXh0Ll9wcmV2PWgpfWVsc2UgaVtuXT1YLmNhbGwodGhpcyxlLG4sXCJnZXRcIixfLG4sMCxudWxsLHRoaXMudmFycy5zdHJpbmdGaWx0ZXIpO3JldHVybiByJiZ0aGlzLl9raWxsKHIsZSk/dGhpcy5faW5pdFByb3BzKGUsaSxzLHIpOnRoaXMuX292ZXJ3cml0ZT4xJiZ0aGlzLl9maXJzdFBUJiZzLmxlbmd0aD4xJiZLKGUsdGhpcyxpLHRoaXMuX292ZXJ3cml0ZSxzKT8odGhpcy5fa2lsbChpLGUpLHRoaXMuX2luaXRQcm9wcyhlLGkscyxyKSk6KHRoaXMuX2ZpcnN0UFQmJih0aGlzLnZhcnMubGF6eSE9PSExJiZ0aGlzLl9kdXJhdGlvbnx8dGhpcy52YXJzLmxhenkmJiF0aGlzLl9kdXJhdGlvbikmJihJW2UuX2dzVHdlZW5JRF09ITApLG8pfSxuLnJlbmRlcj1mdW5jdGlvbih0LGUsaSl7dmFyIHMscixuLGEsbz10aGlzLl90aW1lLGw9dGhpcy5fZHVyYXRpb24saD10aGlzLl9yYXdQcmV2VGltZTtpZih0Pj1sKXRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPWwsdGhpcy5yYXRpbz10aGlzLl9lYXNlLl9jYWxjRW5kP3RoaXMuX2Vhc2UuZ2V0UmF0aW8oMSk6MSx0aGlzLl9yZXZlcnNlZHx8KHM9ITAscj1cIm9uQ29tcGxldGVcIixpPWl8fHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiksMD09PWwmJih0aGlzLl9pbml0dGVkfHwhdGhpcy52YXJzLmxhenl8fGkpJiYodGhpcy5fc3RhcnRUaW1lPT09dGhpcy5fdGltZWxpbmUuX2R1cmF0aW9uJiYodD0wKSwoMD09PXR8fDA+aHx8aD09PV8mJlwiaXNQYXVzZVwiIT09dGhpcy5kYXRhKSYmaCE9PXQmJihpPSEwLGg+XyYmKHI9XCJvblJldmVyc2VDb21wbGV0ZVwiKSksdGhpcy5fcmF3UHJldlRpbWU9YT0hZXx8dHx8aD09PXQ/dDpfKTtlbHNlIGlmKDFlLTc+dCl0aGlzLl90b3RhbFRpbWU9dGhpcy5fdGltZT0wLHRoaXMucmF0aW89dGhpcy5fZWFzZS5fY2FsY0VuZD90aGlzLl9lYXNlLmdldFJhdGlvKDApOjAsKDAhPT1vfHwwPT09bCYmaD4wKSYmKHI9XCJvblJldmVyc2VDb21wbGV0ZVwiLHM9dGhpcy5fcmV2ZXJzZWQpLDA+dCYmKHRoaXMuX2FjdGl2ZT0hMSwwPT09bCYmKHRoaXMuX2luaXR0ZWR8fCF0aGlzLnZhcnMubGF6eXx8aSkmJihoPj0wJiYoaCE9PV98fFwiaXNQYXVzZVwiIT09dGhpcy5kYXRhKSYmKGk9ITApLHRoaXMuX3Jhd1ByZXZUaW1lPWE9IWV8fHR8fGg9PT10P3Q6XykpLHRoaXMuX2luaXR0ZWR8fChpPSEwKTtlbHNlIGlmKHRoaXMuX3RvdGFsVGltZT10aGlzLl90aW1lPXQsdGhpcy5fZWFzZVR5cGUpe3ZhciB1PXQvbCxjPXRoaXMuX2Vhc2VUeXBlLGY9dGhpcy5fZWFzZVBvd2VyOygxPT09Y3x8Mz09PWMmJnU+PS41KSYmKHU9MS11KSwzPT09YyYmKHUqPTIpLDE9PT1mP3UqPXU6Mj09PWY/dSo9dSp1OjM9PT1mP3UqPXUqdSp1OjQ9PT1mJiYodSo9dSp1KnUqdSksdGhpcy5yYXRpbz0xPT09Yz8xLXU6Mj09PWM/dTouNT50L2w/dS8yOjEtdS8yfWVsc2UgdGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKHQvbCk7aWYodGhpcy5fdGltZSE9PW98fGkpe2lmKCF0aGlzLl9pbml0dGVkKXtpZih0aGlzLl9pbml0KCksIXRoaXMuX2luaXR0ZWR8fHRoaXMuX2djKXJldHVybjtpZighaSYmdGhpcy5fZmlyc3RQVCYmKHRoaXMudmFycy5sYXp5IT09ITEmJnRoaXMuX2R1cmF0aW9ufHx0aGlzLnZhcnMubGF6eSYmIXRoaXMuX2R1cmF0aW9uKSlyZXR1cm4gdGhpcy5fdGltZT10aGlzLl90b3RhbFRpbWU9byx0aGlzLl9yYXdQcmV2VGltZT1oLEYucHVzaCh0aGlzKSx0aGlzLl9sYXp5PVt0LGVdLHZvaWQgMDt0aGlzLl90aW1lJiYhcz90aGlzLnJhdGlvPXRoaXMuX2Vhc2UuZ2V0UmF0aW8odGhpcy5fdGltZS9sKTpzJiZ0aGlzLl9lYXNlLl9jYWxjRW5kJiYodGhpcy5yYXRpbz10aGlzLl9lYXNlLmdldFJhdGlvKDA9PT10aGlzLl90aW1lPzA6MSkpfWZvcih0aGlzLl9sYXp5IT09ITEmJih0aGlzLl9sYXp5PSExKSx0aGlzLl9hY3RpdmV8fCF0aGlzLl9wYXVzZWQmJnRoaXMuX3RpbWUhPT1vJiZ0Pj0wJiYodGhpcy5fYWN0aXZlPSEwKSwwPT09byYmKHRoaXMuX3N0YXJ0QXQmJih0Pj0wP3RoaXMuX3N0YXJ0QXQucmVuZGVyKHQsZSxpKTpyfHwocj1cIl9kdW1teUdTXCIpKSx0aGlzLnZhcnMub25TdGFydCYmKDAhPT10aGlzLl90aW1lfHwwPT09bCkmJihlfHx0aGlzLl9jYWxsYmFjayhcIm9uU3RhcnRcIikpKSxuPXRoaXMuX2ZpcnN0UFQ7bjspbi5mP24udFtuLnBdKG4uYyp0aGlzLnJhdGlvK24ucyk6bi50W24ucF09bi5jKnRoaXMucmF0aW8rbi5zLG49bi5fbmV4dDt0aGlzLl9vblVwZGF0ZSYmKDA+dCYmdGhpcy5fc3RhcnRBdCYmdCE9PS0xZS00JiZ0aGlzLl9zdGFydEF0LnJlbmRlcih0LGUsaSksZXx8KHRoaXMuX3RpbWUhPT1vfHxzKSYmdGhpcy5fY2FsbGJhY2soXCJvblVwZGF0ZVwiKSksciYmKCF0aGlzLl9nY3x8aSkmJigwPnQmJnRoaXMuX3N0YXJ0QXQmJiF0aGlzLl9vblVwZGF0ZSYmdCE9PS0xZS00JiZ0aGlzLl9zdGFydEF0LnJlbmRlcih0LGUsaSkscyYmKHRoaXMuX3RpbWVsaW5lLmF1dG9SZW1vdmVDaGlsZHJlbiYmdGhpcy5fZW5hYmxlZCghMSwhMSksdGhpcy5fYWN0aXZlPSExKSwhZSYmdGhpcy52YXJzW3JdJiZ0aGlzLl9jYWxsYmFjayhyKSwwPT09bCYmdGhpcy5fcmF3UHJldlRpbWU9PT1fJiZhIT09XyYmKHRoaXMuX3Jhd1ByZXZUaW1lPTApKX19LG4uX2tpbGw9ZnVuY3Rpb24odCxlLGkpe2lmKFwiYWxsXCI9PT10JiYodD1udWxsKSxudWxsPT10JiYobnVsbD09ZXx8ZT09PXRoaXMudGFyZ2V0KSlyZXR1cm4gdGhpcy5fbGF6eT0hMSx0aGlzLl9lbmFibGVkKCExLCExKTtlPVwic3RyaW5nXCIhPXR5cGVvZiBlP2V8fHRoaXMuX3RhcmdldHN8fHRoaXMudGFyZ2V0OkQuc2VsZWN0b3IoZSl8fGU7dmFyIHMscixuLGEsbyxsLGgsXyx1LGM9aSYmdGhpcy5fdGltZSYmaS5fc3RhcnRUaW1lPT09dGhpcy5fc3RhcnRUaW1lJiZ0aGlzLl90aW1lbGluZT09PWkuX3RpbWVsaW5lO2lmKChmKGUpfHxNKGUpKSYmXCJudW1iZXJcIiE9dHlwZW9mIGVbMF0pZm9yKHM9ZS5sZW5ndGg7LS1zPi0xOyl0aGlzLl9raWxsKHQsZVtzXSxpKSYmKGw9ITApO2Vsc2V7aWYodGhpcy5fdGFyZ2V0cyl7Zm9yKHM9dGhpcy5fdGFyZ2V0cy5sZW5ndGg7LS1zPi0xOylpZihlPT09dGhpcy5fdGFyZ2V0c1tzXSl7bz10aGlzLl9wcm9wTG9va3VwW3NdfHx7fSx0aGlzLl9vdmVyd3JpdHRlblByb3BzPXRoaXMuX292ZXJ3cml0dGVuUHJvcHN8fFtdLHI9dGhpcy5fb3ZlcndyaXR0ZW5Qcm9wc1tzXT10P3RoaXMuX292ZXJ3cml0dGVuUHJvcHNbc118fHt9OlwiYWxsXCI7YnJlYWt9fWVsc2V7aWYoZSE9PXRoaXMudGFyZ2V0KXJldHVybiExO289dGhpcy5fcHJvcExvb2t1cCxyPXRoaXMuX292ZXJ3cml0dGVuUHJvcHM9dD90aGlzLl9vdmVyd3JpdHRlblByb3BzfHx7fTpcImFsbFwifWlmKG8pe2lmKGg9dHx8byxfPXQhPT1yJiZcImFsbFwiIT09ciYmdCE9PW8mJihcIm9iamVjdFwiIT10eXBlb2YgdHx8IXQuX3RlbXBLaWxsKSxpJiYoRC5vbk92ZXJ3cml0ZXx8dGhpcy52YXJzLm9uT3ZlcndyaXRlKSl7Zm9yKG4gaW4gaClvW25dJiYodXx8KHU9W10pLHUucHVzaChuKSk7aWYoKHV8fCF0KSYmIUgodGhpcyxpLGUsdSkpcmV0dXJuITF9Zm9yKG4gaW4gaCkoYT1vW25dKSYmKGMmJihhLmY/YS50W2EucF0oYS5zKTphLnRbYS5wXT1hLnMsbD0hMCksYS5wZyYmYS50Ll9raWxsKGgpJiYobD0hMCksYS5wZyYmMCE9PWEudC5fb3ZlcndyaXRlUHJvcHMubGVuZ3RofHwoYS5fcHJldj9hLl9wcmV2Ll9uZXh0PWEuX25leHQ6YT09PXRoaXMuX2ZpcnN0UFQmJih0aGlzLl9maXJzdFBUPWEuX25leHQpLGEuX25leHQmJihhLl9uZXh0Ll9wcmV2PWEuX3ByZXYpLGEuX25leHQ9YS5fcHJldj1udWxsKSxkZWxldGUgb1tuXSksXyYmKHJbbl09MSk7IXRoaXMuX2ZpcnN0UFQmJnRoaXMuX2luaXR0ZWQmJnRoaXMuX2VuYWJsZWQoITEsITEpfX1yZXR1cm4gbH0sbi5pbnZhbGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQmJkQuX29uUGx1Z2luRXZlbnQoXCJfb25EaXNhYmxlXCIsdGhpcyksdGhpcy5fZmlyc3RQVD10aGlzLl9vdmVyd3JpdHRlblByb3BzPXRoaXMuX3N0YXJ0QXQ9dGhpcy5fb25VcGRhdGU9bnVsbCx0aGlzLl9ub3RpZnlQbHVnaW5zT2ZFbmFibGVkPXRoaXMuX2FjdGl2ZT10aGlzLl9sYXp5PSExLHRoaXMuX3Byb3BMb29rdXA9dGhpcy5fdGFyZ2V0cz97fTpbXSxPLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyksdGhpcy52YXJzLmltbWVkaWF0ZVJlbmRlciYmKHRoaXMuX3RpbWU9LV8sdGhpcy5yZW5kZXIoLXRoaXMuX2RlbGF5KSksdGhpc30sbi5fZW5hYmxlZD1mdW5jdGlvbih0LGUpe2lmKG98fGEud2FrZSgpLHQmJnRoaXMuX2djKXt2YXIgaSxzPXRoaXMuX3RhcmdldHM7aWYocylmb3IoaT1zLmxlbmd0aDstLWk+LTE7KXRoaXMuX3NpYmxpbmdzW2ldPSQoc1tpXSx0aGlzLCEwKTtlbHNlIHRoaXMuX3NpYmxpbmdzPSQodGhpcy50YXJnZXQsdGhpcywhMCl9cmV0dXJuIE8ucHJvdG90eXBlLl9lbmFibGVkLmNhbGwodGhpcyx0LGUpLHRoaXMuX25vdGlmeVBsdWdpbnNPZkVuYWJsZWQmJnRoaXMuX2ZpcnN0UFQ/RC5fb25QbHVnaW5FdmVudCh0P1wiX29uRW5hYmxlXCI6XCJfb25EaXNhYmxlXCIsdGhpcyk6ITF9LEQudG89ZnVuY3Rpb24odCxlLGkpe3JldHVybiBuZXcgRCh0LGUsaSl9LEQuZnJvbT1mdW5jdGlvbih0LGUsaSl7cmV0dXJuIGkucnVuQmFja3dhcmRzPSEwLGkuaW1tZWRpYXRlUmVuZGVyPTAhPWkuaW1tZWRpYXRlUmVuZGVyLG5ldyBEKHQsZSxpKX0sRC5mcm9tVG89ZnVuY3Rpb24odCxlLGkscyl7cmV0dXJuIHMuc3RhcnRBdD1pLHMuaW1tZWRpYXRlUmVuZGVyPTAhPXMuaW1tZWRpYXRlUmVuZGVyJiYwIT1pLmltbWVkaWF0ZVJlbmRlcixuZXcgRCh0LGUscyl9LEQuZGVsYXllZENhbGw9ZnVuY3Rpb24odCxlLGkscyxyKXtyZXR1cm4gbmV3IEQoZSwwLHtkZWxheTp0LG9uQ29tcGxldGU6ZSxvbkNvbXBsZXRlUGFyYW1zOmksY2FsbGJhY2tTY29wZTpzLG9uUmV2ZXJzZUNvbXBsZXRlOmUsb25SZXZlcnNlQ29tcGxldGVQYXJhbXM6aSxpbW1lZGlhdGVSZW5kZXI6ITEsbGF6eTohMSx1c2VGcmFtZXM6cixvdmVyd3JpdGU6MH0pfSxELnNldD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgRCh0LDAsZSl9LEQuZ2V0VHdlZW5zT2Y9ZnVuY3Rpb24odCxlKXtpZihudWxsPT10KXJldHVybltdO3Q9XCJzdHJpbmdcIiE9dHlwZW9mIHQ/dDpELnNlbGVjdG9yKHQpfHx0O3ZhciBpLHMscixuO2lmKChmKHQpfHxNKHQpKSYmXCJudW1iZXJcIiE9dHlwZW9mIHRbMF0pe2ZvcihpPXQubGVuZ3RoLHM9W107LS1pPi0xOylzPXMuY29uY2F0KEQuZ2V0VHdlZW5zT2YodFtpXSxlKSk7Zm9yKGk9cy5sZW5ndGg7LS1pPi0xOylmb3Iobj1zW2ldLHI9aTstLXI+LTE7KW49PT1zW3JdJiZzLnNwbGljZShpLDEpfWVsc2UgZm9yKHM9JCh0KS5jb25jYXQoKSxpPXMubGVuZ3RoOy0taT4tMTspKHNbaV0uX2djfHxlJiYhc1tpXS5pc0FjdGl2ZSgpKSYmcy5zcGxpY2UoaSwxKTtyZXR1cm4gc30sRC5raWxsVHdlZW5zT2Y9RC5raWxsRGVsYXllZENhbGxzVG89ZnVuY3Rpb24odCxlLGkpe1wib2JqZWN0XCI9PXR5cGVvZiBlJiYoaT1lLGU9ITEpO2Zvcih2YXIgcz1ELmdldFR3ZWVuc09mKHQsZSkscj1zLmxlbmd0aDstLXI+LTE7KXNbcl0uX2tpbGwoaSx0KX07dmFyIHRlPWcoXCJwbHVnaW5zLlR3ZWVuUGx1Z2luXCIsZnVuY3Rpb24odCxlKXt0aGlzLl9vdmVyd3JpdGVQcm9wcz0odHx8XCJcIikuc3BsaXQoXCIsXCIpLHRoaXMuX3Byb3BOYW1lPXRoaXMuX292ZXJ3cml0ZVByb3BzWzBdLHRoaXMuX3ByaW9yaXR5PWV8fDAsdGhpcy5fc3VwZXI9dGUucHJvdG90eXBlfSwhMCk7aWYobj10ZS5wcm90b3R5cGUsdGUudmVyc2lvbj1cIjEuMTguMFwiLHRlLkFQST0yLG4uX2ZpcnN0UFQ9bnVsbCxuLl9hZGRUd2Vlbj1YLG4uc2V0UmF0aW89TixuLl9raWxsPWZ1bmN0aW9uKHQpe3ZhciBlLGk9dGhpcy5fb3ZlcndyaXRlUHJvcHMscz10aGlzLl9maXJzdFBUO2lmKG51bGwhPXRbdGhpcy5fcHJvcE5hbWVdKXRoaXMuX292ZXJ3cml0ZVByb3BzPVtdO2Vsc2UgZm9yKGU9aS5sZW5ndGg7LS1lPi0xOyludWxsIT10W2lbZV1dJiZpLnNwbGljZShlLDEpO2Zvcig7czspbnVsbCE9dFtzLm5dJiYocy5fbmV4dCYmKHMuX25leHQuX3ByZXY9cy5fcHJldikscy5fcHJldj8ocy5fcHJldi5fbmV4dD1zLl9uZXh0LHMuX3ByZXY9bnVsbCk6dGhpcy5fZmlyc3RQVD09PXMmJih0aGlzLl9maXJzdFBUPXMuX25leHQpKSxzPXMuX25leHQ7cmV0dXJuITF9LG4uX3JvdW5kUHJvcHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGk9dGhpcy5fZmlyc3RQVDtpOykodFt0aGlzLl9wcm9wTmFtZV18fG51bGwhPWkubiYmdFtpLm4uc3BsaXQodGhpcy5fcHJvcE5hbWUrXCJfXCIpLmpvaW4oXCJcIildKSYmKGkucj1lKSxpPWkuX25leHR9LEQuX29uUGx1Z2luRXZlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgaSxzLHIsbixhLG89ZS5fZmlyc3RQVDtpZihcIl9vbkluaXRBbGxQcm9wc1wiPT09dCl7Zm9yKDtvOyl7Zm9yKGE9by5fbmV4dCxzPXI7cyYmcy5wcj5vLnByOylzPXMuX25leHQ7KG8uX3ByZXY9cz9zLl9wcmV2Om4pP28uX3ByZXYuX25leHQ9bzpyPW8sKG8uX25leHQ9cyk/cy5fcHJldj1vOm49byxvPWF9bz1lLl9maXJzdFBUPXJ9Zm9yKDtvOylvLnBnJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvLnRbdF0mJm8udFt0XSgpJiYoaT0hMCksbz1vLl9uZXh0O3JldHVybiBpfSx0ZS5hY3RpdmF0ZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC5sZW5ndGg7LS1lPi0xOyl0W2VdLkFQST09PXRlLkFQSSYmKGpbKG5ldyB0W2VdKS5fcHJvcE5hbWVdPXRbZV0pO3JldHVybiEwfSxkLnBsdWdpbj1mdW5jdGlvbih0KXtpZighKHQmJnQucHJvcE5hbWUmJnQuaW5pdCYmdC5BUEkpKXRocm93XCJpbGxlZ2FsIHBsdWdpbiBkZWZpbml0aW9uLlwiO3ZhciBlLGk9dC5wcm9wTmFtZSxzPXQucHJpb3JpdHl8fDAscj10Lm92ZXJ3cml0ZVByb3BzLG49e2luaXQ6XCJfb25Jbml0VHdlZW5cIixzZXQ6XCJzZXRSYXRpb1wiLGtpbGw6XCJfa2lsbFwiLHJvdW5kOlwiX3JvdW5kUHJvcHNcIixpbml0QWxsOlwiX29uSW5pdEFsbFByb3BzXCJ9LGE9ZyhcInBsdWdpbnMuXCIraS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStpLnN1YnN0cigxKStcIlBsdWdpblwiLGZ1bmN0aW9uKCl7dGUuY2FsbCh0aGlzLGkscyksdGhpcy5fb3ZlcndyaXRlUHJvcHM9cnx8W119LHQuZ2xvYmFsPT09ITApLG89YS5wcm90b3R5cGU9bmV3IHRlKGkpO28uY29uc3RydWN0b3I9YSxhLkFQST10LkFQSTtmb3IoZSBpbiBuKVwiZnVuY3Rpb25cIj09dHlwZW9mIHRbZV0mJihvW25bZV1dPXRbZV0pO3JldHVybiBhLnZlcnNpb249dC52ZXJzaW9uLHRlLmFjdGl2YXRlKFthXSksYX0scz10Ll9nc1F1ZXVlKXtmb3Iocj0wO3MubGVuZ3RoPnI7cisrKXNbcl0oKTtmb3IobiBpbiBwKXBbbl0uZnVuY3x8dC5jb25zb2xlLmxvZyhcIkdTQVAgZW5jb3VudGVyZWQgbWlzc2luZyBkZXBlbmRlbmN5OiBjb20uZ3JlZW5zb2NrLlwiK24pfW89ITF9fShcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpc3x8d2luZG93LFwiVHdlZW5NYXhcIik7Il0sImZpbGUiOiJUd2Vlbk1heC5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/*!
 * VERSION: 0.3.1
 * DATE: 2015-10-21
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * MorphSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var a=Math.PI/180,b=180/Math.PI,c=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,d=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,e=/[achlmqstvz]/gi,f=_gsScope.TweenLite,g=function(a){window.console&&console.log(a)},h=function(b,c){var d,e,f,g,h,i,j=Math.ceil(Math.abs(c)/90),k=0,l=[];for(b*=a,c*=a,d=c/j,e=4/3*Math.sin(d/2)/(1+Math.cos(d/2)),i=0;j>i;i++)f=b+i*d,g=Math.cos(f),h=Math.sin(f),l[k++]=g-e*h,l[k++]=h+e*g,f+=d,g=Math.cos(f),h=Math.sin(f),l[k++]=g+e*h,l[k++]=h-e*g,l[k++]=g,l[k++]=h;return l},i=function(c,d,e,f,g,i,j,k,l){if(c!==k||d!==l){e=Math.abs(e),f=Math.abs(f);var m=g%360*a,n=Math.cos(m),o=Math.sin(m),p=(c-k)/2,q=(d-l)/2,r=n*p+o*q,s=-o*p+n*q,t=e*e,u=f*f,v=r*r,w=s*s,x=v/t+w/u;x>1&&(e=Math.sqrt(x)*e,f=Math.sqrt(x)*f,t=e*e,u=f*f);var y=i===j?-1:1,z=(t*u-t*w-u*v)/(t*w+u*v);0>z&&(z=0);var A=y*Math.sqrt(z),B=A*(e*s/f),C=A*-(f*r/e),D=(c+k)/2,E=(d+l)/2,F=D+(n*B-o*C),G=E+(o*B+n*C),H=(r-B)/e,I=(s-C)/f,J=(-r-B)/e,K=(-s-C)/f,L=Math.sqrt(H*H+I*I),M=H;y=0>I?-1:1;var N=y*Math.acos(M/L)*b;L=Math.sqrt((H*H+I*I)*(J*J+K*K)),M=H*J+I*K,y=0>H*K-I*J?-1:1;var O=y*Math.acos(M/L)*b;!j&&O>0?O-=360:j&&0>O&&(O+=360),O%=360,N%=360;var P,Q,R,S=h(N,O),T=n*e,U=o*e,V=o*-f,W=n*f,X=S.length-2;for(P=0;X>P;P+=2)Q=S[P],R=S[P+1],S[P]=Q*T+R*V+F,S[P+1]=Q*U+R*W+G;return S[S.length-2]=k,S[S.length-1]=l,S}},j=function(a){var b,d,e,f,h,j,k,l,m,n,o,p,q,r=(a+"").match(c)||[],s=[],t=0,u=0,v=r.length,w=2,x=0;if(!a||!isNaN(r[0])||isNaN(r[1]))return g("ERROR: malformed path data: "+a),s;for(b=0;v>b;b++)if(q=h,isNaN(r[b])?(h=r[b].toUpperCase(),j=h!==r[b]):b--,e=+r[b+1],f=+r[b+2],j&&(e+=t,f+=u),0===b&&(l=e,m=f),"M"===h)t=l=e,u=m=f,k=[e,f],x+=w,w=2,s.push(k),b+=2;else if("C"===h)k||(k=[0,0]),k[w++]=e,k[w++]=f,j||(t=u=0),k[w++]=t+1*r[b+3],k[w++]=u+1*r[b+4],k[w++]=t+=1*r[b+5],k[w++]=u+=1*r[b+6],b+=6;else if("S"===h)"C"===q||"S"===q?(n=t-k[w-4],o=u-k[w-3],k[w++]=t+n,k[w++]=u+o):(k[w++]=t,k[w++]=u),k[w++]=e,k[w++]=f,j||(t=u=0),k[w++]=t+=1*r[b+3],k[w++]=u+=1*r[b+4],b+=4;else if("Q"===h)n=e-t,o=f-u,k[w++]=t+2*n/3,k[w++]=u+2*o/3,j||(t=u=0),t+=1*r[b+3],u+=1*r[b+4],n=e-t,o=f-u,k[w++]=t+2*n/3,k[w++]=u+2*o/3,k[w++]=t,k[w++]=u,b+=4;else if("T"===h)n=t-k[w-4],o=u-k[w-3],k[w++]=t+n,k[w++]=u+o,n=t+1.5*n-e,o=u+1.5*o-f,k[w++]=e+2*n/3,k[w++]=f+2*o/3,k[w++]=t=e,k[w++]=u=f,b+=2;else if("H"===h)f=u,k[w++]=t+(e-t)/3,k[w++]=u+(f-u)/3,k[w++]=t+2*(e-t)/3,k[w++]=u+2*(f-u)/3,k[w++]=t=e,k[w++]=f,b+=1;else if("V"===h)f=e,e=t,j&&(f+=u-t),k[w++]=e,k[w++]=u+(f-u)/3,k[w++]=e,k[w++]=u+2*(f-u)/3,k[w++]=e,k[w++]=u=f,b+=1;else if("L"===h||"Z"===h)"Z"===h&&(e=l,f=m,k.closed=!0),("L"===h||Math.abs(t-e)>1||Math.abs(u-f)>1)&&(k[w++]=t+(e-t)/3,k[w++]=u+(f-u)/3,k[w++]=t+2*(e-t)/3,k[w++]=u+2*(f-u)/3,k[w++]=e,k[w++]=f,b+=2),t=e,u=f;else if("A"===h){for(p=i(t,u,1*r[b+1],1*r[b+2],1*r[b+3],1*r[b+4],1*r[b+5],(j?t:0)+1*r[b+6],(j?u:0)+1*r[b+7]),d=0;d<p.length;d++)k[w++]=p[d];t=k[w-2],u=k[w-1],b+=7}else g("Error: malformed path data: "+a);return s.totalPoints=x+w,s},k=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q=0,r=.999999,s=a.length,t=b/((s-2)/6);for(o=2;s>o;o+=6)for(q+=t;q>r;)c=a[o-2],d=a[o-1],e=a[o],f=a[o+1],g=a[o+2],h=a[o+3],i=a[o+4],j=a[o+5],p=1/(Math.floor(q)+1),k=c+(e-c)*p,m=e+(g-e)*p,k+=(m-k)*p,m+=(g+(i-g)*p-m)*p,l=d+(f-d)*p,n=f+(h-f)*p,l+=(n-l)*p,n+=(h+(j-h)*p-n)*p,a.splice(o,4,c+(e-c)*p,d+(f-d)*p,k,l,k+(m-k)*p,l+(n-l)*p,m,n,g+(i-g)*p,h+(j-h)*p),o+=6,s+=6,q--;return a},l=function(a){var b,c,d,e,f="",g=a.length,h=100;for(c=0;g>c;c++){for(e=a[c],f+="M"+e[0]+","+e[1]+" C",b=e.length,d=2;b>d;d++)f+=(e[d++]*h|0)/h+","+(e[d++]*h|0)/h+" "+(e[d++]*h|0)/h+","+(e[d++]*h|0)/h+" "+(e[d++]*h|0)/h+","+(e[d]*h|0)/h+" ";e.closed&&(f+="z")}return f},m=function(a){for(var b=[],c=a.length-1,d=0;--c>-1;)b[d++]=a[c],b[d++]=a[c+1],c--;for(c=0;d>c;c++)a[c]=b[c];a.reversed=a.reversed?!1:!0},n=function(a){var b,c=a.length,d=0,e=0;for(b=0;c>b;b++)d+=a[b++],e+=a[b];return[d/(c/2),e/(c/2)]},o=function(a){var b,c,d,e=a.length,f=a[0],g=f,h=a[1],i=h;for(d=6;e>d;d+=6)b=a[d],c=a[d+1],b>f?f=b:g>b&&(g=b),c>h?h=c:i>c&&(i=c);return a.centerX=(f+g)/2,a.centerY=(h-i)/2,a.size=(f-g)*(h-i)},p=function(a,b){return b.length-a.length},q=function(a,b){var c=a.size||o(a),d=b.size||o(b);return Math.abs(d-c)<(c+d)/20?b.centerX-a.centerX||b.centerY-a.centerY:d-c},r=function(a,b){var c,d,e=a.slice(0),f=a.length,g=f-2;for(b=0|b,c=0;f>c;c++)d=(c+b)%g,a[c++]=e[d],a[c]=e[d+1]},s=function(a,b,c,d,e){var f,g,h,i,j=a.length,k=0,l=j-2;for(c*=6,g=0;j>g;g+=6)f=(g+c)%l,i=a[f]-(b[g]-d),h=a[f+1]-(b[g+1]-e),k+=Math.sqrt(h*h+i*i);return k},t=function(a,b,c){var d,e,f,g=a.length,h=n(a),i=n(b),j=i[0]-h[0],k=i[1]-h[1],l=s(a,b,0,j,k),o=0;for(f=6;g>f;f+=6)e=s(a,b,f/6,j,k),l>e&&(l=e,o=f);if(c)for(d=a.slice(0),m(d),f=6;g>f;f+=6)e=s(d,b,f/6,j,k),l>e&&(l=e,o=-f);return o/6},u=function(a,b,c){var d,e,f,g,h=a.length,i=99999999999,j=0;for(g=0;h>g;g+=6)d=a[g]-b,e=a[g+1]-c,f=Math.sqrt(d*d+e*e),i>f&&(i=f,j=g);return j},v=function(a,b,c){var d,e,f,g,h=b.length,i=0,j=.8*(b[c].size||o(b[c])),k=999999999999,l=a.size||o(a),m=a.centerX,n=a.centerY;for(d=c;h>d&&(l=b[d].size||o(b[d]),!(j>l));d++)e=b[d].centerX-m,f=b[d].centerY-n,g=Math.sqrt(e*e+f*f),k>g&&(i=d,k=g);return g=b[i],b.splice(i,1),g},w=function(a,b,c,d){var e,f,g,h,i,j=b.length-a.length,l=j>0?b:a,n=j>0?a:b,o=0,s="complexity"===d?p:q,w=n.length,x="object"==typeof c&&c.push?c.slice(0):[c],y="reverse"===x[0]||x[0]<0;if(n[0]){if(j){if(0>j&&(j=-j),a.sort(s),b.sort(s),s===q)for(w=0;w<n.length;w++)l.splice(w,0,v(n[w],l,w));for(l[0].length>n[0].length&&k(n[0],(l[0].length-n[0].length)/6|0),w=n.length;j>o;)g=u(n[0],l[w][0],l[w][1]),h=n[0][g],i=n[0][g+1],n[w++]=[h,i,h,i,h,i,h,i],n.totalPoints+=8,o++}for(w=0;w<a.length;w++)e=b[w],f=a[w],j=e.length-f.length,0>j?k(e,-j/6|0):j>0&&k(f,j/6|0),y&&!f.reversed&&m(f),c=x[w]||0===x[w]?x[w]:"auto",c&&(f.closed||Math.abs(f[0]-f[f.length-2])<.5&&Math.abs(f[1]-f[f.length-1])<.5?"auto"===c?(x[w]=c=t(f,e,0===w),0>c&&(y=!0,m(f),c=-c),r(f,6*c)):"reverse"!==c&&(w&&0>c&&m(f),r(f,6*(0>c?-c:c))):!y&&("auto"===c&&Math.abs(e[0]-f[0])+Math.abs(e[1]-f[1])+Math.abs(e[e.length-2]-f[f.length-2])+Math.abs(e[e.length-1]-f[f.length-1])>Math.abs(e[0]-f[f.length-2])+Math.abs(e[1]-f[f.length-1])+Math.abs(e[e.length-2]-f[0])+Math.abs(e[e.length-1]-f[1])||c%2)?(m(f),x[w]=-1,y=!0):"auto"===c?x[w]=0:"reverse"===c&&(x[w]=-1));return x}},x=function(a,b,c){var d=j(a[0]),e=j(a[1]);w(d,e,b||0===b?b:"auto",c)&&(a[0]=l(d),a[1]=l(e))},y=function(a,b){return b||a||0===a?function(c){x(c,a,b)}:x},z=function(a,b){if(!b)return a;var c,e,f,g=a.match(d)||[],h=g.length,i="";for("reverse"===b?(e=h-1,c=-2):(e=(2*(parseInt(b,10)||0)+1+100*h)%h,c=2),f=0;h>f;f+=2)i+=g[e-1]+","+g[e]+" ",e=(e+c)%h;return i},A=function(a,b){var c,d,e,f,g,h,i,j=0,k=parseFloat(a[0]),l=parseFloat(a[1]),m=k+","+l+" ",n=.999999;for(e=a.length,c=.5*b/(.5*e-1),d=0;e-2>d;d+=2){if(j+=c,h=parseFloat(a[d+2]),i=parseFloat(a[d+3]),j>n)for(g=1/(Math.floor(j)+1),f=1;j>n;)m+=(k+(h-k)*g*f).toFixed(2)+","+(l+(i-l)*g*f).toFixed(2)+" ",j--,f++;m+=h+","+i+" ",k=h,l=i}return m},B=function(a){var b=a[0].match(d)||[],c=a[1].match(d)||[],e=c.length-b.length;e>0?a[0]=A(b,e):a[1]=A(c,-e)},C=function(a){return isNaN(a)?B:function(b){B(b),b[1]=z(b[1],parseInt(a,10))}},D=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","path"),d=Array.prototype.slice.call(a.attributes),e=d.length;for(b=","+b+",";--e>-1;)-1===b.indexOf(","+d[e].nodeName+",")&&c.setAttributeNS(null,d[e].nodeName,d[e].nodeValue);return c},E=function(a,b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=a.tagName.toLowerCase(),z=.552284749831;return"path"!==y&&a.getBBox?(i=D(a,"x,y,width,height,cx,cy,rx,ry,r,x1,x2,y1,y2,points"),"rect"===y?(g=+a.getAttribute("rx")||0,h=+a.getAttribute("ry")||0,e=+a.getAttribute("x")||0,f=+a.getAttribute("y")||0,m=(+a.getAttribute("width")||0)-2*g,n=(+a.getAttribute("height")||0)-2*h,g||h?(o=e+g*(1-z),p=e+g,q=p+m,r=q+g*z,s=q+g,t=f+h*(1-z),u=f+h,v=u+n,w=v+h*z,x=v+h,c="M"+s+","+u+" V"+v+" C"+[s,w,r,x,q,x,q-(q-p)/3,x,p+(q-p)/3,x,p,x,o,x,e,w,e,v,e,v-(v-u)/3,e,u+(v-u)/3,e,u,e,t,o,f,p,f,p+(q-p)/3,f,q-(q-p)/3,f,q,f,r,f,s,t,s,u].join(",")+"z"):c="M"+(e+m)+","+f+" v"+n+" h"+-m+" v"+-n+" h"+m+"z"):"circle"===y||"ellipse"===y?("circle"===y?(g=h=+a.getAttribute("r")||0,k=g*z):(g=+a.getAttribute("rx")||0,h=+a.getAttribute("ry")||0,k=h*z),e=+a.getAttribute("cx")||0,f=+a.getAttribute("cy")||0,j=g*z,c="M"+(e+g)+","+f+" C"+[e+g,f+k,e+j,f+h,e,f+h,e-j,f+h,e-g,f+k,e-g,f,e-g,f-k,e-j,f-h,e,f-h,e+j,f-h,e+g,f-k,e+g,f].join(",")+"z"):"line"===y?c="M"+a.getAttribute("x1")+","+a.getAttribute("y1")+" L"+a.getAttribute("x2")+","+a.getAttribute("y2"):("polyline"===y||"polygon"===y)&&(l=(a.getAttribute("points")+"").match(d)||[],e=l.shift(),f=l.shift(),c="M"+e+","+f+" L"+l.join(","),"polygon"===y&&(c+=","+e+","+f+"z")),i.setAttribute("d",c),b&&a.parentNode&&(a.parentNode.insertBefore(i,a),a.parentNode.removeChild(a)),i):a},F=function(a,b){var c,e;return("string"!=typeof a||(a.match(d)||[]).length<3)&&(c=f.selector(a),c&&c[0]?(c=c[0],e=c.nodeName.toUpperCase(),b&&"PATH"!==e&&(c=E(c,!1),e="PATH"),a=c.getAttribute("PATH"===e?"d":"points")||""):(g("WARNING: invalid morph to: "+a),a=!1)),a},G="Use MorphSVGPlugin.convertToPath(elementOrSelectorText) to convert to a path before morphing.",H=_gsScope._gsDefine.plugin({propName:"morphSVG",API:2,global:!0,version:"0.3.1",init:function(a,b,c){var d,f,h,i,j;return"function"!=typeof a.setAttribute?!1:(d=a.nodeName.toUpperCase(),j="POLYLINE"===d||"POLYGON"===d,"PATH"===d||j?(f="PATH"===d?"d":"points",("string"==typeof b||b.getBBox)&&(b={shape:b}),i=F(b.shape||b.d||b.points||"","d"===f),j&&e.test(i)?(g("WARNING: a <"+d+"> cannot accept path data. "+G),!1):(i&&(this._target=a,h=this._addTween(a,"setAttribute",a.getAttribute(f)+"",i+"","morphSVG",!1,f,"d"===f?y(b.shapeIndex,b.map):C(b.shapeIndex)),h&&(this._overwriteProps.push("morphSVG"),h.end=i,h.endProp=f)),!0)):(g("WARNING: cannot morph a <"+d+"> SVG element. "+G),!1))},set:function(a){var b;if(this._super.setRatio.call(this,a),1===a)for(b=this._firstPT;b;)b.end&&this._target.setAttribute(b.endProp,b.end),b=b._next}});H.pathFilter=x,H.pointsFilter=B,H.subdivideRawBezier=k,H.pathDataToRawBezier=function(a){return j(F(a,!0))},H.equalizeSegmentQuantity=w,H.convertToPath=function(a,b){"string"==typeof a&&(a=f.selector(a));for(var c=a&&0!==a.length?a.length&&a[0]&&a[0].nodeType?Array.prototype.slice.call(a,0):[a]:[],d=c.length;--d>-1;)c[d]=E(c[d],b!==!1);return c},H.pathDataToBezier=function(a,b){var c,d,e,f,g,h,i=j(F(a,!0))[0]||[];if(b=b||{},f=b.matrix,c=[],e=i.length,f)for(b.relative&&(f=f.slice(0),f[4]-=i[0],f[5]-=i[1]),d=0;e>d;d+=2)c.push({x:i[d]*f[0]+i[d+1]*f[2]+f[4],y:i[d]*f[1]+i[d+1]*f[3]+f[5]});else for(g=b.offsetX||0,h=b.offsetY||0,b.relative&&(g-=i[0],h-=i[1]),d=0;e>d;d+=2)c.push({x:i[d]+g,y:i[d+1]+h});return c}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJNb3JwaFNWR1BsdWdpbi5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBWRVJTSU9OOiAwLjMuMVxuICogREFURTogMjAxNS0xMC0yMVxuICogVVBEQVRFUyBBTkQgRE9DUyBBVDogaHR0cDovL2dyZWVuc29jay5jb21cbiAqXG4gKiBAbGljZW5zZSBDb3B5cmlnaHQgKGMpIDIwMDgtMjAxNSwgR3JlZW5Tb2NrLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogTW9ycGhTVkdQbHVnaW4gaXMgYSBDbHViIEdyZWVuU29jayBtZW1iZXJzaGlwIGJlbmVmaXQ7IFlvdSBtdXN0IGhhdmUgYSB2YWxpZCBtZW1iZXJzaGlwIHRvIHVzZVxuICogdGhpcyBjb2RlIHdpdGhvdXQgdmlvbGF0aW5nIHRoZSB0ZXJtcyBvZiB1c2UuIFZpc2l0IGh0dHA6Ly9ncmVlbnNvY2suY29tL2NsdWIvIHRvIHNpZ24gdXAgb3IgZ2V0IG1vcmUgZGV0YWlscy5cbiAqIFRoaXMgd29yayBpcyBzdWJqZWN0IHRvIHRoZSBzb2Z0d2FyZSBhZ3JlZW1lbnQgdGhhdCB3YXMgaXNzdWVkIHdpdGggeW91ciBtZW1iZXJzaGlwLlxuICogXG4gKiBAYXV0aG9yOiBKYWNrIERveWxlLCBqYWNrQGdyZWVuc29jay5jb21cbiAqL1xudmFyIF9nc1Njb3BlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGUmJm1vZHVsZS5leHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDp0aGlzfHx3aW5kb3c7KF9nc1Njb3BlLl9nc1F1ZXVlfHwoX2dzU2NvcGUuX2dzUXVldWU9W10pKS5wdXNoKGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGE9TWF0aC5QSS8xODAsYj0xODAvTWF0aC5QSSxjPS9bYWNobG1xc3R2el18KC0/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT8pWzAtOV0vZ2ksZD0vKD86KC18LT18XFwrPSk/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT8pWzAtOV0vZ2ksZT0vW2FjaGxtcXN0dnpdL2dpLGY9X2dzU2NvcGUuVHdlZW5MaXRlLGc9ZnVuY3Rpb24oYSl7d2luZG93LmNvbnNvbGUmJmNvbnNvbGUubG9nKGEpfSxoPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaCxpLGo9TWF0aC5jZWlsKE1hdGguYWJzKGMpLzkwKSxrPTAsbD1bXTtmb3IoYio9YSxjKj1hLGQ9Yy9qLGU9NC8zKk1hdGguc2luKGQvMikvKDErTWF0aC5jb3MoZC8yKSksaT0wO2o+aTtpKyspZj1iK2kqZCxnPU1hdGguY29zKGYpLGg9TWF0aC5zaW4oZiksbFtrKytdPWctZSpoLGxbaysrXT1oK2UqZyxmKz1kLGc9TWF0aC5jb3MoZiksaD1NYXRoLnNpbihmKSxsW2srK109ZytlKmgsbFtrKytdPWgtZSpnLGxbaysrXT1nLGxbaysrXT1oO3JldHVybiBsfSxpPWZ1bmN0aW9uKGMsZCxlLGYsZyxpLGosayxsKXtpZihjIT09a3x8ZCE9PWwpe2U9TWF0aC5hYnMoZSksZj1NYXRoLmFicyhmKTt2YXIgbT1nJTM2MCphLG49TWF0aC5jb3MobSksbz1NYXRoLnNpbihtKSxwPShjLWspLzIscT0oZC1sKS8yLHI9bipwK28qcSxzPS1vKnArbipxLHQ9ZSplLHU9ZipmLHY9cipyLHc9cypzLHg9di90K3cvdTt4PjEmJihlPU1hdGguc3FydCh4KSplLGY9TWF0aC5zcXJ0KHgpKmYsdD1lKmUsdT1mKmYpO3ZhciB5PWk9PT1qPy0xOjEsej0odCp1LXQqdy11KnYpLyh0KncrdSp2KTswPnomJih6PTApO3ZhciBBPXkqTWF0aC5zcXJ0KHopLEI9QSooZSpzL2YpLEM9QSotKGYqci9lKSxEPShjK2spLzIsRT0oZCtsKS8yLEY9RCsobipCLW8qQyksRz1FKyhvKkIrbipDKSxIPShyLUIpL2UsST0ocy1DKS9mLEo9KC1yLUIpL2UsSz0oLXMtQykvZixMPU1hdGguc3FydChIKkgrSSpJKSxNPUg7eT0wPkk/LTE6MTt2YXIgTj15Kk1hdGguYWNvcyhNL0wpKmI7TD1NYXRoLnNxcnQoKEgqSCtJKkkpKihKKkorSypLKSksTT1IKkorSSpLLHk9MD5IKkstSSpKPy0xOjE7dmFyIE89eSpNYXRoLmFjb3MoTS9MKSpiOyFqJiZPPjA/Ty09MzYwOmomJjA+TyYmKE8rPTM2MCksTyU9MzYwLE4lPTM2MDt2YXIgUCxRLFIsUz1oKE4sTyksVD1uKmUsVT1vKmUsVj1vKi1mLFc9bipmLFg9Uy5sZW5ndGgtMjtmb3IoUD0wO1g+UDtQKz0yKVE9U1tQXSxSPVNbUCsxXSxTW1BdPVEqVCtSKlYrRixTW1ArMV09USpVK1IqVytHO3JldHVybiBTW1MubGVuZ3RoLTJdPWssU1tTLmxlbmd0aC0xXT1sLFN9fSxqPWZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmLGgsaixrLGwsbSxuLG8scCxxLHI9KGErXCJcIikubWF0Y2goYyl8fFtdLHM9W10sdD0wLHU9MCx2PXIubGVuZ3RoLHc9Mix4PTA7aWYoIWF8fCFpc05hTihyWzBdKXx8aXNOYU4oclsxXSkpcmV0dXJuIGcoXCJFUlJPUjogbWFsZm9ybWVkIHBhdGggZGF0YTogXCIrYSkscztmb3IoYj0wO3Y+YjtiKyspaWYocT1oLGlzTmFOKHJbYl0pPyhoPXJbYl0udG9VcHBlckNhc2UoKSxqPWghPT1yW2JdKTpiLS0sZT0rcltiKzFdLGY9K3JbYisyXSxqJiYoZSs9dCxmKz11KSwwPT09YiYmKGw9ZSxtPWYpLFwiTVwiPT09aCl0PWw9ZSx1PW09ZixrPVtlLGZdLHgrPXcsdz0yLHMucHVzaChrKSxiKz0yO2Vsc2UgaWYoXCJDXCI9PT1oKWt8fChrPVswLDBdKSxrW3crK109ZSxrW3crK109ZixqfHwodD11PTApLGtbdysrXT10KzEqcltiKzNdLGtbdysrXT11KzEqcltiKzRdLGtbdysrXT10Kz0xKnJbYis1XSxrW3crK109dSs9MSpyW2IrNl0sYis9NjtlbHNlIGlmKFwiU1wiPT09aClcIkNcIj09PXF8fFwiU1wiPT09cT8obj10LWtbdy00XSxvPXUta1t3LTNdLGtbdysrXT10K24sa1t3KytdPXUrbyk6KGtbdysrXT10LGtbdysrXT11KSxrW3crK109ZSxrW3crK109ZixqfHwodD11PTApLGtbdysrXT10Kz0xKnJbYiszXSxrW3crK109dSs9MSpyW2IrNF0sYis9NDtlbHNlIGlmKFwiUVwiPT09aCluPWUtdCxvPWYtdSxrW3crK109dCsyKm4vMyxrW3crK109dSsyKm8vMyxqfHwodD11PTApLHQrPTEqcltiKzNdLHUrPTEqcltiKzRdLG49ZS10LG89Zi11LGtbdysrXT10KzIqbi8zLGtbdysrXT11KzIqby8zLGtbdysrXT10LGtbdysrXT11LGIrPTQ7ZWxzZSBpZihcIlRcIj09PWgpbj10LWtbdy00XSxvPXUta1t3LTNdLGtbdysrXT10K24sa1t3KytdPXUrbyxuPXQrMS41Km4tZSxvPXUrMS41Km8tZixrW3crK109ZSsyKm4vMyxrW3crK109ZisyKm8vMyxrW3crK109dD1lLGtbdysrXT11PWYsYis9MjtlbHNlIGlmKFwiSFwiPT09aClmPXUsa1t3KytdPXQrKGUtdCkvMyxrW3crK109dSsoZi11KS8zLGtbdysrXT10KzIqKGUtdCkvMyxrW3crK109dSsyKihmLXUpLzMsa1t3KytdPXQ9ZSxrW3crK109ZixiKz0xO2Vsc2UgaWYoXCJWXCI9PT1oKWY9ZSxlPXQsaiYmKGYrPXUtdCksa1t3KytdPWUsa1t3KytdPXUrKGYtdSkvMyxrW3crK109ZSxrW3crK109dSsyKihmLXUpLzMsa1t3KytdPWUsa1t3KytdPXU9ZixiKz0xO2Vsc2UgaWYoXCJMXCI9PT1ofHxcIlpcIj09PWgpXCJaXCI9PT1oJiYoZT1sLGY9bSxrLmNsb3NlZD0hMCksKFwiTFwiPT09aHx8TWF0aC5hYnModC1lKT4xfHxNYXRoLmFicyh1LWYpPjEpJiYoa1t3KytdPXQrKGUtdCkvMyxrW3crK109dSsoZi11KS8zLGtbdysrXT10KzIqKGUtdCkvMyxrW3crK109dSsyKihmLXUpLzMsa1t3KytdPWUsa1t3KytdPWYsYis9MiksdD1lLHU9ZjtlbHNlIGlmKFwiQVwiPT09aCl7Zm9yKHA9aSh0LHUsMSpyW2IrMV0sMSpyW2IrMl0sMSpyW2IrM10sMSpyW2IrNF0sMSpyW2IrNV0sKGo/dDowKSsxKnJbYis2XSwoaj91OjApKzEqcltiKzddKSxkPTA7ZDxwLmxlbmd0aDtkKyspa1t3KytdPXBbZF07dD1rW3ctMl0sdT1rW3ctMV0sYis9N31lbHNlIGcoXCJFcnJvcjogbWFsZm9ybWVkIHBhdGggZGF0YTogXCIrYSk7cmV0dXJuIHMudG90YWxQb2ludHM9eCt3LHN9LGs9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHE9MCxyPS45OTk5OTkscz1hLmxlbmd0aCx0PWIvKChzLTIpLzYpO2ZvcihvPTI7cz5vO28rPTYpZm9yKHErPXQ7cT5yOyljPWFbby0yXSxkPWFbby0xXSxlPWFbb10sZj1hW28rMV0sZz1hW28rMl0saD1hW28rM10saT1hW28rNF0saj1hW28rNV0scD0xLyhNYXRoLmZsb29yKHEpKzEpLGs9YysoZS1jKSpwLG09ZSsoZy1lKSpwLGsrPShtLWspKnAsbSs9KGcrKGktZykqcC1tKSpwLGw9ZCsoZi1kKSpwLG49ZisoaC1mKSpwLGwrPShuLWwpKnAsbis9KGgrKGotaCkqcC1uKSpwLGEuc3BsaWNlKG8sNCxjKyhlLWMpKnAsZCsoZi1kKSpwLGssbCxrKyhtLWspKnAsbCsobi1sKSpwLG0sbixnKyhpLWcpKnAsaCsoai1oKSpwKSxvKz02LHMrPTYscS0tO3JldHVybiBhfSxsPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGY9XCJcIixnPWEubGVuZ3RoLGg9MTAwO2ZvcihjPTA7Zz5jO2MrKyl7Zm9yKGU9YVtjXSxmKz1cIk1cIitlWzBdK1wiLFwiK2VbMV0rXCIgQ1wiLGI9ZS5sZW5ndGgsZD0yO2I+ZDtkKyspZis9KGVbZCsrXSpofDApL2grXCIsXCIrKGVbZCsrXSpofDApL2grXCIgXCIrKGVbZCsrXSpofDApL2grXCIsXCIrKGVbZCsrXSpofDApL2grXCIgXCIrKGVbZCsrXSpofDApL2grXCIsXCIrKGVbZF0qaHwwKS9oK1wiIFwiO2UuY2xvc2VkJiYoZis9XCJ6XCIpfXJldHVybiBmfSxtPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1bXSxjPWEubGVuZ3RoLTEsZD0wOy0tYz4tMTspYltkKytdPWFbY10sYltkKytdPWFbYysxXSxjLS07Zm9yKGM9MDtkPmM7YysrKWFbY109YltjXTthLnJldmVyc2VkPWEucmV2ZXJzZWQ/ITE6ITB9LG49ZnVuY3Rpb24oYSl7dmFyIGIsYz1hLmxlbmd0aCxkPTAsZT0wO2ZvcihiPTA7Yz5iO2IrKylkKz1hW2IrK10sZSs9YVtiXTtyZXR1cm5bZC8oYy8yKSxlLyhjLzIpXX0sbz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZT1hLmxlbmd0aCxmPWFbMF0sZz1mLGg9YVsxXSxpPWg7Zm9yKGQ9NjtlPmQ7ZCs9NiliPWFbZF0sYz1hW2QrMV0sYj5mP2Y9YjpnPmImJihnPWIpLGM+aD9oPWM6aT5jJiYoaT1jKTtyZXR1cm4gYS5jZW50ZXJYPShmK2cpLzIsYS5jZW50ZXJZPShoLWkpLzIsYS5zaXplPShmLWcpKihoLWkpfSxwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubGVuZ3RoLWEubGVuZ3RofSxxPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zaXplfHxvKGEpLGQ9Yi5zaXplfHxvKGIpO3JldHVybiBNYXRoLmFicyhkLWMpPChjK2QpLzIwP2IuY2VudGVyWC1hLmNlbnRlclh8fGIuY2VudGVyWS1hLmNlbnRlclk6ZC1jfSxyPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlPWEuc2xpY2UoMCksZj1hLmxlbmd0aCxnPWYtMjtmb3IoYj0wfGIsYz0wO2Y+YztjKyspZD0oYytiKSVnLGFbYysrXT1lW2RdLGFbY109ZVtkKzFdfSxzPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGYsZyxoLGksaj1hLmxlbmd0aCxrPTAsbD1qLTI7Zm9yKGMqPTYsZz0wO2o+ZztnKz02KWY9KGcrYyklbCxpPWFbZl0tKGJbZ10tZCksaD1hW2YrMV0tKGJbZysxXS1lKSxrKz1NYXRoLnNxcnQoaCpoK2kqaSk7cmV0dXJuIGt9LHQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnPWEubGVuZ3RoLGg9bihhKSxpPW4oYiksaj1pWzBdLWhbMF0saz1pWzFdLWhbMV0sbD1zKGEsYiwwLGosayksbz0wO2ZvcihmPTY7Zz5mO2YrPTYpZT1zKGEsYixmLzYsaixrKSxsPmUmJihsPWUsbz1mKTtpZihjKWZvcihkPWEuc2xpY2UoMCksbShkKSxmPTY7Zz5mO2YrPTYpZT1zKGQsYixmLzYsaixrKSxsPmUmJihsPWUsbz0tZik7cmV0dXJuIG8vNn0sdT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZSxmLGcsaD1hLmxlbmd0aCxpPTk5OTk5OTk5OTk5LGo9MDtmb3IoZz0wO2g+ZztnKz02KWQ9YVtnXS1iLGU9YVtnKzFdLWMsZj1NYXRoLnNxcnQoZCpkK2UqZSksaT5mJiYoaT1mLGo9Zyk7cmV0dXJuIGp9LHY9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGg9Yi5sZW5ndGgsaT0wLGo9LjgqKGJbY10uc2l6ZXx8byhiW2NdKSksaz05OTk5OTk5OTk5OTksbD1hLnNpemV8fG8oYSksbT1hLmNlbnRlclgsbj1hLmNlbnRlclk7Zm9yKGQ9YztoPmQmJihsPWJbZF0uc2l6ZXx8byhiW2RdKSwhKGo+bCkpO2QrKyllPWJbZF0uY2VudGVyWC1tLGY9YltkXS5jZW50ZXJZLW4sZz1NYXRoLnNxcnQoZSplK2YqZiksaz5nJiYoaT1kLGs9Zyk7cmV0dXJuIGc9YltpXSxiLnNwbGljZShpLDEpLGd9LHc9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGUsZixnLGgsaSxqPWIubGVuZ3RoLWEubGVuZ3RoLGw9aj4wP2I6YSxuPWo+MD9hOmIsbz0wLHM9XCJjb21wbGV4aXR5XCI9PT1kP3A6cSx3PW4ubGVuZ3RoLHg9XCJvYmplY3RcIj09dHlwZW9mIGMmJmMucHVzaD9jLnNsaWNlKDApOltjXSx5PVwicmV2ZXJzZVwiPT09eFswXXx8eFswXTwwO2lmKG5bMF0pe2lmKGope2lmKDA+aiYmKGo9LWopLGEuc29ydChzKSxiLnNvcnQocykscz09PXEpZm9yKHc9MDt3PG4ubGVuZ3RoO3crKylsLnNwbGljZSh3LDAsdihuW3ddLGwsdykpO2ZvcihsWzBdLmxlbmd0aD5uWzBdLmxlbmd0aCYmayhuWzBdLChsWzBdLmxlbmd0aC1uWzBdLmxlbmd0aCkvNnwwKSx3PW4ubGVuZ3RoO2o+bzspZz11KG5bMF0sbFt3XVswXSxsW3ddWzFdKSxoPW5bMF1bZ10saT1uWzBdW2crMV0sblt3KytdPVtoLGksaCxpLGgsaSxoLGldLG4udG90YWxQb2ludHMrPTgsbysrfWZvcih3PTA7dzxhLmxlbmd0aDt3KyspZT1iW3ddLGY9YVt3XSxqPWUubGVuZ3RoLWYubGVuZ3RoLDA+aj9rKGUsLWovNnwwKTpqPjAmJmsoZixqLzZ8MCkseSYmIWYucmV2ZXJzZWQmJm0oZiksYz14W3ddfHwwPT09eFt3XT94W3ddOlwiYXV0b1wiLGMmJihmLmNsb3NlZHx8TWF0aC5hYnMoZlswXS1mW2YubGVuZ3RoLTJdKTwuNSYmTWF0aC5hYnMoZlsxXS1mW2YubGVuZ3RoLTFdKTwuNT9cImF1dG9cIj09PWM/KHhbd109Yz10KGYsZSwwPT09dyksMD5jJiYoeT0hMCxtKGYpLGM9LWMpLHIoZiw2KmMpKTpcInJldmVyc2VcIiE9PWMmJih3JiYwPmMmJm0oZikscihmLDYqKDA+Yz8tYzpjKSkpOiF5JiYoXCJhdXRvXCI9PT1jJiZNYXRoLmFicyhlWzBdLWZbMF0pK01hdGguYWJzKGVbMV0tZlsxXSkrTWF0aC5hYnMoZVtlLmxlbmd0aC0yXS1mW2YubGVuZ3RoLTJdKStNYXRoLmFicyhlW2UubGVuZ3RoLTFdLWZbZi5sZW5ndGgtMV0pPk1hdGguYWJzKGVbMF0tZltmLmxlbmd0aC0yXSkrTWF0aC5hYnMoZVsxXS1mW2YubGVuZ3RoLTFdKStNYXRoLmFicyhlW2UubGVuZ3RoLTJdLWZbMF0pK01hdGguYWJzKGVbZS5sZW5ndGgtMV0tZlsxXSl8fGMlMik/KG0oZikseFt3XT0tMSx5PSEwKTpcImF1dG9cIj09PWM/eFt3XT0wOlwicmV2ZXJzZVwiPT09YyYmKHhbd109LTEpKTtyZXR1cm4geH19LHg9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWooYVswXSksZT1qKGFbMV0pO3coZCxlLGJ8fDA9PT1iP2I6XCJhdXRvXCIsYykmJihhWzBdPWwoZCksYVsxXT1sKGUpKX0seT1mdW5jdGlvbihhLGIpe3JldHVybiBifHxhfHwwPT09YT9mdW5jdGlvbihjKXt4KGMsYSxiKX06eH0sej1mdW5jdGlvbihhLGIpe2lmKCFiKXJldHVybiBhO3ZhciBjLGUsZixnPWEubWF0Y2goZCl8fFtdLGg9Zy5sZW5ndGgsaT1cIlwiO2ZvcihcInJldmVyc2VcIj09PWI/KGU9aC0xLGM9LTIpOihlPSgyKihwYXJzZUludChiLDEwKXx8MCkrMSsxMDAqaCklaCxjPTIpLGY9MDtoPmY7Zis9MilpKz1nW2UtMV0rXCIsXCIrZ1tlXStcIiBcIixlPShlK2MpJWg7cmV0dXJuIGl9LEE9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnLGgsaSxqPTAsaz1wYXJzZUZsb2F0KGFbMF0pLGw9cGFyc2VGbG9hdChhWzFdKSxtPWsrXCIsXCIrbCtcIiBcIixuPS45OTk5OTk7Zm9yKGU9YS5sZW5ndGgsYz0uNSpiLyguNSplLTEpLGQ9MDtlLTI+ZDtkKz0yKXtpZihqKz1jLGg9cGFyc2VGbG9hdChhW2QrMl0pLGk9cGFyc2VGbG9hdChhW2QrM10pLGo+bilmb3IoZz0xLyhNYXRoLmZsb29yKGopKzEpLGY9MTtqPm47KW0rPShrKyhoLWspKmcqZikudG9GaXhlZCgyKStcIixcIisobCsoaS1sKSpnKmYpLnRvRml4ZWQoMikrXCIgXCIsai0tLGYrKzttKz1oK1wiLFwiK2krXCIgXCIsaz1oLGw9aX1yZXR1cm4gbX0sQj1mdW5jdGlvbihhKXt2YXIgYj1hWzBdLm1hdGNoKGQpfHxbXSxjPWFbMV0ubWF0Y2goZCl8fFtdLGU9Yy5sZW5ndGgtYi5sZW5ndGg7ZT4wP2FbMF09QShiLGUpOmFbMV09QShjLC1lKX0sQz1mdW5jdGlvbihhKXtyZXR1cm4gaXNOYU4oYSk/QjpmdW5jdGlvbihiKXtCKGIpLGJbMV09eihiWzFdLHBhcnNlSW50KGEsMTApKX19LEQ9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwicGF0aFwiKSxkPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEuYXR0cmlidXRlcyksZT1kLmxlbmd0aDtmb3IoYj1cIixcIitiK1wiLFwiOy0tZT4tMTspLTE9PT1iLmluZGV4T2YoXCIsXCIrZFtlXS5ub2RlTmFtZStcIixcIikmJmMuc2V0QXR0cmlidXRlTlMobnVsbCxkW2VdLm5vZGVOYW1lLGRbZV0ubm9kZVZhbHVlKTtyZXR1cm4gY30sRT1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5PWEudGFnTmFtZS50b0xvd2VyQ2FzZSgpLHo9LjU1MjI4NDc0OTgzMTtyZXR1cm5cInBhdGhcIiE9PXkmJmEuZ2V0QkJveD8oaT1EKGEsXCJ4LHksd2lkdGgsaGVpZ2h0LGN4LGN5LHJ4LHJ5LHIseDEseDIseTEseTIscG9pbnRzXCIpLFwicmVjdFwiPT09eT8oZz0rYS5nZXRBdHRyaWJ1dGUoXCJyeFwiKXx8MCxoPSthLmdldEF0dHJpYnV0ZShcInJ5XCIpfHwwLGU9K2EuZ2V0QXR0cmlidXRlKFwieFwiKXx8MCxmPSthLmdldEF0dHJpYnV0ZShcInlcIil8fDAsbT0oK2EuZ2V0QXR0cmlidXRlKFwid2lkdGhcIil8fDApLTIqZyxuPSgrYS5nZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIil8fDApLTIqaCxnfHxoPyhvPWUrZyooMS16KSxwPWUrZyxxPXArbSxyPXErZyp6LHM9cStnLHQ9ZitoKigxLXopLHU9ZitoLHY9dStuLHc9ditoKnoseD12K2gsYz1cIk1cIitzK1wiLFwiK3UrXCIgVlwiK3YrXCIgQ1wiK1tzLHcscix4LHEseCxxLShxLXApLzMseCxwKyhxLXApLzMseCxwLHgsbyx4LGUsdyxlLHYsZSx2LSh2LXUpLzMsZSx1Kyh2LXUpLzMsZSx1LGUsdCxvLGYscCxmLHArKHEtcCkvMyxmLHEtKHEtcCkvMyxmLHEsZixyLGYscyx0LHMsdV0uam9pbihcIixcIikrXCJ6XCIpOmM9XCJNXCIrKGUrbSkrXCIsXCIrZitcIiB2XCIrbitcIiBoXCIrLW0rXCIgdlwiKy1uK1wiIGhcIittK1wielwiKTpcImNpcmNsZVwiPT09eXx8XCJlbGxpcHNlXCI9PT15PyhcImNpcmNsZVwiPT09eT8oZz1oPSthLmdldEF0dHJpYnV0ZShcInJcIil8fDAsaz1nKnopOihnPSthLmdldEF0dHJpYnV0ZShcInJ4XCIpfHwwLGg9K2EuZ2V0QXR0cmlidXRlKFwicnlcIil8fDAsaz1oKnopLGU9K2EuZ2V0QXR0cmlidXRlKFwiY3hcIil8fDAsZj0rYS5nZXRBdHRyaWJ1dGUoXCJjeVwiKXx8MCxqPWcqeixjPVwiTVwiKyhlK2cpK1wiLFwiK2YrXCIgQ1wiK1tlK2csZitrLGUraixmK2gsZSxmK2gsZS1qLGYraCxlLWcsZitrLGUtZyxmLGUtZyxmLWssZS1qLGYtaCxlLGYtaCxlK2osZi1oLGUrZyxmLWssZStnLGZdLmpvaW4oXCIsXCIpK1wielwiKTpcImxpbmVcIj09PXk/Yz1cIk1cIithLmdldEF0dHJpYnV0ZShcIngxXCIpK1wiLFwiK2EuZ2V0QXR0cmlidXRlKFwieTFcIikrXCIgTFwiK2EuZ2V0QXR0cmlidXRlKFwieDJcIikrXCIsXCIrYS5nZXRBdHRyaWJ1dGUoXCJ5MlwiKTooXCJwb2x5bGluZVwiPT09eXx8XCJwb2x5Z29uXCI9PT15KSYmKGw9KGEuZ2V0QXR0cmlidXRlKFwicG9pbnRzXCIpK1wiXCIpLm1hdGNoKGQpfHxbXSxlPWwuc2hpZnQoKSxmPWwuc2hpZnQoKSxjPVwiTVwiK2UrXCIsXCIrZitcIiBMXCIrbC5qb2luKFwiLFwiKSxcInBvbHlnb25cIj09PXkmJihjKz1cIixcIitlK1wiLFwiK2YrXCJ6XCIpKSxpLnNldEF0dHJpYnV0ZShcImRcIixjKSxiJiZhLnBhcmVudE5vZGUmJihhLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGksYSksYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpKSxpKTphfSxGPWZ1bmN0aW9uKGEsYil7dmFyIGMsZTtyZXR1cm4oXCJzdHJpbmdcIiE9dHlwZW9mIGF8fChhLm1hdGNoKGQpfHxbXSkubGVuZ3RoPDMpJiYoYz1mLnNlbGVjdG9yKGEpLGMmJmNbMF0/KGM9Y1swXSxlPWMubm9kZU5hbWUudG9VcHBlckNhc2UoKSxiJiZcIlBBVEhcIiE9PWUmJihjPUUoYywhMSksZT1cIlBBVEhcIiksYT1jLmdldEF0dHJpYnV0ZShcIlBBVEhcIj09PWU/XCJkXCI6XCJwb2ludHNcIil8fFwiXCIpOihnKFwiV0FSTklORzogaW52YWxpZCBtb3JwaCB0bzogXCIrYSksYT0hMSkpLGF9LEc9XCJVc2UgTW9ycGhTVkdQbHVnaW4uY29udmVydFRvUGF0aChlbGVtZW50T3JTZWxlY3RvclRleHQpIHRvIGNvbnZlcnQgdG8gYSBwYXRoIGJlZm9yZSBtb3JwaGluZy5cIixIPV9nc1Njb3BlLl9nc0RlZmluZS5wbHVnaW4oe3Byb3BOYW1lOlwibW9ycGhTVkdcIixBUEk6MixnbG9iYWw6ITAsdmVyc2lvbjpcIjAuMy4xXCIsaW5pdDpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZixoLGksajtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBhLnNldEF0dHJpYnV0ZT8hMTooZD1hLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCksaj1cIlBPTFlMSU5FXCI9PT1kfHxcIlBPTFlHT05cIj09PWQsXCJQQVRIXCI9PT1kfHxqPyhmPVwiUEFUSFwiPT09ZD9cImRcIjpcInBvaW50c1wiLChcInN0cmluZ1wiPT10eXBlb2YgYnx8Yi5nZXRCQm94KSYmKGI9e3NoYXBlOmJ9KSxpPUYoYi5zaGFwZXx8Yi5kfHxiLnBvaW50c3x8XCJcIixcImRcIj09PWYpLGomJmUudGVzdChpKT8oZyhcIldBUk5JTkc6IGEgPFwiK2QrXCI+IGNhbm5vdCBhY2NlcHQgcGF0aCBkYXRhLiBcIitHKSwhMSk6KGkmJih0aGlzLl90YXJnZXQ9YSxoPXRoaXMuX2FkZFR3ZWVuKGEsXCJzZXRBdHRyaWJ1dGVcIixhLmdldEF0dHJpYnV0ZShmKStcIlwiLGkrXCJcIixcIm1vcnBoU1ZHXCIsITEsZixcImRcIj09PWY/eShiLnNoYXBlSW5kZXgsYi5tYXApOkMoYi5zaGFwZUluZGV4KSksaCYmKHRoaXMuX292ZXJ3cml0ZVByb3BzLnB1c2goXCJtb3JwaFNWR1wiKSxoLmVuZD1pLGguZW5kUHJvcD1mKSksITApKTooZyhcIldBUk5JTkc6IGNhbm5vdCBtb3JwaCBhIDxcIitkK1wiPiBTVkcgZWxlbWVudC4gXCIrRyksITEpKX0sc2V0OmZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMuX3N1cGVyLnNldFJhdGlvLmNhbGwodGhpcyxhKSwxPT09YSlmb3IoYj10aGlzLl9maXJzdFBUO2I7KWIuZW5kJiZ0aGlzLl90YXJnZXQuc2V0QXR0cmlidXRlKGIuZW5kUHJvcCxiLmVuZCksYj1iLl9uZXh0fX0pO0gucGF0aEZpbHRlcj14LEgucG9pbnRzRmlsdGVyPUIsSC5zdWJkaXZpZGVSYXdCZXppZXI9ayxILnBhdGhEYXRhVG9SYXdCZXppZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIGooRihhLCEwKSl9LEguZXF1YWxpemVTZWdtZW50UXVhbnRpdHk9dyxILmNvbnZlcnRUb1BhdGg9ZnVuY3Rpb24oYSxiKXtcInN0cmluZ1wiPT10eXBlb2YgYSYmKGE9Zi5zZWxlY3RvcihhKSk7Zm9yKHZhciBjPWEmJjAhPT1hLmxlbmd0aD9hLmxlbmd0aCYmYVswXSYmYVswXS5ub2RlVHlwZT9BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhLDApOlthXTpbXSxkPWMubGVuZ3RoOy0tZD4tMTspY1tkXT1FKGNbZF0sYiE9PSExKTtyZXR1cm4gY30sSC5wYXRoRGF0YVRvQmV6aWVyPWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZyxoLGk9aihGKGEsITApKVswXXx8W107aWYoYj1ifHx7fSxmPWIubWF0cml4LGM9W10sZT1pLmxlbmd0aCxmKWZvcihiLnJlbGF0aXZlJiYoZj1mLnNsaWNlKDApLGZbNF0tPWlbMF0sZls1XS09aVsxXSksZD0wO2U+ZDtkKz0yKWMucHVzaCh7eDppW2RdKmZbMF0raVtkKzFdKmZbMl0rZls0XSx5OmlbZF0qZlsxXStpW2QrMV0qZlszXStmWzVdfSk7ZWxzZSBmb3IoZz1iLm9mZnNldFh8fDAsaD1iLm9mZnNldFl8fDAsYi5yZWxhdGl2ZSYmKGctPWlbMF0saC09aVsxXSksZD0wO2U+ZDtkKz0yKWMucHVzaCh7eDppW2RdK2cseTppW2QrMV0raH0pO3JldHVybiBjfX0pLF9nc1Njb3BlLl9nc0RlZmluZSYmX2dzU2NvcGUuX2dzUXVldWUucG9wKCkoKTsiXSwiZmlsZSI6Ik1vcnBoU1ZHUGx1Z2luLm1pbi5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/*!
 * VERSION: 0.0.7
 * DATE: 2015-10-06
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
 * DrawSVGPlugin is a Club GreenSock membership benefit; You must have a valid membership to use
 * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.
 * This work is subject to the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";function a(a,b,c,d){return c=parseFloat(c)-parseFloat(a),d=parseFloat(d)-parseFloat(b),Math.sqrt(c*c+d*d)}function b(a){return"string"!=typeof a&&a.nodeType||(a=_gsScope.TweenLite.selector(a),a.length&&(a=a[0])),a}function c(a,b,c){var d,e,f=a.indexOf(" ");return-1===f?(d=void 0!==c?c+"":a,e=a):(d=a.substr(0,f),e=a.substr(f+1)),d=-1!==d.indexOf("%")?parseFloat(d)/100*b:parseFloat(d),e=-1!==e.indexOf("%")?parseFloat(e)/100*b:parseFloat(e),d>e?[e,d]:[d,e]}function d(c){if(!c)return 0;c=b(c);var d,e,f,g,h,i,j,k,l=c.tagName.toLowerCase();if("path"===l)h=c.style.strokeDasharray,c.style.strokeDasharray="none",d=c.getTotalLength()||0,e=c.getBBox(),c.style.strokeDasharray=h;else if("rect"===l)e=c.getBBox(),d=2*(e.width+e.height);else if("circle"===l)d=2*Math.PI*parseFloat(c.getAttribute("r"));else if("line"===l)d=a(c.getAttribute("x1"),c.getAttribute("y1"),c.getAttribute("x2"),c.getAttribute("y2"));else if("polyline"===l||"polygon"===l)for(f=c.getAttribute("points").split(" "),d=0,h=f[0].split(","),"polygon"===l&&(f.push(f[0]),-1===f[0].indexOf(",")&&f.push(f[1])),i=1;i<f.length;i++)g=f[i].split(","),1===g.length&&(g[1]=f[i++]),2===g.length&&(d+=a(h[0],h[1],g[0],g[1])||0,h=g);else"ellipse"===l&&(j=parseFloat(c.getAttribute("rx")),k=parseFloat(c.getAttribute("ry")),d=Math.PI*(3*(j+k)-Math.sqrt((3*j+k)*(j+3*k))));return d||0}function e(a,c){if(!a)return[0,0];a=b(a),c=c||d(a)+1;var e=g(a),f=e.strokeDasharray||"",h=parseFloat(e.strokeDashoffset),i=f.indexOf(",");return 0>i&&(i=f.indexOf(" ")),f=0>i?c:parseFloat(f.substr(0,i))||1e-5,f>c&&(f=c),[Math.max(0,-h),Math.max(0,f-h)]}var f,g=document.defaultView?document.defaultView.getComputedStyle:function(){};f=_gsScope._gsDefine.plugin({propName:"drawSVG",API:2,version:"0.0.7",global:!0,overwriteProps:["drawSVG"],init:function(a,b,f){if(!a.getBBox)return!1;var g,h,i,j=d(a)+1;return this._style=a.style,b===!0||"true"===b?b="0 100%":b?-1===(b+"").indexOf(" ")&&(b="0 "+b):b="0 0",g=e(a,j),h=c(b,j,g[0]),this._length=j+10,0===g[0]&&0===h[0]?(i=Math.max(1e-5,h[1]-j),this._dash=j+i,this._offset=j-g[1]+i,this._addTween(this,"_offset",this._offset,j-h[1]+i,"drawSVG")):(this._dash=g[1]-g[0]||1e-6,this._offset=-g[0],this._addTween(this,"_dash",this._dash,h[1]-h[0]||1e-5,"drawSVG"),this._addTween(this,"_offset",this._offset,-h[0],"drawSVG")),!0},set:function(a){this._firstPT&&(this._super.setRatio.call(this,a),this._style.strokeDashoffset=this._offset,1===a||0===a?this._style.strokeDasharray=this._offset<.001&&this._length-this._dash<=10?"none":this._offset===this._dash?"0px, 999999px":this._dash+"px,"+this._length+"px":this._style.strokeDasharray=this._dash+"px,"+this._length+"px")}}),f.getLength=d,f.getPosition=e}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJEcmF3U1ZHUGx1Z2luLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIFZFUlNJT046IDAuMC43XG4gKiBEQVRFOiAyMDE1LTEwLTA2XG4gKiBVUERBVEVTIEFORCBET0NTIEFUOiBodHRwOi8vZ3JlZW5zb2NrLmNvbVxuICpcbiAqIEBsaWNlbnNlIENvcHlyaWdodCAoYykgMjAwOC0yMDE1LCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBEcmF3U1ZHUGx1Z2luIGlzIGEgQ2x1YiBHcmVlblNvY2sgbWVtYmVyc2hpcCBiZW5lZml0OyBZb3UgbXVzdCBoYXZlIGEgdmFsaWQgbWVtYmVyc2hpcCB0byB1c2VcbiAqIHRoaXMgY29kZSB3aXRob3V0IHZpb2xhdGluZyB0aGUgdGVybXMgb2YgdXNlLiBWaXNpdCBodHRwOi8vZ3JlZW5zb2NrLmNvbS9jbHViLyB0byBzaWduIHVwIG9yIGdldCBtb3JlIGRldGFpbHMuXG4gKiBUaGlzIHdvcmsgaXMgc3ViamVjdCB0byB0aGUgc29mdHdhcmUgYWdyZWVtZW50IHRoYXQgd2FzIGlzc3VlZCB3aXRoIHlvdXIgbWVtYmVyc2hpcC5cbiAqIFxuICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tXG4gKi9cbnZhciBfZ3NTY29wZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbD9nbG9iYWw6dGhpc3x8d2luZG93OyhfZ3NTY29wZS5fZ3NRdWV1ZXx8KF9nc1Njb3BlLl9nc1F1ZXVlPVtdKSkucHVzaChmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoYSxiLGMsZCl7cmV0dXJuIGM9cGFyc2VGbG9hdChjKS1wYXJzZUZsb2F0KGEpLGQ9cGFyc2VGbG9hdChkKS1wYXJzZUZsb2F0KGIpLE1hdGguc3FydChjKmMrZCpkKX1mdW5jdGlvbiBiKGEpe3JldHVyblwic3RyaW5nXCIhPXR5cGVvZiBhJiZhLm5vZGVUeXBlfHwoYT1fZ3NTY29wZS5Ud2VlbkxpdGUuc2VsZWN0b3IoYSksYS5sZW5ndGgmJihhPWFbMF0pKSxhfWZ1bmN0aW9uIGMoYSxiLGMpe3ZhciBkLGUsZj1hLmluZGV4T2YoXCIgXCIpO3JldHVybi0xPT09Zj8oZD12b2lkIDAhPT1jP2MrXCJcIjphLGU9YSk6KGQ9YS5zdWJzdHIoMCxmKSxlPWEuc3Vic3RyKGYrMSkpLGQ9LTEhPT1kLmluZGV4T2YoXCIlXCIpP3BhcnNlRmxvYXQoZCkvMTAwKmI6cGFyc2VGbG9hdChkKSxlPS0xIT09ZS5pbmRleE9mKFwiJVwiKT9wYXJzZUZsb2F0KGUpLzEwMCpiOnBhcnNlRmxvYXQoZSksZD5lP1tlLGRdOltkLGVdfWZ1bmN0aW9uIGQoYyl7aWYoIWMpcmV0dXJuIDA7Yz1iKGMpO3ZhciBkLGUsZixnLGgsaSxqLGssbD1jLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtpZihcInBhdGhcIj09PWwpaD1jLnN0eWxlLnN0cm9rZURhc2hhcnJheSxjLnN0eWxlLnN0cm9rZURhc2hhcnJheT1cIm5vbmVcIixkPWMuZ2V0VG90YWxMZW5ndGgoKXx8MCxlPWMuZ2V0QkJveCgpLGMuc3R5bGUuc3Ryb2tlRGFzaGFycmF5PWg7ZWxzZSBpZihcInJlY3RcIj09PWwpZT1jLmdldEJCb3goKSxkPTIqKGUud2lkdGgrZS5oZWlnaHQpO2Vsc2UgaWYoXCJjaXJjbGVcIj09PWwpZD0yKk1hdGguUEkqcGFyc2VGbG9hdChjLmdldEF0dHJpYnV0ZShcInJcIikpO2Vsc2UgaWYoXCJsaW5lXCI9PT1sKWQ9YShjLmdldEF0dHJpYnV0ZShcIngxXCIpLGMuZ2V0QXR0cmlidXRlKFwieTFcIiksYy5nZXRBdHRyaWJ1dGUoXCJ4MlwiKSxjLmdldEF0dHJpYnV0ZShcInkyXCIpKTtlbHNlIGlmKFwicG9seWxpbmVcIj09PWx8fFwicG9seWdvblwiPT09bClmb3IoZj1jLmdldEF0dHJpYnV0ZShcInBvaW50c1wiKS5zcGxpdChcIiBcIiksZD0wLGg9ZlswXS5zcGxpdChcIixcIiksXCJwb2x5Z29uXCI9PT1sJiYoZi5wdXNoKGZbMF0pLC0xPT09ZlswXS5pbmRleE9mKFwiLFwiKSYmZi5wdXNoKGZbMV0pKSxpPTE7aTxmLmxlbmd0aDtpKyspZz1mW2ldLnNwbGl0KFwiLFwiKSwxPT09Zy5sZW5ndGgmJihnWzFdPWZbaSsrXSksMj09PWcubGVuZ3RoJiYoZCs9YShoWzBdLGhbMV0sZ1swXSxnWzFdKXx8MCxoPWcpO2Vsc2VcImVsbGlwc2VcIj09PWwmJihqPXBhcnNlRmxvYXQoYy5nZXRBdHRyaWJ1dGUoXCJyeFwiKSksaz1wYXJzZUZsb2F0KGMuZ2V0QXR0cmlidXRlKFwicnlcIikpLGQ9TWF0aC5QSSooMyooaitrKS1NYXRoLnNxcnQoKDMqaitrKSooaiszKmspKSkpO3JldHVybiBkfHwwfWZ1bmN0aW9uIGUoYSxjKXtpZighYSlyZXR1cm5bMCwwXTthPWIoYSksYz1jfHxkKGEpKzE7dmFyIGU9ZyhhKSxmPWUuc3Ryb2tlRGFzaGFycmF5fHxcIlwiLGg9cGFyc2VGbG9hdChlLnN0cm9rZURhc2hvZmZzZXQpLGk9Zi5pbmRleE9mKFwiLFwiKTtyZXR1cm4gMD5pJiYoaT1mLmluZGV4T2YoXCIgXCIpKSxmPTA+aT9jOnBhcnNlRmxvYXQoZi5zdWJzdHIoMCxpKSl8fDFlLTUsZj5jJiYoZj1jKSxbTWF0aC5tYXgoMCwtaCksTWF0aC5tYXgoMCxmLWgpXX12YXIgZixnPWRvY3VtZW50LmRlZmF1bHRWaWV3P2RvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGU6ZnVuY3Rpb24oKXt9O2Y9X2dzU2NvcGUuX2dzRGVmaW5lLnBsdWdpbih7cHJvcE5hbWU6XCJkcmF3U1ZHXCIsQVBJOjIsdmVyc2lvbjpcIjAuMC43XCIsZ2xvYmFsOiEwLG92ZXJ3cml0ZVByb3BzOltcImRyYXdTVkdcIl0saW5pdDpmdW5jdGlvbihhLGIsZil7aWYoIWEuZ2V0QkJveClyZXR1cm4hMTt2YXIgZyxoLGksaj1kKGEpKzE7cmV0dXJuIHRoaXMuX3N0eWxlPWEuc3R5bGUsYj09PSEwfHxcInRydWVcIj09PWI/Yj1cIjAgMTAwJVwiOmI/LTE9PT0oYitcIlwiKS5pbmRleE9mKFwiIFwiKSYmKGI9XCIwIFwiK2IpOmI9XCIwIDBcIixnPWUoYSxqKSxoPWMoYixqLGdbMF0pLHRoaXMuX2xlbmd0aD1qKzEwLDA9PT1nWzBdJiYwPT09aFswXT8oaT1NYXRoLm1heCgxZS01LGhbMV0taiksdGhpcy5fZGFzaD1qK2ksdGhpcy5fb2Zmc2V0PWotZ1sxXStpLHRoaXMuX2FkZFR3ZWVuKHRoaXMsXCJfb2Zmc2V0XCIsdGhpcy5fb2Zmc2V0LGotaFsxXStpLFwiZHJhd1NWR1wiKSk6KHRoaXMuX2Rhc2g9Z1sxXS1nWzBdfHwxZS02LHRoaXMuX29mZnNldD0tZ1swXSx0aGlzLl9hZGRUd2Vlbih0aGlzLFwiX2Rhc2hcIix0aGlzLl9kYXNoLGhbMV0taFswXXx8MWUtNSxcImRyYXdTVkdcIiksdGhpcy5fYWRkVHdlZW4odGhpcyxcIl9vZmZzZXRcIix0aGlzLl9vZmZzZXQsLWhbMF0sXCJkcmF3U1ZHXCIpKSwhMH0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMuX2ZpcnN0UFQmJih0aGlzLl9zdXBlci5zZXRSYXRpby5jYWxsKHRoaXMsYSksdGhpcy5fc3R5bGUuc3Ryb2tlRGFzaG9mZnNldD10aGlzLl9vZmZzZXQsMT09PWF8fDA9PT1hP3RoaXMuX3N0eWxlLnN0cm9rZURhc2hhcnJheT10aGlzLl9vZmZzZXQ8LjAwMSYmdGhpcy5fbGVuZ3RoLXRoaXMuX2Rhc2g8PTEwP1wibm9uZVwiOnRoaXMuX29mZnNldD09PXRoaXMuX2Rhc2g/XCIwcHgsIDk5OTk5OXB4XCI6dGhpcy5fZGFzaCtcInB4LFwiK3RoaXMuX2xlbmd0aCtcInB4XCI6dGhpcy5fc3R5bGUuc3Ryb2tlRGFzaGFycmF5PXRoaXMuX2Rhc2grXCJweCxcIit0aGlzLl9sZW5ndGgrXCJweFwiKX19KSxmLmdldExlbmd0aD1kLGYuZ2V0UG9zaXRpb249ZX0pLF9nc1Njb3BlLl9nc0RlZmluZSYmX2dzU2NvcGUuX2dzUXVldWUucG9wKCkoKTsiXSwiZmlsZSI6IkRyYXdTVkdQbHVnaW4ubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ScrollMagic=t()}(this,function(){"use strict";var e=function(){};e.version="2.0.5",window.addEventListener("mousewheel",function(){});var t="data-scrollmagic-pin-spacer";e.Controller=function(r){var o,s,a="ScrollMagic.Controller",l="FORWARD",c="REVERSE",u="PAUSED",f=n.defaults,d=this,h=i.extend({},f,r),g=[],p=!1,v=0,m=u,w=!0,y=0,S=!0,b=function(){for(var e in h)f.hasOwnProperty(e)||delete h[e];if(h.container=i.get.elements(h.container)[0],!h.container)throw a+" init failed.";w=h.container===window||h.container===document.body||!document.body.contains(h.container),w&&(h.container=window),y=z(),h.container.addEventListener("resize",T),h.container.addEventListener("scroll",T),h.refreshInterval=parseInt(h.refreshInterval)||f.refreshInterval,E()},E=function(){h.refreshInterval>0&&(s=window.setTimeout(A,h.refreshInterval))},x=function(){return h.vertical?i.get.scrollTop(h.container):i.get.scrollLeft(h.container)},z=function(){return h.vertical?i.get.height(h.container):i.get.width(h.container)},C=this._setScrollPos=function(e){h.vertical?w?window.scrollTo(i.get.scrollLeft(),e):h.container.scrollTop=e:w?window.scrollTo(e,i.get.scrollTop()):h.container.scrollLeft=e},F=function(){if(S&&p){var e=i.type.Array(p)?p:g.slice(0);p=!1;var t=v;v=d.scrollPos();var n=v-t;0!==n&&(m=n>0?l:c),m===c&&e.reverse(),e.forEach(function(e){e.update(!0)})}},L=function(){o=i.rAF(F)},T=function(e){"resize"==e.type&&(y=z(),m=u),p!==!0&&(p=!0,L())},A=function(){if(!w&&y!=z()){var e;try{e=new Event("resize",{bubbles:!1,cancelable:!1})}catch(t){e=document.createEvent("Event"),e.initEvent("resize",!1,!1)}h.container.dispatchEvent(e)}g.forEach(function(e){e.refresh()}),E()};this._options=h;var O=function(e){if(e.length<=1)return e;var t=e.slice(0);return t.sort(function(e,t){return e.scrollOffset()>t.scrollOffset()?1:-1}),t};return this.addScene=function(t){if(i.type.Array(t))t.forEach(function(e){d.addScene(e)});else if(t instanceof e.Scene)if(t.controller()!==d)t.addTo(d);else if(g.indexOf(t)<0){g.push(t),g=O(g),t.on("shift.controller_sort",function(){g=O(g)});for(var n in h.globalSceneOptions)t[n]&&t[n].call(t,h.globalSceneOptions[n])}return d},this.removeScene=function(e){if(i.type.Array(e))e.forEach(function(e){d.removeScene(e)});else{var t=g.indexOf(e);t>-1&&(e.off("shift.controller_sort"),g.splice(t,1),e.remove())}return d},this.updateScene=function(t,n){return i.type.Array(t)?t.forEach(function(e){d.updateScene(e,n)}):n?t.update(!0):p!==!0&&t instanceof e.Scene&&(p=p||[],-1==p.indexOf(t)&&p.push(t),p=O(p),L()),d},this.update=function(e){return T({type:"resize"}),e&&F(),d},this.scrollTo=function(n,r){if(i.type.Number(n))C.call(h.container,n,r);else if(n instanceof e.Scene)n.controller()===d&&d.scrollTo(n.scrollOffset(),r);else if(i.type.Function(n))C=n;else{var o=i.get.elements(n)[0];if(o){for(;o.parentNode.hasAttribute(t);)o=o.parentNode;var s=h.vertical?"top":"left",a=i.get.offset(h.container),l=i.get.offset(o);w||(a[s]-=d.scrollPos()),d.scrollTo(l[s]-a[s],r)}}return d},this.scrollPos=function(e){return arguments.length?(i.type.Function(e)&&(x=e),d):x.call(d)},this.info=function(e){var t={size:y,vertical:h.vertical,scrollPos:v,scrollDirection:m,container:h.container,isDocument:w};return arguments.length?void 0!==t[e]?t[e]:void 0:t},this.loglevel=function(){return d},this.enabled=function(e){return arguments.length?(S!=e&&(S=!!e,d.updateScene(g,!0)),d):S},this.destroy=function(e){window.clearTimeout(s);for(var t=g.length;t--;)g[t].destroy(e);return h.container.removeEventListener("resize",T),h.container.removeEventListener("scroll",T),i.cAF(o),null},b(),d};var n={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};e.Controller.addOption=function(e,t){n.defaults[e]=t},e.Controller.extend=function(t){var n=this;e.Controller=function(){return n.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Controller,n),e.Controller.prototype=n.prototype,e.Controller.prototype.constructor=e.Controller},e.Scene=function(n){var o,s,a="BEFORE",l="DURING",c="AFTER",u=r.defaults,f=this,d=i.extend({},u,n),h=a,g=0,p={start:0,end:0},v=0,m=!0,w=function(){for(var e in d)u.hasOwnProperty(e)||delete d[e];for(var t in u)L(t);C()},y={};this.on=function(e,t){return i.type.Function(t)&&(e=e.trim().split(" "),e.forEach(function(e){var n=e.split("."),r=n[0],i=n[1];"*"!=r&&(y[r]||(y[r]=[]),y[r].push({namespace:i||"",callback:t}))})),f},this.off=function(e,t){return e?(e=e.trim().split(" "),e.forEach(function(e){var n=e.split("."),r=n[0],i=n[1]||"",o="*"===r?Object.keys(y):[r];o.forEach(function(e){for(var n=y[e]||[],r=n.length;r--;){var o=n[r];!o||i!==o.namespace&&"*"!==i||t&&t!=o.callback||n.splice(r,1)}n.length||delete y[e]})}),f):f},this.trigger=function(t,n){if(t){var r=t.trim().split("."),i=r[0],o=r[1],s=y[i];s&&s.forEach(function(t){o&&o!==t.namespace||t.callback.call(f,new e.Event(i,t.namespace,f,n))})}return f},f.on("change.internal",function(e){"loglevel"!==e.what&&"tweenChanges"!==e.what&&("triggerElement"===e.what?E():"reverse"===e.what&&f.update())}).on("shift.internal",function(){S(),f.update()}),this.addTo=function(t){return t instanceof e.Controller&&s!=t&&(s&&s.removeScene(f),s=t,C(),b(!0),E(!0),S(),s.info("container").addEventListener("resize",x),t.addScene(f),f.trigger("add",{controller:s}),f.update()),f},this.enabled=function(e){return arguments.length?(m!=e&&(m=!!e,f.update(!0)),f):m},this.remove=function(){if(s){s.info("container").removeEventListener("resize",x);var e=s;s=void 0,e.removeScene(f),f.trigger("remove")}return f},this.destroy=function(e){return f.trigger("destroy",{reset:e}),f.remove(),f.off("*.*"),null},this.update=function(e){if(s)if(e)if(s.enabled()&&m){var t,n=s.info("scrollPos");t=d.duration>0?(n-p.start)/(p.end-p.start):n>=p.start?1:0,f.trigger("update",{startPos:p.start,endPos:p.end,scrollPos:n}),f.progress(t)}else T&&h===l&&O(!0);else s.updateScene(f,!1);return f},this.refresh=function(){return b(),E(),f},this.progress=function(e){if(arguments.length){var t=!1,n=h,r=s?s.info("scrollDirection"):"PAUSED",i=d.reverse||e>=g;if(0===d.duration?(t=g!=e,g=1>e&&i?0:1,h=0===g?a:l):0>e&&h!==a&&i?(g=0,h=a,t=!0):e>=0&&1>e&&i?(g=e,h=l,t=!0):e>=1&&h!==c?(g=1,h=c,t=!0):h!==l||i||O(),t){var o={progress:g,state:h,scrollDirection:r},u=h!=n,p=function(e){f.trigger(e,o)};u&&n!==l&&(p("enter"),p(n===a?"start":"end")),p("progress"),u&&h!==l&&(p(h===a?"start":"end"),p("leave"))}return f}return g};var S=function(){p={start:v+d.offset},s&&d.triggerElement&&(p.start-=s.info("size")*d.triggerHook),p.end=p.start+d.duration},b=function(e){if(o){var t="duration";F(t,o.call(f))&&!e&&(f.trigger("change",{what:t,newval:d[t]}),f.trigger("shift",{reason:t}))}},E=function(e){var n=0,r=d.triggerElement;if(s&&r){for(var o=s.info(),a=i.get.offset(o.container),l=o.vertical?"top":"left";r.parentNode.hasAttribute(t);)r=r.parentNode;var c=i.get.offset(r);o.isDocument||(a[l]-=s.scrollPos()),n=c[l]-a[l]}var u=n!=v;v=n,u&&!e&&f.trigger("shift",{reason:"triggerElementPosition"})},x=function(){d.triggerHook>0&&f.trigger("shift",{reason:"containerResize"})},z=i.extend(r.validate,{duration:function(e){if(i.type.String(e)&&e.match(/^(\.|\d)*\d+%$/)){var t=parseFloat(e)/100;e=function(){return s?s.info("size")*t:0}}if(i.type.Function(e)){o=e;try{e=parseFloat(o())}catch(n){e=-1}}if(e=parseFloat(e),!i.type.Number(e)||0>e)throw o?(o=void 0,0):0;return e}}),C=function(e){e=arguments.length?[e]:Object.keys(z),e.forEach(function(e){var t;if(z[e])try{t=z[e](d[e])}catch(n){t=u[e]}finally{d[e]=t}})},F=function(e,t){var n=!1,r=d[e];return d[e]!=t&&(d[e]=t,C(e),n=r!=d[e]),n},L=function(e){f[e]||(f[e]=function(t){return arguments.length?("duration"===e&&(o=void 0),F(e,t)&&(f.trigger("change",{what:e,newval:d[e]}),r.shifts.indexOf(e)>-1&&f.trigger("shift",{reason:e})),f):d[e]})};this.controller=function(){return s},this.state=function(){return h},this.scrollOffset=function(){return p.start},this.triggerPosition=function(){var e=d.offset;return s&&(e+=d.triggerElement?v:s.info("size")*f.triggerHook()),e};var T,A;f.on("shift.internal",function(e){var t="duration"===e.reason;(h===c&&t||h===l&&0===d.duration)&&O(),t&&_()}).on("progress.internal",function(){O()}).on("add.internal",function(){_()}).on("destroy.internal",function(e){f.removePin(e.reset)});var O=function(e){if(T&&s){var t=s.info(),n=A.spacer.firstChild;if(e||h!==l){var r={position:A.inFlow?"relative":"absolute",top:0,left:0},o=i.css(n,"position")!=r.position;A.pushFollowers?d.duration>0&&(h===c&&0===parseFloat(i.css(A.spacer,"padding-top"))?o=!0:h===a&&0===parseFloat(i.css(A.spacer,"padding-bottom"))&&(o=!0)):r[t.vertical?"top":"left"]=d.duration*g,i.css(n,r),o&&_()}else{"fixed"!=i.css(n,"position")&&(i.css(n,{position:"fixed"}),_());var u=i.get.offset(A.spacer,!0),f=d.reverse||0===d.duration?t.scrollPos-p.start:Math.round(g*d.duration*10)/10;u[t.vertical?"top":"left"]+=f,i.css(A.spacer.firstChild,{top:u.top,left:u.left})}}},_=function(){if(T&&s&&A.inFlow){var e=h===l,t=s.info("vertical"),n=A.spacer.firstChild,r=i.isMarginCollapseType(i.css(A.spacer,"display")),o={};A.relSize.width||A.relSize.autoFullWidth?e?i.css(T,{width:i.get.width(A.spacer)}):i.css(T,{width:"100%"}):(o["min-width"]=i.get.width(t?T:n,!0,!0),o.width=e?o["min-width"]:"auto"),A.relSize.height?e?i.css(T,{height:i.get.height(A.spacer)-(A.pushFollowers?d.duration:0)}):i.css(T,{height:"100%"}):(o["min-height"]=i.get.height(t?n:T,!0,!r),o.height=e?o["min-height"]:"auto"),A.pushFollowers&&(o["padding"+(t?"Top":"Left")]=d.duration*g,o["padding"+(t?"Bottom":"Right")]=d.duration*(1-g)),i.css(A.spacer,o)}},N=function(){s&&T&&h===l&&!s.info("isDocument")&&O()},P=function(){s&&T&&h===l&&((A.relSize.width||A.relSize.autoFullWidth)&&i.get.width(window)!=i.get.width(A.spacer.parentNode)||A.relSize.height&&i.get.height(window)!=i.get.height(A.spacer.parentNode))&&_()},D=function(e){s&&T&&h===l&&!s.info("isDocument")&&(e.preventDefault(),s._setScrollPos(s.info("scrollPos")-((e.wheelDelta||e[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-e.detail)))};this.setPin=function(e,n){var r={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(n=i.extend({},r,n),e=i.get.elements(e)[0],!e)return f;if("fixed"===i.css(e,"position"))return f;if(T){if(T===e)return f;f.removePin()}T=e;var o=T.parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];T.parentNode.style.display="none";var a="absolute"!=i.css(T,"position"),l=i.css(T,s.concat(["display"])),c=i.css(T,["width","height"]);T.parentNode.style.display=o,!a&&n.pushFollowers&&(n.pushFollowers=!1);var u=T.parentNode.insertBefore(document.createElement("div"),T),d=i.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||i.extend(d,i.css(T,["width","height"])),i.css(u,d),u.setAttribute(t,""),i.addClass(u,n.spacerClass),A={spacer:u,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&i.isMarginCollapseType(l.display)},pushFollowers:n.pushFollowers,inFlow:a},!T.___origStyle){T.___origStyle={};var h=T.style,g=s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);g.forEach(function(e){T.___origStyle[e]=h[e]||""})}return A.relSize.width&&i.css(u,{width:c.width}),A.relSize.height&&i.css(u,{height:c.height}),u.appendChild(T),i.css(T,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(A.relSize.width||A.relSize.autoFullWidth)&&i.css(T,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",N),window.addEventListener("resize",N),window.addEventListener("resize",P),T.addEventListener("mousewheel",D),T.addEventListener("DOMMouseScroll",D),O(),f},this.removePin=function(e){if(T){if(h===l&&O(!0),e||!s){var n=A.spacer.firstChild;if(n.hasAttribute(t)){var r=A.spacer.style,o=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},o.forEach(function(e){margins[e]=r[e]||""}),i.css(n,margins)}A.spacer.parentNode.insertBefore(n,A.spacer),A.spacer.parentNode.removeChild(A.spacer),T.parentNode.hasAttribute(t)||(i.css(T,T.___origStyle),delete T.___origStyle)}window.removeEventListener("scroll",N),window.removeEventListener("resize",N),window.removeEventListener("resize",P),T.removeEventListener("mousewheel",D),T.removeEventListener("DOMMouseScroll",D),T=void 0}return f};var R,k=[];return f.on("destroy.internal",function(e){f.removeClassToggle(e.reset)}),this.setClassToggle=function(e,t){var n=i.get.elements(e);return 0!==n.length&&i.type.String(t)?(k.length>0&&f.removeClassToggle(),R=t,k=n,f.on("enter.internal_class leave.internal_class",function(e){var t="enter"===e.type?i.addClass:i.removeClass;k.forEach(function(e){t(e,R)})}),f):f},this.removeClassToggle=function(e){return e&&k.forEach(function(e){i.removeClass(e,R)}),f.off("start.internal_class end.internal_class"),R=void 0,k=[],f},w(),f};var r={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(e){if(e=parseFloat(e),!i.type.Number(e))throw 0;return e},triggerElement:function(e){if(e=e||void 0){var t=i.get.elements(e)[0];if(!t)throw 0;e=t}return e},triggerHook:function(e){var t={onCenter:.5,onEnter:1,onLeave:0};if(i.type.Number(e))e=Math.max(0,Math.min(parseFloat(e),1));else{if(!(e in t))throw 0;e=t[e]}return e},reverse:function(e){return!!e}},shifts:["duration","offset","triggerHook"]};e.Scene.addOption=function(e,t,n,i){e in r.defaults||(r.defaults[e]=t,r.validate[e]=n,i&&r.shifts.push(e))},e.Scene.extend=function(t){var n=this;e.Scene=function(){return n.apply(this,arguments),this.$super=i.extend({},this),t.apply(this,arguments)||this},i.extend(e.Scene,n),e.Scene.prototype=n.prototype,e.Scene.prototype.constructor=e.Scene},e.Event=function(e,t,n,r){r=r||{};for(var i in r)this[i]=r[i];return this.type=e,this.target=this.currentTarget=n,this.namespace=t||"",this.timeStamp=this.timestamp=Date.now(),this};var i=e._util=function(e){var t,n={},r=function(e){return parseFloat(e)||0},i=function(t){return t.currentStyle?t.currentStyle:e.getComputedStyle(t)},o=function(t,n,o,s){if(n=n===document?e:n,n===e)s=!1;else if(!f.DomElement(n))return 0;t=t.charAt(0).toUpperCase()+t.substr(1).toLowerCase();var a=(o?n["offset"+t]||n["outer"+t]:n["client"+t]||n["inner"+t])||0;if(o&&s){var l=i(n);a+="Height"===t?r(l.marginTop)+r(l.marginBottom):r(l.marginLeft)+r(l.marginRight)}return a},s=function(e){return e.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})};n.extend=function(e){for(e=e||{},t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},n.isMarginCollapseType=function(e){return["block","flex","list-item","table","-webkit-box"].indexOf(e)>-1};var a=0,l=["ms","moz","webkit","o"],c=e.requestAnimationFrame,u=e.cancelAnimationFrame;for(t=0;!c&&t<l.length;++t)c=e[l[t]+"RequestAnimationFrame"],u=e[l[t]+"CancelAnimationFrame"]||e[l[t]+"CancelRequestAnimationFrame"];c||(c=function(t){var n=(new Date).getTime(),r=Math.max(0,16-(n-a)),i=e.setTimeout(function(){t(n+r)},r);return a=n+r,i}),u||(u=function(t){e.clearTimeout(t)}),n.rAF=c.bind(e),n.cAF=u.bind(e);var f=n.type=function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};f.String=function(e){return"string"===f(e)},f.Function=function(e){return"function"===f(e)},f.Array=function(e){return Array.isArray(e)},f.Number=function(e){return!f.Array(e)&&e-parseFloat(e)+1>=0},f.DomElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};var d=n.get={};return d.elements=function(t){var n=[];if(f.String(t))try{t=document.querySelectorAll(t)}catch(r){return n}if("nodelist"===f(t)||f.Array(t))for(var i=0,o=n.length=t.length;o>i;i++){var s=t[i];n[i]=f.DomElement(s)?s:d.elements(s)}else(f.DomElement(t)||t===document||t===e)&&(n=[t]);return n},d.scrollTop=function(t){return t&&"number"==typeof t.scrollTop?t.scrollTop:e.pageYOffset||0},d.scrollLeft=function(t){return t&&"number"==typeof t.scrollLeft?t.scrollLeft:e.pageXOffset||0},d.width=function(e,t,n){return o("width",e,t,n)},d.height=function(e,t,n){return o("height",e,t,n)},d.offset=function(e,t){var n={top:0,left:0};if(e&&e.getBoundingClientRect){var r=e.getBoundingClientRect();n.top=r.top,n.left=r.left,t||(n.top+=d.scrollTop(),n.left+=d.scrollLeft())}return n},n.addClass=function(e,t){t&&(e.classList?e.classList.add(t):e.className+=" "+t)},n.removeClass=function(e,t){t&&(e.classList?e.classList.remove(t):e.className=e.className.replace(RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," "))},n.css=function(e,t){if(f.String(t))return i(e)[s(t)];if(f.Array(t)){var n={},r=i(e);return t.forEach(function(e){n[e]=r[s(e)]}),n}for(var o in t){var a=t[o];a==parseFloat(a)&&(a+="px"),e.style[s(o)]=a}},n}(window||{});return e});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJTY3JvbGxNYWdpYy5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIFNjcm9sbE1hZ2ljIHYyLjAuNSB8IChjKSAyMDE1IEphbiBQYWVwa2UgKEBqYW5wYWVwa2UpIHwgbGljZW5zZSAmIGluZm86IGh0dHA6Ly9zY3JvbGxtYWdpYy5pbyAqL1xuIWZ1bmN0aW9uKGUsdCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KCk6ZS5TY3JvbGxNYWdpYz10KCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjt2YXIgZT1mdW5jdGlvbigpe307ZS52ZXJzaW9uPVwiMi4wLjVcIix3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIixmdW5jdGlvbigpe30pO3ZhciB0PVwiZGF0YS1zY3JvbGxtYWdpYy1waW4tc3BhY2VyXCI7ZS5Db250cm9sbGVyPWZ1bmN0aW9uKHIpe3ZhciBvLHMsYT1cIlNjcm9sbE1hZ2ljLkNvbnRyb2xsZXJcIixsPVwiRk9SV0FSRFwiLGM9XCJSRVZFUlNFXCIsdT1cIlBBVVNFRFwiLGY9bi5kZWZhdWx0cyxkPXRoaXMsaD1pLmV4dGVuZCh7fSxmLHIpLGc9W10scD0hMSx2PTAsbT11LHc9ITAseT0wLFM9ITAsYj1mdW5jdGlvbigpe2Zvcih2YXIgZSBpbiBoKWYuaGFzT3duUHJvcGVydHkoZSl8fGRlbGV0ZSBoW2VdO2lmKGguY29udGFpbmVyPWkuZ2V0LmVsZW1lbnRzKGguY29udGFpbmVyKVswXSwhaC5jb250YWluZXIpdGhyb3cgYStcIiBpbml0IGZhaWxlZC5cIjt3PWguY29udGFpbmVyPT09d2luZG93fHxoLmNvbnRhaW5lcj09PWRvY3VtZW50LmJvZHl8fCFkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGguY29udGFpbmVyKSx3JiYoaC5jb250YWluZXI9d2luZG93KSx5PXooKSxoLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsVCksaC5jb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLFQpLGgucmVmcmVzaEludGVydmFsPXBhcnNlSW50KGgucmVmcmVzaEludGVydmFsKXx8Zi5yZWZyZXNoSW50ZXJ2YWwsRSgpfSxFPWZ1bmN0aW9uKCl7aC5yZWZyZXNoSW50ZXJ2YWw+MCYmKHM9d2luZG93LnNldFRpbWVvdXQoQSxoLnJlZnJlc2hJbnRlcnZhbCkpfSx4PWZ1bmN0aW9uKCl7cmV0dXJuIGgudmVydGljYWw/aS5nZXQuc2Nyb2xsVG9wKGguY29udGFpbmVyKTppLmdldC5zY3JvbGxMZWZ0KGguY29udGFpbmVyKX0sej1mdW5jdGlvbigpe3JldHVybiBoLnZlcnRpY2FsP2kuZ2V0LmhlaWdodChoLmNvbnRhaW5lcik6aS5nZXQud2lkdGgoaC5jb250YWluZXIpfSxDPXRoaXMuX3NldFNjcm9sbFBvcz1mdW5jdGlvbihlKXtoLnZlcnRpY2FsP3c/d2luZG93LnNjcm9sbFRvKGkuZ2V0LnNjcm9sbExlZnQoKSxlKTpoLmNvbnRhaW5lci5zY3JvbGxUb3A9ZTp3P3dpbmRvdy5zY3JvbGxUbyhlLGkuZ2V0LnNjcm9sbFRvcCgpKTpoLmNvbnRhaW5lci5zY3JvbGxMZWZ0PWV9LEY9ZnVuY3Rpb24oKXtpZihTJiZwKXt2YXIgZT1pLnR5cGUuQXJyYXkocCk/cDpnLnNsaWNlKDApO3A9ITE7dmFyIHQ9djt2PWQuc2Nyb2xsUG9zKCk7dmFyIG49di10OzAhPT1uJiYobT1uPjA/bDpjKSxtPT09YyYmZS5yZXZlcnNlKCksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudXBkYXRlKCEwKX0pfX0sTD1mdW5jdGlvbigpe289aS5yQUYoRil9LFQ9ZnVuY3Rpb24oZSl7XCJyZXNpemVcIj09ZS50eXBlJiYoeT16KCksbT11KSxwIT09ITAmJihwPSEwLEwoKSl9LEE9ZnVuY3Rpb24oKXtpZighdyYmeSE9eigpKXt2YXIgZTt0cnl7ZT1uZXcgRXZlbnQoXCJyZXNpemVcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExfSl9Y2F0Y2godCl7ZT1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50XCIpLGUuaW5pdEV2ZW50KFwicmVzaXplXCIsITEsITEpfWguY29udGFpbmVyLmRpc3BhdGNoRXZlbnQoZSl9Zy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UucmVmcmVzaCgpfSksRSgpfTt0aGlzLl9vcHRpb25zPWg7dmFyIE89ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg8PTEpcmV0dXJuIGU7dmFyIHQ9ZS5zbGljZSgwKTtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuc2Nyb2xsT2Zmc2V0KCk+dC5zY3JvbGxPZmZzZXQoKT8xOi0xfSksdH07cmV0dXJuIHRoaXMuYWRkU2NlbmU9ZnVuY3Rpb24odCl7aWYoaS50eXBlLkFycmF5KHQpKXQuZm9yRWFjaChmdW5jdGlvbihlKXtkLmFkZFNjZW5lKGUpfSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgZS5TY2VuZSlpZih0LmNvbnRyb2xsZXIoKSE9PWQpdC5hZGRUbyhkKTtlbHNlIGlmKGcuaW5kZXhPZih0KTwwKXtnLnB1c2godCksZz1PKGcpLHQub24oXCJzaGlmdC5jb250cm9sbGVyX3NvcnRcIixmdW5jdGlvbigpe2c9TyhnKX0pO2Zvcih2YXIgbiBpbiBoLmdsb2JhbFNjZW5lT3B0aW9ucyl0W25dJiZ0W25dLmNhbGwodCxoLmdsb2JhbFNjZW5lT3B0aW9uc1tuXSl9cmV0dXJuIGR9LHRoaXMucmVtb3ZlU2NlbmU9ZnVuY3Rpb24oZSl7aWYoaS50eXBlLkFycmF5KGUpKWUuZm9yRWFjaChmdW5jdGlvbihlKXtkLnJlbW92ZVNjZW5lKGUpfSk7ZWxzZXt2YXIgdD1nLmluZGV4T2YoZSk7dD4tMSYmKGUub2ZmKFwic2hpZnQuY29udHJvbGxlcl9zb3J0XCIpLGcuc3BsaWNlKHQsMSksZS5yZW1vdmUoKSl9cmV0dXJuIGR9LHRoaXMudXBkYXRlU2NlbmU9ZnVuY3Rpb24odCxuKXtyZXR1cm4gaS50eXBlLkFycmF5KHQpP3QuZm9yRWFjaChmdW5jdGlvbihlKXtkLnVwZGF0ZVNjZW5lKGUsbil9KTpuP3QudXBkYXRlKCEwKTpwIT09ITAmJnQgaW5zdGFuY2VvZiBlLlNjZW5lJiYocD1wfHxbXSwtMT09cC5pbmRleE9mKHQpJiZwLnB1c2godCkscD1PKHApLEwoKSksZH0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSl7cmV0dXJuIFQoe3R5cGU6XCJyZXNpemVcIn0pLGUmJkYoKSxkfSx0aGlzLnNjcm9sbFRvPWZ1bmN0aW9uKG4scil7aWYoaS50eXBlLk51bWJlcihuKSlDLmNhbGwoaC5jb250YWluZXIsbixyKTtlbHNlIGlmKG4gaW5zdGFuY2VvZiBlLlNjZW5lKW4uY29udHJvbGxlcigpPT09ZCYmZC5zY3JvbGxUbyhuLnNjcm9sbE9mZnNldCgpLHIpO2Vsc2UgaWYoaS50eXBlLkZ1bmN0aW9uKG4pKUM9bjtlbHNle3ZhciBvPWkuZ2V0LmVsZW1lbnRzKG4pWzBdO2lmKG8pe2Zvcig7by5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSh0KTspbz1vLnBhcmVudE5vZGU7dmFyIHM9aC52ZXJ0aWNhbD9cInRvcFwiOlwibGVmdFwiLGE9aS5nZXQub2Zmc2V0KGguY29udGFpbmVyKSxsPWkuZ2V0Lm9mZnNldChvKTt3fHwoYVtzXS09ZC5zY3JvbGxQb3MoKSksZC5zY3JvbGxUbyhsW3NdLWFbc10scil9fXJldHVybiBkfSx0aGlzLnNjcm9sbFBvcz1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oaS50eXBlLkZ1bmN0aW9uKGUpJiYoeD1lKSxkKTp4LmNhbGwoZCl9LHRoaXMuaW5mbz1mdW5jdGlvbihlKXt2YXIgdD17c2l6ZTp5LHZlcnRpY2FsOmgudmVydGljYWwsc2Nyb2xsUG9zOnYsc2Nyb2xsRGlyZWN0aW9uOm0sY29udGFpbmVyOmguY29udGFpbmVyLGlzRG9jdW1lbnQ6d307cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dm9pZCAwIT09dFtlXT90W2VdOnZvaWQgMDp0fSx0aGlzLmxvZ2xldmVsPWZ1bmN0aW9uKCl7cmV0dXJuIGR9LHRoaXMuZW5hYmxlZD1mdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oUyE9ZSYmKFM9ISFlLGQudXBkYXRlU2NlbmUoZywhMCkpLGQpOlN9LHRoaXMuZGVzdHJveT1mdW5jdGlvbihlKXt3aW5kb3cuY2xlYXJUaW1lb3V0KHMpO2Zvcih2YXIgdD1nLmxlbmd0aDt0LS07KWdbdF0uZGVzdHJveShlKTtyZXR1cm4gaC5jb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLFQpLGguY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIixUKSxpLmNBRihvKSxudWxsfSxiKCksZH07dmFyIG49e2RlZmF1bHRzOntjb250YWluZXI6d2luZG93LHZlcnRpY2FsOiEwLGdsb2JhbFNjZW5lT3B0aW9uczp7fSxsb2dsZXZlbDoyLHJlZnJlc2hJbnRlcnZhbDoxMDB9fTtlLkNvbnRyb2xsZXIuYWRkT3B0aW9uPWZ1bmN0aW9uKGUsdCl7bi5kZWZhdWx0c1tlXT10fSxlLkNvbnRyb2xsZXIuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7ZS5Db250cm9sbGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpLHRoaXMuJHN1cGVyPWkuZXh0ZW5kKHt9LHRoaXMpLHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfSxpLmV4dGVuZChlLkNvbnRyb2xsZXIsbiksZS5Db250cm9sbGVyLnByb3RvdHlwZT1uLnByb3RvdHlwZSxlLkNvbnRyb2xsZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yPWUuQ29udHJvbGxlcn0sZS5TY2VuZT1mdW5jdGlvbihuKXt2YXIgbyxzLGE9XCJCRUZPUkVcIixsPVwiRFVSSU5HXCIsYz1cIkFGVEVSXCIsdT1yLmRlZmF1bHRzLGY9dGhpcyxkPWkuZXh0ZW5kKHt9LHUsbiksaD1hLGc9MCxwPXtzdGFydDowLGVuZDowfSx2PTAsbT0hMCx3PWZ1bmN0aW9uKCl7Zm9yKHZhciBlIGluIGQpdS5oYXNPd25Qcm9wZXJ0eShlKXx8ZGVsZXRlIGRbZV07Zm9yKHZhciB0IGluIHUpTCh0KTtDKCl9LHk9e307dGhpcy5vbj1mdW5jdGlvbihlLHQpe3JldHVybiBpLnR5cGUuRnVuY3Rpb24odCkmJihlPWUudHJpbSgpLnNwbGl0KFwiIFwiKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIG49ZS5zcGxpdChcIi5cIikscj1uWzBdLGk9blsxXTtcIipcIiE9ciYmKHlbcl18fCh5W3JdPVtdKSx5W3JdLnB1c2goe25hbWVzcGFjZTppfHxcIlwiLGNhbGxiYWNrOnR9KSl9KSksZn0sdGhpcy5vZmY9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT8oZT1lLnRyaW0oKS5zcGxpdChcIiBcIiksZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWUuc3BsaXQoXCIuXCIpLHI9blswXSxpPW5bMV18fFwiXCIsbz1cIipcIj09PXI/T2JqZWN0LmtleXMoeSk6W3JdO28uZm9yRWFjaChmdW5jdGlvbihlKXtmb3IodmFyIG49eVtlXXx8W10scj1uLmxlbmd0aDtyLS07KXt2YXIgbz1uW3JdOyFvfHxpIT09by5uYW1lc3BhY2UmJlwiKlwiIT09aXx8dCYmdCE9by5jYWxsYmFja3x8bi5zcGxpY2UociwxKX1uLmxlbmd0aHx8ZGVsZXRlIHlbZV19KX0pLGYpOmZ9LHRoaXMudHJpZ2dlcj1mdW5jdGlvbih0LG4pe2lmKHQpe3ZhciByPXQudHJpbSgpLnNwbGl0KFwiLlwiKSxpPXJbMF0sbz1yWzFdLHM9eVtpXTtzJiZzLmZvckVhY2goZnVuY3Rpb24odCl7byYmbyE9PXQubmFtZXNwYWNlfHx0LmNhbGxiYWNrLmNhbGwoZixuZXcgZS5FdmVudChpLHQubmFtZXNwYWNlLGYsbikpfSl9cmV0dXJuIGZ9LGYub24oXCJjaGFuZ2UuaW50ZXJuYWxcIixmdW5jdGlvbihlKXtcImxvZ2xldmVsXCIhPT1lLndoYXQmJlwidHdlZW5DaGFuZ2VzXCIhPT1lLndoYXQmJihcInRyaWdnZXJFbGVtZW50XCI9PT1lLndoYXQ/RSgpOlwicmV2ZXJzZVwiPT09ZS53aGF0JiZmLnVwZGF0ZSgpKX0pLm9uKFwic2hpZnQuaW50ZXJuYWxcIixmdW5jdGlvbigpe1MoKSxmLnVwZGF0ZSgpfSksdGhpcy5hZGRUbz1mdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGUuQ29udHJvbGxlciYmcyE9dCYmKHMmJnMucmVtb3ZlU2NlbmUoZikscz10LEMoKSxiKCEwKSxFKCEwKSxTKCkscy5pbmZvKFwiY29udGFpbmVyXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix4KSx0LmFkZFNjZW5lKGYpLGYudHJpZ2dlcihcImFkZFwiLHtjb250cm9sbGVyOnN9KSxmLnVwZGF0ZSgpKSxmfSx0aGlzLmVuYWJsZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KG0hPWUmJihtPSEhZSxmLnVwZGF0ZSghMCkpLGYpOm19LHRoaXMucmVtb3ZlPWZ1bmN0aW9uKCl7aWYocyl7cy5pbmZvKFwiY29udGFpbmVyXCIpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix4KTt2YXIgZT1zO3M9dm9pZCAwLGUucmVtb3ZlU2NlbmUoZiksZi50cmlnZ2VyKFwicmVtb3ZlXCIpfXJldHVybiBmfSx0aGlzLmRlc3Ryb3k9ZnVuY3Rpb24oZSl7cmV0dXJuIGYudHJpZ2dlcihcImRlc3Ryb3lcIix7cmVzZXQ6ZX0pLGYucmVtb3ZlKCksZi5vZmYoXCIqLipcIiksbnVsbH0sdGhpcy51cGRhdGU9ZnVuY3Rpb24oZSl7aWYocylpZihlKWlmKHMuZW5hYmxlZCgpJiZtKXt2YXIgdCxuPXMuaW5mbyhcInNjcm9sbFBvc1wiKTt0PWQuZHVyYXRpb24+MD8obi1wLnN0YXJ0KS8ocC5lbmQtcC5zdGFydCk6bj49cC5zdGFydD8xOjAsZi50cmlnZ2VyKFwidXBkYXRlXCIse3N0YXJ0UG9zOnAuc3RhcnQsZW5kUG9zOnAuZW5kLHNjcm9sbFBvczpufSksZi5wcm9ncmVzcyh0KX1lbHNlIFQmJmg9PT1sJiZPKCEwKTtlbHNlIHMudXBkYXRlU2NlbmUoZiwhMSk7cmV0dXJuIGZ9LHRoaXMucmVmcmVzaD1mdW5jdGlvbigpe3JldHVybiBiKCksRSgpLGZ9LHRoaXMucHJvZ3Jlc3M9ZnVuY3Rpb24oZSl7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIHQ9ITEsbj1oLHI9cz9zLmluZm8oXCJzY3JvbGxEaXJlY3Rpb25cIik6XCJQQVVTRURcIixpPWQucmV2ZXJzZXx8ZT49ZztpZigwPT09ZC5kdXJhdGlvbj8odD1nIT1lLGc9MT5lJiZpPzA6MSxoPTA9PT1nP2E6bCk6MD5lJiZoIT09YSYmaT8oZz0wLGg9YSx0PSEwKTplPj0wJiYxPmUmJmk/KGc9ZSxoPWwsdD0hMCk6ZT49MSYmaCE9PWM/KGc9MSxoPWMsdD0hMCk6aCE9PWx8fGl8fE8oKSx0KXt2YXIgbz17cHJvZ3Jlc3M6ZyxzdGF0ZTpoLHNjcm9sbERpcmVjdGlvbjpyfSx1PWghPW4scD1mdW5jdGlvbihlKXtmLnRyaWdnZXIoZSxvKX07dSYmbiE9PWwmJihwKFwiZW50ZXJcIikscChuPT09YT9cInN0YXJ0XCI6XCJlbmRcIikpLHAoXCJwcm9ncmVzc1wiKSx1JiZoIT09bCYmKHAoaD09PWE/XCJzdGFydFwiOlwiZW5kXCIpLHAoXCJsZWF2ZVwiKSl9cmV0dXJuIGZ9cmV0dXJuIGd9O3ZhciBTPWZ1bmN0aW9uKCl7cD17c3RhcnQ6ditkLm9mZnNldH0scyYmZC50cmlnZ2VyRWxlbWVudCYmKHAuc3RhcnQtPXMuaW5mbyhcInNpemVcIikqZC50cmlnZ2VySG9vaykscC5lbmQ9cC5zdGFydCtkLmR1cmF0aW9ufSxiPWZ1bmN0aW9uKGUpe2lmKG8pe3ZhciB0PVwiZHVyYXRpb25cIjtGKHQsby5jYWxsKGYpKSYmIWUmJihmLnRyaWdnZXIoXCJjaGFuZ2VcIix7d2hhdDp0LG5ld3ZhbDpkW3RdfSksZi50cmlnZ2VyKFwic2hpZnRcIix7cmVhc29uOnR9KSl9fSxFPWZ1bmN0aW9uKGUpe3ZhciBuPTAscj1kLnRyaWdnZXJFbGVtZW50O2lmKHMmJnIpe2Zvcih2YXIgbz1zLmluZm8oKSxhPWkuZ2V0Lm9mZnNldChvLmNvbnRhaW5lciksbD1vLnZlcnRpY2FsP1widG9wXCI6XCJsZWZ0XCI7ci5wYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSh0KTspcj1yLnBhcmVudE5vZGU7dmFyIGM9aS5nZXQub2Zmc2V0KHIpO28uaXNEb2N1bWVudHx8KGFbbF0tPXMuc2Nyb2xsUG9zKCkpLG49Y1tsXS1hW2xdfXZhciB1PW4hPXY7dj1uLHUmJiFlJiZmLnRyaWdnZXIoXCJzaGlmdFwiLHtyZWFzb246XCJ0cmlnZ2VyRWxlbWVudFBvc2l0aW9uXCJ9KX0seD1mdW5jdGlvbigpe2QudHJpZ2dlckhvb2s+MCYmZi50cmlnZ2VyKFwic2hpZnRcIix7cmVhc29uOlwiY29udGFpbmVyUmVzaXplXCJ9KX0sej1pLmV4dGVuZChyLnZhbGlkYXRlLHtkdXJhdGlvbjpmdW5jdGlvbihlKXtpZihpLnR5cGUuU3RyaW5nKGUpJiZlLm1hdGNoKC9eKFxcLnxcXGQpKlxcZCslJC8pKXt2YXIgdD1wYXJzZUZsb2F0KGUpLzEwMDtlPWZ1bmN0aW9uKCl7cmV0dXJuIHM/cy5pbmZvKFwic2l6ZVwiKSp0OjB9fWlmKGkudHlwZS5GdW5jdGlvbihlKSl7bz1lO3RyeXtlPXBhcnNlRmxvYXQobygpKX1jYXRjaChuKXtlPS0xfX1pZihlPXBhcnNlRmxvYXQoZSksIWkudHlwZS5OdW1iZXIoZSl8fDA+ZSl0aHJvdyBvPyhvPXZvaWQgMCwwKTowO3JldHVybiBlfX0pLEM9ZnVuY3Rpb24oZSl7ZT1hcmd1bWVudHMubGVuZ3RoP1tlXTpPYmplY3Qua2V5cyh6KSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7aWYoeltlXSl0cnl7dD16W2VdKGRbZV0pfWNhdGNoKG4pe3Q9dVtlXX1maW5hbGx5e2RbZV09dH19KX0sRj1mdW5jdGlvbihlLHQpe3ZhciBuPSExLHI9ZFtlXTtyZXR1cm4gZFtlXSE9dCYmKGRbZV09dCxDKGUpLG49ciE9ZFtlXSksbn0sTD1mdW5jdGlvbihlKXtmW2VdfHwoZltlXT1mdW5jdGlvbih0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oXCJkdXJhdGlvblwiPT09ZSYmKG89dm9pZCAwKSxGKGUsdCkmJihmLnRyaWdnZXIoXCJjaGFuZ2VcIix7d2hhdDplLG5ld3ZhbDpkW2VdfSksci5zaGlmdHMuaW5kZXhPZihlKT4tMSYmZi50cmlnZ2VyKFwic2hpZnRcIix7cmVhc29uOmV9KSksZik6ZFtlXX0pfTt0aGlzLmNvbnRyb2xsZXI9ZnVuY3Rpb24oKXtyZXR1cm4gc30sdGhpcy5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiBofSx0aGlzLnNjcm9sbE9mZnNldD1mdW5jdGlvbigpe3JldHVybiBwLnN0YXJ0fSx0aGlzLnRyaWdnZXJQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBlPWQub2Zmc2V0O3JldHVybiBzJiYoZSs9ZC50cmlnZ2VyRWxlbWVudD92OnMuaW5mbyhcInNpemVcIikqZi50cmlnZ2VySG9vaygpKSxlfTt2YXIgVCxBO2Yub24oXCJzaGlmdC5pbnRlcm5hbFwiLGZ1bmN0aW9uKGUpe3ZhciB0PVwiZHVyYXRpb25cIj09PWUucmVhc29uOyhoPT09YyYmdHx8aD09PWwmJjA9PT1kLmR1cmF0aW9uKSYmTygpLHQmJl8oKX0pLm9uKFwicHJvZ3Jlc3MuaW50ZXJuYWxcIixmdW5jdGlvbigpe08oKX0pLm9uKFwiYWRkLmludGVybmFsXCIsZnVuY3Rpb24oKXtfKCl9KS5vbihcImRlc3Ryb3kuaW50ZXJuYWxcIixmdW5jdGlvbihlKXtmLnJlbW92ZVBpbihlLnJlc2V0KX0pO3ZhciBPPWZ1bmN0aW9uKGUpe2lmKFQmJnMpe3ZhciB0PXMuaW5mbygpLG49QS5zcGFjZXIuZmlyc3RDaGlsZDtpZihlfHxoIT09bCl7dmFyIHI9e3Bvc2l0aW9uOkEuaW5GbG93P1wicmVsYXRpdmVcIjpcImFic29sdXRlXCIsdG9wOjAsbGVmdDowfSxvPWkuY3NzKG4sXCJwb3NpdGlvblwiKSE9ci5wb3NpdGlvbjtBLnB1c2hGb2xsb3dlcnM/ZC5kdXJhdGlvbj4wJiYoaD09PWMmJjA9PT1wYXJzZUZsb2F0KGkuY3NzKEEuc3BhY2VyLFwicGFkZGluZy10b3BcIikpP289ITA6aD09PWEmJjA9PT1wYXJzZUZsb2F0KGkuY3NzKEEuc3BhY2VyLFwicGFkZGluZy1ib3R0b21cIikpJiYobz0hMCkpOnJbdC52ZXJ0aWNhbD9cInRvcFwiOlwibGVmdFwiXT1kLmR1cmF0aW9uKmcsaS5jc3MobixyKSxvJiZfKCl9ZWxzZXtcImZpeGVkXCIhPWkuY3NzKG4sXCJwb3NpdGlvblwiKSYmKGkuY3NzKG4se3Bvc2l0aW9uOlwiZml4ZWRcIn0pLF8oKSk7dmFyIHU9aS5nZXQub2Zmc2V0KEEuc3BhY2VyLCEwKSxmPWQucmV2ZXJzZXx8MD09PWQuZHVyYXRpb24/dC5zY3JvbGxQb3MtcC5zdGFydDpNYXRoLnJvdW5kKGcqZC5kdXJhdGlvbioxMCkvMTA7dVt0LnZlcnRpY2FsP1widG9wXCI6XCJsZWZ0XCJdKz1mLGkuY3NzKEEuc3BhY2VyLmZpcnN0Q2hpbGQse3RvcDp1LnRvcCxsZWZ0OnUubGVmdH0pfX19LF89ZnVuY3Rpb24oKXtpZihUJiZzJiZBLmluRmxvdyl7dmFyIGU9aD09PWwsdD1zLmluZm8oXCJ2ZXJ0aWNhbFwiKSxuPUEuc3BhY2VyLmZpcnN0Q2hpbGQscj1pLmlzTWFyZ2luQ29sbGFwc2VUeXBlKGkuY3NzKEEuc3BhY2VyLFwiZGlzcGxheVwiKSksbz17fTtBLnJlbFNpemUud2lkdGh8fEEucmVsU2l6ZS5hdXRvRnVsbFdpZHRoP2U/aS5jc3MoVCx7d2lkdGg6aS5nZXQud2lkdGgoQS5zcGFjZXIpfSk6aS5jc3MoVCx7d2lkdGg6XCIxMDAlXCJ9KToob1tcIm1pbi13aWR0aFwiXT1pLmdldC53aWR0aCh0P1Q6biwhMCwhMCksby53aWR0aD1lP29bXCJtaW4td2lkdGhcIl06XCJhdXRvXCIpLEEucmVsU2l6ZS5oZWlnaHQ/ZT9pLmNzcyhULHtoZWlnaHQ6aS5nZXQuaGVpZ2h0KEEuc3BhY2VyKS0oQS5wdXNoRm9sbG93ZXJzP2QuZHVyYXRpb246MCl9KTppLmNzcyhULHtoZWlnaHQ6XCIxMDAlXCJ9KToob1tcIm1pbi1oZWlnaHRcIl09aS5nZXQuaGVpZ2h0KHQ/bjpULCEwLCFyKSxvLmhlaWdodD1lP29bXCJtaW4taGVpZ2h0XCJdOlwiYXV0b1wiKSxBLnB1c2hGb2xsb3dlcnMmJihvW1wicGFkZGluZ1wiKyh0P1wiVG9wXCI6XCJMZWZ0XCIpXT1kLmR1cmF0aW9uKmcsb1tcInBhZGRpbmdcIisodD9cIkJvdHRvbVwiOlwiUmlnaHRcIildPWQuZHVyYXRpb24qKDEtZykpLGkuY3NzKEEuc3BhY2VyLG8pfX0sTj1mdW5jdGlvbigpe3MmJlQmJmg9PT1sJiYhcy5pbmZvKFwiaXNEb2N1bWVudFwiKSYmTygpfSxQPWZ1bmN0aW9uKCl7cyYmVCYmaD09PWwmJigoQS5yZWxTaXplLndpZHRofHxBLnJlbFNpemUuYXV0b0Z1bGxXaWR0aCkmJmkuZ2V0LndpZHRoKHdpbmRvdykhPWkuZ2V0LndpZHRoKEEuc3BhY2VyLnBhcmVudE5vZGUpfHxBLnJlbFNpemUuaGVpZ2h0JiZpLmdldC5oZWlnaHQod2luZG93KSE9aS5nZXQuaGVpZ2h0KEEuc3BhY2VyLnBhcmVudE5vZGUpKSYmXygpfSxEPWZ1bmN0aW9uKGUpe3MmJlQmJmg9PT1sJiYhcy5pbmZvKFwiaXNEb2N1bWVudFwiKSYmKGUucHJldmVudERlZmF1bHQoKSxzLl9zZXRTY3JvbGxQb3Mocy5pbmZvKFwic2Nyb2xsUG9zXCIpLSgoZS53aGVlbERlbHRhfHxlW3MuaW5mbyhcInZlcnRpY2FsXCIpP1wid2hlZWxEZWx0YVlcIjpcIndoZWVsRGVsdGFYXCJdKS8zfHwzMCotZS5kZXRhaWwpKSl9O3RoaXMuc2V0UGluPWZ1bmN0aW9uKGUsbil7dmFyIHI9e3B1c2hGb2xsb3dlcnM6ITAsc3BhY2VyQ2xhc3M6XCJzY3JvbGxtYWdpYy1waW4tc3BhY2VyXCJ9O2lmKG49aS5leHRlbmQoe30scixuKSxlPWkuZ2V0LmVsZW1lbnRzKGUpWzBdLCFlKXJldHVybiBmO2lmKFwiZml4ZWRcIj09PWkuY3NzKGUsXCJwb3NpdGlvblwiKSlyZXR1cm4gZjtpZihUKXtpZihUPT09ZSlyZXR1cm4gZjtmLnJlbW92ZVBpbigpfVQ9ZTt2YXIgbz1ULnBhcmVudE5vZGUuc3R5bGUuZGlzcGxheSxzPVtcInRvcFwiLFwibGVmdFwiLFwiYm90dG9tXCIsXCJyaWdodFwiLFwibWFyZ2luXCIsXCJtYXJnaW5MZWZ0XCIsXCJtYXJnaW5SaWdodFwiLFwibWFyZ2luVG9wXCIsXCJtYXJnaW5Cb3R0b21cIl07VC5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7dmFyIGE9XCJhYnNvbHV0ZVwiIT1pLmNzcyhULFwicG9zaXRpb25cIiksbD1pLmNzcyhULHMuY29uY2F0KFtcImRpc3BsYXlcIl0pKSxjPWkuY3NzKFQsW1wid2lkdGhcIixcImhlaWdodFwiXSk7VC5wYXJlbnROb2RlLnN0eWxlLmRpc3BsYXk9bywhYSYmbi5wdXNoRm9sbG93ZXJzJiYobi5wdXNoRm9sbG93ZXJzPSExKTt2YXIgdT1ULnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksVCksZD1pLmV4dGVuZChsLHtwb3NpdGlvbjphP1wicmVsYXRpdmVcIjpcImFic29sdXRlXCIsYm94U2l6aW5nOlwiY29udGVudC1ib3hcIixtb3pCb3hTaXppbmc6XCJjb250ZW50LWJveFwiLHdlYmtpdEJveFNpemluZzpcImNvbnRlbnQtYm94XCJ9KTtpZihhfHxpLmV4dGVuZChkLGkuY3NzKFQsW1wid2lkdGhcIixcImhlaWdodFwiXSkpLGkuY3NzKHUsZCksdS5zZXRBdHRyaWJ1dGUodCxcIlwiKSxpLmFkZENsYXNzKHUsbi5zcGFjZXJDbGFzcyksQT17c3BhY2VyOnUscmVsU2l6ZTp7d2lkdGg6XCIlXCI9PT1jLndpZHRoLnNsaWNlKC0xKSxoZWlnaHQ6XCIlXCI9PT1jLmhlaWdodC5zbGljZSgtMSksYXV0b0Z1bGxXaWR0aDpcImF1dG9cIj09PWMud2lkdGgmJmEmJmkuaXNNYXJnaW5Db2xsYXBzZVR5cGUobC5kaXNwbGF5KX0scHVzaEZvbGxvd2VyczpuLnB1c2hGb2xsb3dlcnMsaW5GbG93OmF9LCFULl9fX29yaWdTdHlsZSl7VC5fX19vcmlnU3R5bGU9e307dmFyIGg9VC5zdHlsZSxnPXMuY29uY2F0KFtcIndpZHRoXCIsXCJoZWlnaHRcIixcInBvc2l0aW9uXCIsXCJib3hTaXppbmdcIixcIm1vekJveFNpemluZ1wiLFwid2Via2l0Qm94U2l6aW5nXCJdKTtnLmZvckVhY2goZnVuY3Rpb24oZSl7VC5fX19vcmlnU3R5bGVbZV09aFtlXXx8XCJcIn0pfXJldHVybiBBLnJlbFNpemUud2lkdGgmJmkuY3NzKHUse3dpZHRoOmMud2lkdGh9KSxBLnJlbFNpemUuaGVpZ2h0JiZpLmNzcyh1LHtoZWlnaHQ6Yy5oZWlnaHR9KSx1LmFwcGVuZENoaWxkKFQpLGkuY3NzKFQse3Bvc2l0aW9uOmE/XCJyZWxhdGl2ZVwiOlwiYWJzb2x1dGVcIixtYXJnaW46XCJhdXRvXCIsdG9wOlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wiLHJpZ2h0OlwiYXV0b1wifSksKEEucmVsU2l6ZS53aWR0aHx8QS5yZWxTaXplLmF1dG9GdWxsV2lkdGgpJiZpLmNzcyhULHtib3hTaXppbmc6XCJib3JkZXItYm94XCIsbW96Qm94U2l6aW5nOlwiYm9yZGVyLWJveFwiLHdlYmtpdEJveFNpemluZzpcImJvcmRlci1ib3hcIn0pLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsTiksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixOKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLFApLFQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNld2hlZWxcIixEKSxULmFkZEV2ZW50TGlzdGVuZXIoXCJET01Nb3VzZVNjcm9sbFwiLEQpLE8oKSxmfSx0aGlzLnJlbW92ZVBpbj1mdW5jdGlvbihlKXtpZihUKXtpZihoPT09bCYmTyghMCksZXx8IXMpe3ZhciBuPUEuc3BhY2VyLmZpcnN0Q2hpbGQ7aWYobi5oYXNBdHRyaWJ1dGUodCkpe3ZhciByPUEuc3BhY2VyLnN0eWxlLG89W1wibWFyZ2luXCIsXCJtYXJnaW5MZWZ0XCIsXCJtYXJnaW5SaWdodFwiLFwibWFyZ2luVG9wXCIsXCJtYXJnaW5Cb3R0b21cIl07bWFyZ2lucz17fSxvLmZvckVhY2goZnVuY3Rpb24oZSl7bWFyZ2luc1tlXT1yW2VdfHxcIlwifSksaS5jc3MobixtYXJnaW5zKX1BLnNwYWNlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZShuLEEuc3BhY2VyKSxBLnNwYWNlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKEEuc3BhY2VyKSxULnBhcmVudE5vZGUuaGFzQXR0cmlidXRlKHQpfHwoaS5jc3MoVCxULl9fX29yaWdTdHlsZSksZGVsZXRlIFQuX19fb3JpZ1N0eWxlKX13aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLE4pLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsTiksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixQKSxULnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXdoZWVsXCIsRCksVC5yZW1vdmVFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIixEKSxUPXZvaWQgMH1yZXR1cm4gZn07dmFyIFIsaz1bXTtyZXR1cm4gZi5vbihcImRlc3Ryb3kuaW50ZXJuYWxcIixmdW5jdGlvbihlKXtmLnJlbW92ZUNsYXNzVG9nZ2xlKGUucmVzZXQpfSksdGhpcy5zZXRDbGFzc1RvZ2dsZT1mdW5jdGlvbihlLHQpe3ZhciBuPWkuZ2V0LmVsZW1lbnRzKGUpO3JldHVybiAwIT09bi5sZW5ndGgmJmkudHlwZS5TdHJpbmcodCk/KGsubGVuZ3RoPjAmJmYucmVtb3ZlQ2xhc3NUb2dnbGUoKSxSPXQsaz1uLGYub24oXCJlbnRlci5pbnRlcm5hbF9jbGFzcyBsZWF2ZS5pbnRlcm5hbF9jbGFzc1wiLGZ1bmN0aW9uKGUpe3ZhciB0PVwiZW50ZXJcIj09PWUudHlwZT9pLmFkZENsYXNzOmkucmVtb3ZlQ2xhc3M7ay5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QoZSxSKX0pfSksZik6Zn0sdGhpcy5yZW1vdmVDbGFzc1RvZ2dsZT1mdW5jdGlvbihlKXtyZXR1cm4gZSYmay5mb3JFYWNoKGZ1bmN0aW9uKGUpe2kucmVtb3ZlQ2xhc3MoZSxSKX0pLGYub2ZmKFwic3RhcnQuaW50ZXJuYWxfY2xhc3MgZW5kLmludGVybmFsX2NsYXNzXCIpLFI9dm9pZCAwLGs9W10sZn0sdygpLGZ9O3ZhciByPXtkZWZhdWx0czp7ZHVyYXRpb246MCxvZmZzZXQ6MCx0cmlnZ2VyRWxlbWVudDp2b2lkIDAsdHJpZ2dlckhvb2s6LjUscmV2ZXJzZTohMCxsb2dsZXZlbDoyfSx2YWxpZGF0ZTp7b2Zmc2V0OmZ1bmN0aW9uKGUpe2lmKGU9cGFyc2VGbG9hdChlKSwhaS50eXBlLk51bWJlcihlKSl0aHJvdyAwO3JldHVybiBlfSx0cmlnZ2VyRWxlbWVudDpmdW5jdGlvbihlKXtpZihlPWV8fHZvaWQgMCl7dmFyIHQ9aS5nZXQuZWxlbWVudHMoZSlbMF07aWYoIXQpdGhyb3cgMDtlPXR9cmV0dXJuIGV9LHRyaWdnZXJIb29rOmZ1bmN0aW9uKGUpe3ZhciB0PXtvbkNlbnRlcjouNSxvbkVudGVyOjEsb25MZWF2ZTowfTtpZihpLnR5cGUuTnVtYmVyKGUpKWU9TWF0aC5tYXgoMCxNYXRoLm1pbihwYXJzZUZsb2F0KGUpLDEpKTtlbHNle2lmKCEoZSBpbiB0KSl0aHJvdyAwO2U9dFtlXX1yZXR1cm4gZX0scmV2ZXJzZTpmdW5jdGlvbihlKXtyZXR1cm4hIWV9fSxzaGlmdHM6W1wiZHVyYXRpb25cIixcIm9mZnNldFwiLFwidHJpZ2dlckhvb2tcIl19O2UuU2NlbmUuYWRkT3B0aW9uPWZ1bmN0aW9uKGUsdCxuLGkpe2UgaW4gci5kZWZhdWx0c3x8KHIuZGVmYXVsdHNbZV09dCxyLnZhbGlkYXRlW2VdPW4saSYmci5zaGlmdHMucHVzaChlKSl9LGUuU2NlbmUuZXh0ZW5kPWZ1bmN0aW9uKHQpe3ZhciBuPXRoaXM7ZS5TY2VuZT1mdW5jdGlvbigpe3JldHVybiBuLmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLiRzdXBlcj1pLmV4dGVuZCh7fSx0aGlzKSx0LmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpc30saS5leHRlbmQoZS5TY2VuZSxuKSxlLlNjZW5lLnByb3RvdHlwZT1uLnByb3RvdHlwZSxlLlNjZW5lLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1lLlNjZW5lfSxlLkV2ZW50PWZ1bmN0aW9uKGUsdCxuLHIpe3I9cnx8e307Zm9yKHZhciBpIGluIHIpdGhpc1tpXT1yW2ldO3JldHVybiB0aGlzLnR5cGU9ZSx0aGlzLnRhcmdldD10aGlzLmN1cnJlbnRUYXJnZXQ9bix0aGlzLm5hbWVzcGFjZT10fHxcIlwiLHRoaXMudGltZVN0YW1wPXRoaXMudGltZXN0YW1wPURhdGUubm93KCksdGhpc307dmFyIGk9ZS5fdXRpbD1mdW5jdGlvbihlKXt2YXIgdCxuPXt9LHI9ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlRmxvYXQoZSl8fDB9LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHQuY3VycmVudFN0eWxlP3QuY3VycmVudFN0eWxlOmUuZ2V0Q29tcHV0ZWRTdHlsZSh0KX0sbz1mdW5jdGlvbih0LG4sbyxzKXtpZihuPW49PT1kb2N1bWVudD9lOm4sbj09PWUpcz0hMTtlbHNlIGlmKCFmLkRvbUVsZW1lbnQobikpcmV0dXJuIDA7dD10LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK3Quc3Vic3RyKDEpLnRvTG93ZXJDYXNlKCk7dmFyIGE9KG8/bltcIm9mZnNldFwiK3RdfHxuW1wib3V0ZXJcIit0XTpuW1wiY2xpZW50XCIrdF18fG5bXCJpbm5lclwiK3RdKXx8MDtpZihvJiZzKXt2YXIgbD1pKG4pO2ErPVwiSGVpZ2h0XCI9PT10P3IobC5tYXJnaW5Ub3ApK3IobC5tYXJnaW5Cb3R0b20pOnIobC5tYXJnaW5MZWZ0KStyKGwubWFyZ2luUmlnaHQpfXJldHVybiBhfSxzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15bXmEtel0rKFthLXpdKS9nLFwiJDFcIikucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihlKXtyZXR1cm4gZVsxXS50b1VwcGVyQ2FzZSgpfSl9O24uZXh0ZW5kPWZ1bmN0aW9uKGUpe2ZvcihlPWV8fHt9LHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKWlmKGFyZ3VtZW50c1t0XSlmb3IodmFyIG4gaW4gYXJndW1lbnRzW3RdKWFyZ3VtZW50c1t0XS5oYXNPd25Qcm9wZXJ0eShuKSYmKGVbbl09YXJndW1lbnRzW3RdW25dKTtyZXR1cm4gZX0sbi5pc01hcmdpbkNvbGxhcHNlVHlwZT1mdW5jdGlvbihlKXtyZXR1cm5bXCJibG9ja1wiLFwiZmxleFwiLFwibGlzdC1pdGVtXCIsXCJ0YWJsZVwiLFwiLXdlYmtpdC1ib3hcIl0uaW5kZXhPZihlKT4tMX07dmFyIGE9MCxsPVtcIm1zXCIsXCJtb3pcIixcIndlYmtpdFwiLFwib1wiXSxjPWUucmVxdWVzdEFuaW1hdGlvbkZyYW1lLHU9ZS5jYW5jZWxBbmltYXRpb25GcmFtZTtmb3IodD0wOyFjJiZ0PGwubGVuZ3RoOysrdCljPWVbbFt0XStcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSx1PWVbbFt0XStcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHxlW2xbdF0rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07Y3x8KGM9ZnVuY3Rpb24odCl7dmFyIG49KG5ldyBEYXRlKS5nZXRUaW1lKCkscj1NYXRoLm1heCgwLDE2LShuLWEpKSxpPWUuc2V0VGltZW91dChmdW5jdGlvbigpe3QobityKX0scik7cmV0dXJuIGE9bityLGl9KSx1fHwodT1mdW5jdGlvbih0KXtlLmNsZWFyVGltZW91dCh0KX0pLG4uckFGPWMuYmluZChlKSxuLmNBRj11LmJpbmQoZSk7dmFyIGY9bi50eXBlPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkucmVwbGFjZSgvXlxcW29iamVjdCAoLispXFxdJC8sXCIkMVwiKS50b0xvd2VyQ2FzZSgpfTtmLlN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm5cInN0cmluZ1wiPT09ZihlKX0sZi5GdW5jdGlvbj1mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PT1mKGUpfSxmLkFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpfSxmLk51bWJlcj1mdW5jdGlvbihlKXtyZXR1cm4hZi5BcnJheShlKSYmZS1wYXJzZUZsb2F0KGUpKzE+PTB9LGYuRG9tRWxlbWVudD1mdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgSFRNTEVsZW1lbnQ/ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50OmUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiZudWxsIT09ZSYmMT09PWUubm9kZVR5cGUmJlwic3RyaW5nXCI9PXR5cGVvZiBlLm5vZGVOYW1lfTt2YXIgZD1uLmdldD17fTtyZXR1cm4gZC5lbGVtZW50cz1mdW5jdGlvbih0KXt2YXIgbj1bXTtpZihmLlN0cmluZyh0KSl0cnl7dD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHQpfWNhdGNoKHIpe3JldHVybiBufWlmKFwibm9kZWxpc3RcIj09PWYodCl8fGYuQXJyYXkodCkpZm9yKHZhciBpPTAsbz1uLmxlbmd0aD10Lmxlbmd0aDtvPmk7aSsrKXt2YXIgcz10W2ldO25baV09Zi5Eb21FbGVtZW50KHMpP3M6ZC5lbGVtZW50cyhzKX1lbHNlKGYuRG9tRWxlbWVudCh0KXx8dD09PWRvY3VtZW50fHx0PT09ZSkmJihuPVt0XSk7cmV0dXJuIG59LGQuc2Nyb2xsVG9wPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5zY3JvbGxUb3A/dC5zY3JvbGxUb3A6ZS5wYWdlWU9mZnNldHx8MH0sZC5zY3JvbGxMZWZ0PWZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5zY3JvbGxMZWZ0P3Quc2Nyb2xsTGVmdDplLnBhZ2VYT2Zmc2V0fHwwfSxkLndpZHRoPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gbyhcIndpZHRoXCIsZSx0LG4pfSxkLmhlaWdodD1mdW5jdGlvbihlLHQsbil7cmV0dXJuIG8oXCJoZWlnaHRcIixlLHQsbil9LGQub2Zmc2V0PWZ1bmN0aW9uKGUsdCl7dmFyIG49e3RvcDowLGxlZnQ6MH07aWYoZSYmZS5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciByPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bi50b3A9ci50b3Asbi5sZWZ0PXIubGVmdCx0fHwobi50b3ArPWQuc2Nyb2xsVG9wKCksbi5sZWZ0Kz1kLnNjcm9sbExlZnQoKSl9cmV0dXJuIG59LG4uYWRkQ2xhc3M9ZnVuY3Rpb24oZSx0KXt0JiYoZS5jbGFzc0xpc3Q/ZS5jbGFzc0xpc3QuYWRkKHQpOmUuY2xhc3NOYW1lKz1cIiBcIit0KX0sbi5yZW1vdmVDbGFzcz1mdW5jdGlvbihlLHQpe3QmJihlLmNsYXNzTGlzdD9lLmNsYXNzTGlzdC5yZW1vdmUodCk6ZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUucmVwbGFjZShSZWdFeHAoXCIoXnxcXFxcYilcIit0LnNwbGl0KFwiIFwiKS5qb2luKFwifFwiKStcIihcXFxcYnwkKVwiLFwiZ2lcIiksXCIgXCIpKX0sbi5jc3M9ZnVuY3Rpb24oZSx0KXtpZihmLlN0cmluZyh0KSlyZXR1cm4gaShlKVtzKHQpXTtpZihmLkFycmF5KHQpKXt2YXIgbj17fSxyPWkoZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtuW2VdPXJbcyhlKV19KSxufWZvcih2YXIgbyBpbiB0KXt2YXIgYT10W29dO2E9PXBhcnNlRmxvYXQoYSkmJihhKz1cInB4XCIpLGUuc3R5bGVbcyhvKV09YX19LG59KHdpbmRvd3x8e30pO3JldHVybiBlfSk7Il0sImZpbGUiOiJTY3JvbGxNYWdpYy5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(e,n){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],n):"object"==typeof exports?(require("gsap"),n(require("scrollmagic"),TweenMax,TimelineMax)):n(e.ScrollMagic||e.jQuery&&e.jQuery.ScrollMagic,e.TweenMax||e.TweenLite,e.TimelineMax||e.TimelineLite)}(this,function(e,n,r){"use strict";e.Scene.addOption("tweenChanges",!1,function(e){return!!e}),e.Scene.extend(function(){var e,t=this;t.on("progress.plugin_gsap",function(){i()}),t.on("destroy.plugin_gsap",function(e){t.removeTween(e.reset)});var i=function(){if(e){var n=t.progress(),r=t.state();e.repeat&&-1===e.repeat()?"DURING"===r&&e.paused()?e.play():"DURING"===r||e.paused()||e.pause():n!=e.progress()&&(0===t.duration()?n>0?e.play():e.reverse():t.tweenChanges()&&e.tweenTo?e.tweenTo(n*e.duration()):e.progress(n).pause())}};t.setTween=function(o,a,s){var u;arguments.length>1&&(arguments.length<3&&(s=a,a=1),o=n.to(o,a,s));try{u=r?new r({smoothChildTiming:!0}).add(o):o,u.pause()}catch(p){return t}return e&&t.removeTween(),e=u,o.repeat&&-1===o.repeat()&&(e.repeat(-1),e.yoyo(o.yoyo())),i(),t},t.removeTween=function(n){return e&&(n&&e.progress(0).pause(),e.kill(),e=void 0),t}})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJhbmltYXRpb24uZ3NhcC5taW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIFNjcm9sbE1hZ2ljIHYyLjAuNSB8IChjKSAyMDE1IEphbiBQYWVwa2UgKEBqYW5wYWVwa2UpIHwgbGljZW5zZSAmIGluZm86IGh0dHA6Ly9zY3JvbGxtYWdpYy5pbyAqL1xuIWZ1bmN0aW9uKGUsbil7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJTY3JvbGxNYWdpY1wiLFwiVHdlZW5NYXhcIixcIlRpbWVsaW5lTWF4XCJdLG4pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzPyhyZXF1aXJlKFwiZ3NhcFwiKSxuKHJlcXVpcmUoXCJzY3JvbGxtYWdpY1wiKSxUd2Vlbk1heCxUaW1lbGluZU1heCkpOm4oZS5TY3JvbGxNYWdpY3x8ZS5qUXVlcnkmJmUualF1ZXJ5LlNjcm9sbE1hZ2ljLGUuVHdlZW5NYXh8fGUuVHdlZW5MaXRlLGUuVGltZWxpbmVNYXh8fGUuVGltZWxpbmVMaXRlKX0odGhpcyxmdW5jdGlvbihlLG4scil7XCJ1c2Ugc3RyaWN0XCI7ZS5TY2VuZS5hZGRPcHRpb24oXCJ0d2VlbkNoYW5nZXNcIiwhMSxmdW5jdGlvbihlKXtyZXR1cm4hIWV9KSxlLlNjZW5lLmV4dGVuZChmdW5jdGlvbigpe3ZhciBlLHQ9dGhpczt0Lm9uKFwicHJvZ3Jlc3MucGx1Z2luX2dzYXBcIixmdW5jdGlvbigpe2koKX0pLHQub24oXCJkZXN0cm95LnBsdWdpbl9nc2FwXCIsZnVuY3Rpb24oZSl7dC5yZW1vdmVUd2VlbihlLnJlc2V0KX0pO3ZhciBpPWZ1bmN0aW9uKCl7aWYoZSl7dmFyIG49dC5wcm9ncmVzcygpLHI9dC5zdGF0ZSgpO2UucmVwZWF0JiYtMT09PWUucmVwZWF0KCk/XCJEVVJJTkdcIj09PXImJmUucGF1c2VkKCk/ZS5wbGF5KCk6XCJEVVJJTkdcIj09PXJ8fGUucGF1c2VkKCl8fGUucGF1c2UoKTpuIT1lLnByb2dyZXNzKCkmJigwPT09dC5kdXJhdGlvbigpP24+MD9lLnBsYXkoKTplLnJldmVyc2UoKTp0LnR3ZWVuQ2hhbmdlcygpJiZlLnR3ZWVuVG8/ZS50d2VlblRvKG4qZS5kdXJhdGlvbigpKTplLnByb2dyZXNzKG4pLnBhdXNlKCkpfX07dC5zZXRUd2Vlbj1mdW5jdGlvbihvLGEscyl7dmFyIHU7YXJndW1lbnRzLmxlbmd0aD4xJiYoYXJndW1lbnRzLmxlbmd0aDwzJiYocz1hLGE9MSksbz1uLnRvKG8sYSxzKSk7dHJ5e3U9cj9uZXcgcih7c21vb3RoQ2hpbGRUaW1pbmc6ITB9KS5hZGQobyk6byx1LnBhdXNlKCl9Y2F0Y2gocCl7cmV0dXJuIHR9cmV0dXJuIGUmJnQucmVtb3ZlVHdlZW4oKSxlPXUsby5yZXBlYXQmJi0xPT09by5yZXBlYXQoKSYmKGUucmVwZWF0KC0xKSxlLnlveW8oby55b3lvKCkpKSxpKCksdH0sdC5yZW1vdmVUd2Vlbj1mdW5jdGlvbihuKXtyZXR1cm4gZSYmKG4mJmUucHJvZ3Jlc3MoMCkucGF1c2UoKSxlLmtpbGwoKSxlPXZvaWQgMCksdH19KX0pOyJdLCJmaWxlIjoiYW5pbWF0aW9uLmdzYXAubWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/*!
 * Flickity PACKAGED v1.1.1
 * Touch, responsive, flickable galleries
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://flickity.metafizzy.co
 * Copyright 2015 Metafizzy
 */

!function(t){function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,i){t.fn[e]=function(o){if("string"==typeof o){for(var s=n.call(arguments,1),a=0,l=this.length;l>a;a++){var c=this[a],h=t.data(c,e);if(h)if(t.isFunction(h[o])&&"_"!==o.charAt(0)){var p=h[o].apply(h,s);if(void 0!==p)return p}else r("no such method '"+o+"' for "+e+" instance");else r("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}return this.each(function(){var n=t.data(this,e);n?(n.option(o),n._init()):(n=new i(this,o),t.data(this,e,n))})}}if(t){var r="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),o(t,e)},t.bridget}}var n=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):t.jQuery)}(window),function(t){function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function i(t,e){var i=n(t,e)?r:o;i(t,e)}var n,o,r;"classList"in document.documentElement?(n=function(t,e){return t.classList.contains(e)},o=function(t,e){t.classList.add(e)},r=function(t,e){t.classList.remove(e)}):(n=function(t,i){return e(i).test(t.className)},o=function(t,e){n(t,e)||(t.className=t.className+" "+e)},r=function(t,i){t.className=t.className.replace(e(i)," ")});var s={hasClass:n,addClass:o,removeClass:r,toggleClass:i,has:n,add:o,remove:r,toggle:i};"function"==typeof define&&define.amd?define("classie/classie",s):"object"==typeof exports?module.exports=s:t.classie=s}(window),function(){function t(){}function e(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function i(t){return function(){return this[t].apply(this,arguments)}}var n=t.prototype,o=this,r=o.EventEmitter;n.getListeners=function(t){var e,i,n=this._getEvents();if(t instanceof RegExp){e={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(e[i]=n[i])}else e=n[t]||(n[t]=[]);return e},n.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},n.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&(e={},e[t]=i),e||i},n.addListener=function(t,i){var n,o=this.getListenersAsObject(t),r="object"==typeof i;for(n in o)o.hasOwnProperty(n)&&-1===e(o[n],i)&&o[n].push(r?i:{listener:i,once:!1});return this},n.on=i("addListener"),n.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},n.once=i("addOnceListener"),n.defineEvent=function(t){return this.getListeners(t),this},n.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},n.removeListener=function(t,i){var n,o,r=this.getListenersAsObject(t);for(o in r)r.hasOwnProperty(o)&&(n=e(r[o],i),-1!==n&&r[o].splice(n,1));return this},n.off=i("removeListener"),n.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},n.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},n.manipulateListeners=function(t,e,i){var n,o,r=t?this.removeListener:this.addListener,s=t?this.removeListeners:this.addListeners;if("object"!=typeof e||e instanceof RegExp)for(n=i.length;n--;)r.call(this,e,i[n]);else for(n in e)e.hasOwnProperty(n)&&(o=e[n])&&("function"==typeof o?r.call(this,n,o):s.call(this,n,o));return this},n.removeEvent=function(t){var e,i=typeof t,n=this._getEvents();if("string"===i)delete n[t];else if(t instanceof RegExp)for(e in n)n.hasOwnProperty(e)&&t.test(e)&&delete n[e];else delete this._events;return this},n.removeAllListeners=i("removeEvent"),n.emitEvent=function(t,e){var i,n,o,r,s=this.getListenersAsObject(t);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].length;n--;)i=s[o][n],i.once===!0&&this.removeListener(t,i.listener),r=i.listener.apply(this,e||[]),r===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},n.trigger=i("emitEvent"),n.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},n.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},n._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},n._getEvents=function(){return this._events||(this._events={})},t.noConflict=function(){return o.EventEmitter=r,t},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return t}):"object"==typeof module&&module.exports?module.exports=t:o.EventEmitter=t}.call(this),function(t){function e(e){var i=t.event;return i.target=i.target||i.srcElement||e,i}var i=document.documentElement,n=function(){};i.addEventListener?n=function(t,e,i){t.addEventListener(e,i,!1)}:i.attachEvent&&(n=function(t,i,n){t[i+n]=n.handleEvent?function(){var i=e(t);n.handleEvent.call(n,i)}:function(){var i=e(t);n.call(t,i)},t.attachEvent("on"+i,t[i+n])});var o=function(){};i.removeEventListener?o=function(t,e,i){t.removeEventListener(e,i,!1)}:i.detachEvent&&(o=function(t,e,i){t.detachEvent("on"+e,t[e+i]);try{delete t[e+i]}catch(n){t[e+i]=void 0}});var r={bind:n,unbind:o};"function"==typeof define&&define.amd?define("eventie/eventie",r):"object"==typeof exports?module.exports=r:t.eventie=r}(window),function(t){function e(t){if(t){if("string"==typeof n[t])return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e,o=0,r=i.length;r>o;o++)if(e=i[o]+t,"string"==typeof n[e])return e}}var i="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return e}):"object"==typeof exports?module.exports=e:t.getStyleProperty=e}(window),function(t){function e(t){var e=parseFloat(t),i=-1===t.indexOf("%")&&!isNaN(e);return i&&e}function i(){}function n(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0,i=s.length;i>e;e++){var n=s[e];t[n]=0}return t}function o(i){function o(){if(!d){d=!0;var n=t.getComputedStyle;if(c=function(){var t=n?function(t){return n(t,null)}:function(t){return t.currentStyle};return function(e){var i=t(e);return i||r("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),i}}(),h=i("boxSizing")){var o=document.createElement("div");o.style.width="200px",o.style.padding="1px 2px 3px 4px",o.style.borderStyle="solid",o.style.borderWidth="1px 2px 3px 4px",o.style[h]="border-box";var s=document.body||document.documentElement;s.appendChild(o);var a=c(o);p=200===e(a.width),s.removeChild(o)}}}function a(t){if(o(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var i=c(t);if("none"===i.display)return n();var r={};r.width=t.offsetWidth,r.height=t.offsetHeight;for(var a=r.isBorderBox=!(!h||!i[h]||"border-box"!==i[h]),d=0,u=s.length;u>d;d++){var f=s[d],v=i[f];v=l(t,v);var y=parseFloat(v);r[f]=isNaN(y)?0:y}var g=r.paddingLeft+r.paddingRight,m=r.paddingTop+r.paddingBottom,b=r.marginLeft+r.marginRight,S=r.marginTop+r.marginBottom,x=r.borderLeftWidth+r.borderRightWidth,w=r.borderTopWidth+r.borderBottomWidth,C=a&&p,E=e(i.width);E!==!1&&(r.width=E+(C?0:g+x));var P=e(i.height);return P!==!1&&(r.height=P+(C?0:m+w)),r.innerWidth=r.width-(g+x),r.innerHeight=r.height-(m+w),r.outerWidth=r.width+b,r.outerHeight=r.height+S,r}}function l(e,i){if(t.getComputedStyle||-1===i.indexOf("%"))return i;var n=e.style,o=n.left,r=e.runtimeStyle,s=r&&r.left;return s&&(r.left=e.currentStyle.left),n.left=i,i=n.pixelLeft,n.left=o,s&&(r.left=s),i}var c,h,p,d=!1;return a}var r="undefined"==typeof console?i:function(t){console.error(t)},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],o):"object"==typeof exports?module.exports=o(require("desandro-get-style-property")):t.getSize=o(t.getStyleProperty)}(window),function(t){function e(t){"function"==typeof t&&(e.isReady?t():s.push(t))}function i(t){var i="readystatechange"===t.type&&"complete"!==r.readyState;e.isReady||i||n()}function n(){e.isReady=!0;for(var t=0,i=s.length;i>t;t++){var n=s[t];n()}}function o(o){return"complete"===r.readyState?n():(o.bind(r,"DOMContentLoaded",i),o.bind(r,"readystatechange",i),o.bind(t,"load",i)),e}var r=t.document,s=[];e.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],o):"object"==typeof exports?module.exports=o(require("eventie")):t.docReady=o(t.eventie)}(window),function(t){function e(t,e){return t[s](e)}function i(t){if(!t.parentNode){var e=document.createDocumentFragment();e.appendChild(t)}}function n(t,e){i(t);for(var n=t.parentNode.querySelectorAll(e),o=0,r=n.length;r>o;o++)if(n[o]===t)return!0;return!1}function o(t,n){return i(t),e(t,n)}var r,s=function(){if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0,n=e.length;n>i;i++){var o=e[i],r=o+"MatchesSelector";if(t[r])return r}}();if(s){var a=document.createElement("div"),l=e(a,"div");r=l?e:o}else r=n;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return r}):"object"==typeof exports?module.exports=r:window.matchesSelector=r}(Element.prototype),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("doc-ready"),require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.docReady,t.matchesSelector)}(window,function(t,e,i){var n={};n.extend=function(t,e){for(var i in e)t[i]=e[i];return t},n.modulo=function(t,e){return(t%e+e)%e};var o=Object.prototype.toString;n.isArray=function(t){return"[object Array]"==o.call(t)},n.makeArray=function(t){var e=[];if(n.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0,o=t.length;o>i;i++)e.push(t[i]);else e.push(t);return e},n.indexOf=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},n.removeFrom=function(t,e){var i=n.indexOf(t,e);-1!=i&&t.splice(i,1)},n.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(t){return t instanceof HTMLElement}:function(t){return t&&"object"==typeof t&&1==t.nodeType&&"string"==typeof t.nodeName},n.setText=function(){function t(t,i){e=e||(void 0!==document.documentElement.textContent?"textContent":"innerText"),t[e]=i}var e;return t}(),n.getParent=function(t,e){for(;t!=document.body;)if(t=t.parentNode,i(t,e))return t},n.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},n.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.filterFindElements=function(t,e){t=n.makeArray(t);for(var o=[],r=0,s=t.length;s>r;r++){var a=t[r];if(n.isElement(a))if(e){i(a,e)&&o.push(a);for(var l=a.querySelectorAll(e),c=0,h=l.length;h>c;c++)o.push(l[c])}else o.push(a)}return o},n.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,r=this;this[o]=setTimeout(function(){n.apply(r,e),delete r[o]},i||100)}},n.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var r=t.console;return n.htmlInit=function(i,o){e(function(){for(var e=n.toDashed(o),s=document.querySelectorAll(".js-"+e),a="data-"+e+"-options",l=0,c=s.length;c>l;l++){var h,p=s[l],d=p.getAttribute(a);try{h=d&&JSON.parse(d)}catch(u){r&&r.error("Error parsing "+a+" on "+p.nodeName.toLowerCase()+(p.id?"#"+p.id:"")+": "+u);continue}var f=new i(p,h),v=t.jQuery;v&&v.data(p,o,f)}})},n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/cell",["get-size/get-size"],function(i){return e(t,i)}):"object"==typeof exports?module.exports=e(t,require("get-size")):(t.Flickity=t.Flickity||{},t.Flickity.Cell=e(t,t.getSize))}(window,function(t,e){function i(t,e){this.element=t,this.parent=e,this.create()}var n="attachEvent"in t;return i.prototype.create=function(){this.element.style.position="absolute",n&&this.element.setAttribute("unselectable","on"),this.x=0,this.shift=0},i.prototype.destroy=function(){this.element.style.position="";var t=this.parent.originSide;this.element.style[t]=""},i.prototype.getSize=function(){this.size=e(this.element)},i.prototype.setPosition=function(t){this.x=t,this.setDefaultTarget(),this.renderPosition(t)},i.prototype.setDefaultTarget=function(){var t="left"==this.parent.originSide?"marginLeft":"marginRight";this.target=this.x+this.size[t]+this.size.width*this.parent.cellAlign},i.prototype.renderPosition=function(t){var e=this.parent.originSide;this.element.style[e]=this.parent.getPositionValue(t)},i.prototype.wrapShift=function(t){this.shift=t,this.renderPosition(this.x+this.parent.slideableWidth*t)},i.prototype.remove=function(){this.element.parentNode.removeChild(this.element)},i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/animate",["get-style-property/get-style-property","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("desandro-get-style-property"),require("fizzy-ui-utils")):(t.Flickity=t.Flickity||{},t.Flickity.animatePrototype=e(t,t.getStyleProperty,t.fizzyUIUtils))}(window,function(t,e,i){for(var n,o=0,r="webkit moz ms o".split(" "),s=t.requestAnimationFrame,a=t.cancelAnimationFrame,l=0;l<r.length&&(!s||!a);l++)n=r[l],s=s||t[n+"RequestAnimationFrame"],a=a||t[n+"CancelAnimationFrame"]||t[n+"CancelRequestAnimationFrame"];s&&a||(s=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-o)),r=t.setTimeout(function(){e(i+n)},n);return o=i+n,r},a=function(e){t.clearTimeout(e)});var c={};c.startAnimation=function(){this.isAnimating||(this.isAnimating=!0,this.restingFrames=0,this.animate())},c.animate=function(){this.applyDragForce(),this.applySelectedAttraction();var t=this.x;if(this.integratePhysics(),this.positionSlider(),this.settle(t),this.isAnimating){var e=this;s(function(){e.animate()})}};var h=e("transform"),p=!!e("perspective");return c.positionSlider=function(){var t=this.x;this.options.wrapAround&&this.cells.length>1&&(t=i.modulo(t,this.slideableWidth),t-=this.slideableWidth,this.shiftWrapCells(t)),t+=this.cursorPosition,t=this.options.rightToLeft&&h?-t:t;var e=this.getPositionValue(t);h?this.slider.style[h]=p&&this.isAnimating?"translate3d("+e+",0,0)":"translateX("+e+")":this.slider.style[this.originSide]=e},c.positionSliderAtSelected=function(){if(this.cells.length){var t=this.cells[this.selectedIndex];this.x=-t.target,this.positionSlider()}},c.getPositionValue=function(t){return this.options.percentPosition?.01*Math.round(t/this.size.innerWidth*1e4)+"%":Math.round(t)+"px"},c.settle=function(t){this.isPointerDown||Math.round(100*this.x)!=Math.round(100*t)||this.restingFrames++,this.restingFrames>2&&(this.isAnimating=!1,delete this.isFreeScrolling,p&&this.positionSlider(),this.dispatchEvent("settle"))},c.shiftWrapCells=function(t){var e=this.cursorPosition+t;this._shiftCells(this.beforeShiftCells,e,-1);var i=this.size.innerWidth-(t+this.slideableWidth+this.cursorPosition);this._shiftCells(this.afterShiftCells,i,1)},c._shiftCells=function(t,e,i){for(var n=0,o=t.length;o>n;n++){var r=t[n],s=e>0?i:0;r.wrapShift(s),e-=r.size.outerWidth}},c._unshiftCells=function(t){if(t&&t.length)for(var e=0,i=t.length;i>e;e++)t[e].wrapShift(0)},c.integratePhysics=function(){this.velocity+=this.accel,this.x+=this.velocity,this.velocity*=this.getFrictionFactor(),this.accel=0},c.applyForce=function(t){this.accel+=t},c.getFrictionFactor=function(){return 1-this.options[this.isFreeScrolling?"freeScrollFriction":"friction"]},c.getRestingPosition=function(){return this.x+this.velocity/(1-this.getFrictionFactor())},c.applyDragForce=function(){if(this.isPointerDown){var t=this.dragX-this.x,e=t-this.velocity;this.applyForce(e)}},c.applySelectedAttraction=function(){var t=this.cells.length;if(!this.isPointerDown&&!this.isFreeScrolling&&t){var e=this.cells[this.selectedIndex],i=this.options.wrapAround&&t>1?this.slideableWidth*Math.floor(this.selectedIndex/t):0,n=-1*(e.target+i)-this.x,o=n*this.options.selectedAttraction;this.applyForce(o)}},c}),function(t,e){if("function"==typeof define&&define.amd)define("flickity/js/flickity",["classie/classie","eventEmitter/EventEmitter","eventie/eventie","get-size/get-size","fizzy-ui-utils/utils","./cell","./animate"],function(i,n,o,r,s,a,l){return e(t,i,n,o,r,s,a,l)});else if("object"==typeof exports)module.exports=e(t,require("desandro-classie"),require("wolfy87-eventemitter"),require("eventie"),require("get-size"),require("fizzy-ui-utils"),require("./cell"),require("./animate"));else{var i=t.Flickity;t.Flickity=e(t,t.classie,t.EventEmitter,t.eventie,t.getSize,t.fizzyUIUtils,i.Cell,i.animatePrototype)}}(window,function(t,e,i,n,o,r,s,a){function l(t,e){for(t=r.makeArray(t);t.length;)e.appendChild(t.shift())}function c(t,e){var i=r.getQueryElement(t);return i?(this.element=i,h&&(this.$element=h(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(e),void this._create()):void(d&&d.error("Bad element for Flickity: "+(i||t)))}var h=t.jQuery,p=t.getComputedStyle,d=t.console,u=0,f={};c.defaults={accessibility:!0,cellAlign:"center",freeScrollFriction:.075,friction:.28,percentPosition:!0,resize:!0,selectedAttraction:.025,setGallerySize:!0},c.createMethods=[],r.extend(c.prototype,i.prototype),c.prototype._create=function(){var e=this.guid=++u;this.element.flickityGUID=e,f[e]=this,this.selectedIndex=this.options.initialIndex||0,this.restingFrames=0,this.x=0,this.velocity=0,this.accel=0,this.originSide=this.options.rightToLeft?"right":"left",this.viewport=document.createElement("div"),this.viewport.className="flickity-viewport",c.setUnselectable(this.viewport),this._createSlider(),(this.options.resize||this.options.watchCSS)&&(n.bind(t,"resize",this),this.isResizeBound=!0);for(var i=0,o=c.createMethods.length;o>i;i++){var r=c.createMethods[i];this[r]()}this.options.watchCSS?this.watchCSS():this.activate()},c.prototype.option=function(t){r.extend(this.options,t)},c.prototype.activate=function(){if(!this.isActive){this.isActive=!0,e.add(this.element,"flickity-enabled"),this.options.rightToLeft&&e.add(this.element,"flickity-rtl"),this.getSize();var t=this._filterFindCellElements(this.element.children);l(t,this.slider),this.viewport.appendChild(this.slider),this.element.appendChild(this.viewport),this.reloadCells(),this.options.accessibility&&(this.element.tabIndex=0,n.bind(this.element,"keydown",this)),this.emit("activate"),this.positionSliderAtSelected(),this.select(this.selectedIndex)}},c.prototype._createSlider=function(){var t=document.createElement("div");t.className="flickity-slider",t.style[this.originSide]=0,this.slider=t},c.prototype._filterFindCellElements=function(t){return r.filterFindElements(t,this.options.cellSelector)},c.prototype.reloadCells=function(){this.cells=this._makeCells(this.slider.children),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize()},c.prototype._makeCells=function(t){for(var e=this._filterFindCellElements(t),i=[],n=0,o=e.length;o>n;n++){var r=e[n],a=new s(r,this);i.push(a)}return i},c.prototype.getLastCell=function(){return this.cells[this.cells.length-1]},c.prototype.positionCells=function(){this._sizeCells(this.cells),this._positionCells(0)},c.prototype._positionCells=function(t){t=t||0,this.maxCellHeight=t?this.maxCellHeight||0:0;var e=0;if(t>0){var i=this.cells[t-1];e=i.x+i.size.outerWidth}for(var n,o=this.cells.length,r=t;o>r;r++)n=this.cells[r],n.setPosition(e),e+=n.size.outerWidth,this.maxCellHeight=Math.max(n.size.outerHeight,this.maxCellHeight);this.slideableWidth=e,this._containCells()},c.prototype._sizeCells=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];n.getSize()}},c.prototype._init=c.prototype.reposition=function(){this.positionCells(),this.positionSliderAtSelected()},c.prototype.getSize=function(){this.size=o(this.element),this.setCellAlign(),this.cursorPosition=this.size.innerWidth*this.cellAlign};var v={center:{left:.5,right:.5},left:{left:0,right:1},right:{right:0,left:1}};c.prototype.setCellAlign=function(){var t=v[this.options.cellAlign];this.cellAlign=t?t[this.originSide]:this.options.cellAlign},c.prototype.setGallerySize=function(){this.options.setGallerySize&&(this.viewport.style.height=this.maxCellHeight+"px")},c.prototype._getWrapShiftCells=function(){if(this.options.wrapAround){this._unshiftCells(this.beforeShiftCells),this._unshiftCells(this.afterShiftCells);var t=this.cursorPosition,e=this.cells.length-1;this.beforeShiftCells=this._getGapCells(t,e,-1),t=this.size.innerWidth-this.cursorPosition,this.afterShiftCells=this._getGapCells(t,0,1)}},c.prototype._getGapCells=function(t,e,i){for(var n=[];t>0;){var o=this.cells[e];if(!o)break;n.push(o),e+=i,t-=o.size.outerWidth}return n},c.prototype._containCells=function(){if(this.options.contain&&!this.options.wrapAround&&this.cells.length)for(var t=this.options.rightToLeft?"marginRight":"marginLeft",e=this.options.rightToLeft?"marginLeft":"marginRight",i=this.cells[0].size[t],n=this.getLastCell(),o=this.slideableWidth-n.size[e],r=o-this.size.innerWidth*(1-this.cellAlign),s=o<this.size.innerWidth,a=0,l=this.cells.length;l>a;a++){var c=this.cells[a];c.setDefaultTarget(),s?c.target=o*this.cellAlign:(c.target=Math.max(c.target,this.cursorPosition+i),c.target=Math.min(c.target,r))}},c.prototype.dispatchEvent=function(t,e,i){var n=[e].concat(i);if(this.emitEvent(t,n),h&&this.$element)if(e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.prototype.select=function(t,e){if(this.isActive){var i=this.cells.length;this.options.wrapAround&&i>1&&(0>t?this.x-=this.slideableWidth:t>=i&&(this.x+=this.slideableWidth)),(this.options.wrapAround||e)&&(t=r.modulo(t,i)),this.cells[t]&&(this.selectedIndex=t,this.setSelectedCell(),this.startAnimation(),this.dispatchEvent("cellSelect"))}},c.prototype.previous=function(t){this.select(this.selectedIndex-1,t)},c.prototype.next=function(t){this.select(this.selectedIndex+1,t)},c.prototype.setSelectedCell=function(){this._removeSelectedCellClass(),this.selectedCell=this.cells[this.selectedIndex],this.selectedElement=this.selectedCell.element,e.add(this.selectedElement,"is-selected")},c.prototype._removeSelectedCellClass=function(){this.selectedCell&&e.remove(this.selectedCell.element,"is-selected")},c.prototype.getCell=function(t){for(var e=0,i=this.cells.length;i>e;e++){var n=this.cells[e];if(n.element==t)return n}},c.prototype.getCells=function(t){t=r.makeArray(t);for(var e=[],i=0,n=t.length;n>i;i++){var o=t[i],s=this.getCell(o);s&&e.push(s)}return e},c.prototype.getCellElements=function(){for(var t=[],e=0,i=this.cells.length;i>e;e++)t.push(this.cells[e].element);return t},c.prototype.getParentCell=function(t){var e=this.getCell(t);return e?e:(t=r.getParent(t,".flickity-slider > *"),this.getCell(t))},c.prototype.getAdjacentCellElements=function(t,e){if(!t)return[this.selectedElement];e=void 0===e?this.selectedIndex:e;var i=this.cells.length;if(1+2*t>=i)return this.getCellElements();for(var n=[],o=e-t;e+t>=o;o++){var s=this.options.wrapAround?r.modulo(o,i):o,a=this.cells[s];a&&n.push(a.element)}return n},c.prototype.uiChange=function(){this.emit("uiChange")},c.prototype.childUIPointerDown=function(t){this.emitEvent("childUIPointerDown",[t])},c.prototype.onresize=function(){this.watchCSS(),this.resize()},r.debounceMethod(c,"onresize",150),c.prototype.resize=function(){this.isActive&&(this.getSize(),this.options.wrapAround&&(this.x=r.modulo(this.x,this.slideableWidth)),this.positionCells(),this._getWrapShiftCells(),this.setGallerySize(),this.positionSliderAtSelected())};var y=c.supportsConditionalCSS=function(){var t;return function(){if(void 0!==t)return t;if(!p)return void(t=!1);var e=document.createElement("style"),i=document.createTextNode('body:after { content: "foo"; display: none; }');e.appendChild(i),document.head.appendChild(e);var n=p(document.body,":after").content;return t=-1!=n.indexOf("foo"),document.head.removeChild(e),t}}();c.prototype.watchCSS=function(){var t=this.options.watchCSS;if(t){var e=y();if(!e){var i="fallbackOn"==t?"activate":"deactivate";return void this[i]()}var n=p(this.element,":after").content;-1!=n.indexOf("flickity")?this.activate():this.deactivate()}},c.prototype.onkeydown=function(t){if(this.options.accessibility&&(!document.activeElement||document.activeElement==this.element))if(37==t.keyCode){var e=this.options.rightToLeft?"next":"previous";this.uiChange(),this[e]()}else if(39==t.keyCode){var i=this.options.rightToLeft?"previous":"next";this.uiChange(),this[i]()}},c.prototype.deactivate=function(){if(this.isActive){e.remove(this.element,"flickity-enabled"),e.remove(this.element,"flickity-rtl");for(var t=0,i=this.cells.length;i>t;t++){var o=this.cells[t];o.destroy()}this._removeSelectedCellClass(),this.element.removeChild(this.viewport),l(this.slider.children,this.element),this.options.accessibility&&(this.element.removeAttribute("tabIndex"),n.unbind(this.element,"keydown",this)),this.isActive=!1,this.emit("deactivate")}},c.prototype.destroy=function(){this.deactivate(),this.isResizeBound&&n.unbind(t,"resize",this),this.emit("destroy"),h&&this.$element&&h.removeData(this.element,"flickity"),delete this.element.flickityGUID,delete f[this.guid]},r.extend(c.prototype,a);var g="attachEvent"in t;return c.setUnselectable=function(t){g&&t.setAttribute("unselectable","on")},c.data=function(t){t=r.getQueryElement(t);var e=t&&t.flickityGUID;return e&&f[e]},r.htmlInit(c,"flickity"),h&&h.bridget&&h.bridget("flickity",c),c.Cell=s,c}),function(t,e){"function"==typeof define&&define.amd?define("unipointer/unipointer",["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.Unipointer=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(){}function o(){}o.prototype=new e,o.prototype.bindStartEvent=function(t){this._bindStartEvent(t,!0)},o.prototype.unbindStartEvent=function(t){this._bindStartEvent(t,!1)},o.prototype._bindStartEvent=function(e,n){n=void 0===n?!0:!!n;var o=n?"bind":"unbind";t.navigator.pointerEnabled?i[o](e,"pointerdown",this):t.navigator.msPointerEnabled?i[o](e,"MSPointerDown",this):(i[o](e,"mousedown",this),i[o](e,"touchstart",this))},o.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},o.prototype.getTouch=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];if(n.identifier==this.pointerIdentifier)return n}},o.prototype.onmousedown=function(t){var e=t.button;e&&0!==e&&1!==e||this._pointerDown(t,t)},o.prototype.ontouchstart=function(t){this._pointerDown(t,t.changedTouches[0])},o.prototype.onMSPointerDown=o.prototype.onpointerdown=function(t){this._pointerDown(t,t)},o.prototype._pointerDown=function(t,e){this.isPointerDown||(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDown(t,e))},o.prototype.pointerDown=function(t,e){this._bindPostStartEvents(t),this.emitEvent("pointerDown",[t,e])};var r={mousedown:["mousemove","mouseup"],touchstart:["touchmove","touchend","touchcancel"],pointerdown:["pointermove","pointerup","pointercancel"],MSPointerDown:["MSPointerMove","MSPointerUp","MSPointerCancel"]};return o.prototype._bindPostStartEvents=function(e){if(e){for(var n=r[e.type],o=e.preventDefault?t:document,s=0,a=n.length;a>s;s++){var l=n[s];i.bind(o,l,this)}this._boundPointerEvents={events:n,node:o}}},o.prototype._unbindPostStartEvents=function(){var t=this._boundPointerEvents;if(t&&t.events){for(var e=0,n=t.events.length;n>e;e++){var o=t.events[e];i.unbind(t.node,o,this)}delete this._boundPointerEvents}},o.prototype.onmousemove=function(t){this._pointerMove(t,t)},o.prototype.onMSPointerMove=o.prototype.onpointermove=function(t){t.pointerId==this.pointerIdentifier&&this._pointerMove(t,t)},o.prototype.ontouchmove=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerMove(t,e)},o.prototype._pointerMove=function(t,e){this.pointerMove(t,e)},o.prototype.pointerMove=function(t,e){this.emitEvent("pointerMove",[t,e])},o.prototype.onmouseup=function(t){this._pointerUp(t,t)},o.prototype.onMSPointerUp=o.prototype.onpointerup=function(t){t.pointerId==this.pointerIdentifier&&this._pointerUp(t,t)},o.prototype.ontouchend=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerUp(t,e)},o.prototype._pointerUp=function(t,e){this._pointerDone(),this.pointerUp(t,e)},o.prototype.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e])},o.prototype._pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this._unbindPostStartEvents(),this.pointerDone()},o.prototype.pointerDone=n,o.prototype.onMSPointerCancel=o.prototype.onpointercancel=function(t){t.pointerId==this.pointerIdentifier&&this._pointerCancel(t,t)},o.prototype.ontouchcancel=function(t){var e=this.getTouch(t.changedTouches);e&&this._pointerCancel(t,e)},o.prototype._pointerCancel=function(t,e){this._pointerDone(),this.pointerCancel(t,e)},o.prototype.pointerCancel=function(t,e){this.emitEvent("pointerCancel",[t,e])},o.getPointerPoint=function(t){return{x:void 0!==t.pageX?t.pageX:t.clientX,y:void 0!==t.pageY?t.pageY:t.clientY}},o}),function(t,e){"function"==typeof define&&define.amd?define("unidragger/unidragger",["eventie/eventie","unipointer/unipointer"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("unipointer")):t.Unidragger=e(t,t.eventie,t.Unipointer)}(window,function(t,e,i){function n(){}function o(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function r(){}function s(){return!1}r.prototype=new i,r.prototype.bindHandles=function(){this._bindHandles(!0)},r.prototype.unbindHandles=function(){this._bindHandles(!1)};var a=t.navigator;r.prototype._bindHandles=function(t){t=void 0===t?!0:!!t;var i;i=a.pointerEnabled?function(e){e.style.touchAction=t?"none":""}:a.msPointerEnabled?function(e){e.style.msTouchAction=t?"none":""}:function(){t&&c(s)};for(var n=t?"bind":"unbind",o=0,r=this.handles.length;r>o;o++){var s=this.handles[o];this._bindStartEvent(s,t),i(s),e[n](s,"click",this)}};var l="attachEvent"in document.documentElement,c=l?function(t){"IMG"==t.nodeName&&(t.ondragstart=s);for(var e=t.querySelectorAll("img"),i=0,n=e.length;n>i;i++){var o=e[i];o.ondragstart=s}}:n;r.prototype.pointerDown=function(i,n){if("INPUT"==i.target.nodeName&&"range"==i.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(i,n);var o=document.activeElement;o&&o.blur&&o.blur(),this._bindPostStartEvents(i),this.pointerDownScroll=r.getScrollPosition(),e.bind(t,"scroll",this),this.emitEvent("pointerDown",[i,n])},r.prototype._dragPointerDown=function(t,e){this.pointerDownPoint=i.getPointerPoint(e);var n="touchstart"==t.type,r=t.target.nodeName;n||"SELECT"==r||o(t)},r.prototype.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.emitEvent("pointerMove",[t,e,i]),this._dragMove(t,e,i)},r.prototype._dragPointerMove=function(t,e){var n=i.getPointerPoint(e),o={x:n.x-this.pointerDownPoint.x,y:n.y-this.pointerDownPoint.y};return!this.isDragging&&this.hasDragStarted(o)&&this._dragStart(t,e),o},r.prototype.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},r.prototype.pointerUp=function(t,e){this.emitEvent("pointerUp",[t,e]),this._dragPointerUp(t,e)},r.prototype._dragPointerUp=function(t,e){this.isDragging?this._dragEnd(t,e):this._staticClick(t,e)},i.prototype.pointerDone=function(){e.unbind(t,"scroll",this)},r.prototype._dragStart=function(t,e){this.isDragging=!0,this.dragStartPoint=r.getPointerPoint(e),this.isPreventingClicks=!0,this.dragStart(t,e)},r.prototype.dragStart=function(t,e){this.emitEvent("dragStart",[t,e])},r.prototype._dragMove=function(t,e,i){this.isDragging&&this.dragMove(t,e,i)
},r.prototype.dragMove=function(t,e,i){o(t),this.emitEvent("dragMove",[t,e,i])},r.prototype._dragEnd=function(t,e){this.isDragging=!1;var i=this;setTimeout(function(){delete i.isPreventingClicks}),this.dragEnd(t,e)},r.prototype.dragEnd=function(t,e){this.emitEvent("dragEnd",[t,e])},r.prototype.pointerDone=function(){e.unbind(t,"scroll",this),delete this.pointerDownScroll},r.prototype.onclick=function(t){this.isPreventingClicks&&o(t)},r.prototype._staticClick=function(t,e){if(!this.isIgnoringMouseUp||"mouseup"!=t.type){var i=t.target.nodeName;if(("INPUT"==i||"TEXTAREA"==i)&&t.target.focus(),this.staticClick(t,e),"mouseup"!=t.type){this.isIgnoringMouseUp=!0;var n=this;setTimeout(function(){delete n.isIgnoringMouseUp},400)}}},r.prototype.staticClick=function(t,e){this.emitEvent("staticClick",[t,e])},r.prototype.onscroll=function(){var t=r.getScrollPosition(),e=this.pointerDownScroll.x-t.x,i=this.pointerDownScroll.y-t.y;(Math.abs(e)>3||Math.abs(i)>3)&&this._pointerDone()},r.getPointerPoint=function(t){return{x:void 0!==t.pageX?t.pageX:t.clientX,y:void 0!==t.pageY?t.pageY:t.clientY}};var h=void 0!==t.pageYOffset;return r.getScrollPosition=function(){return{x:h?t.pageXOffset:document.body.scrollLeft,y:h?t.pageYOffset:document.body.scrollTop}},r.getPointerPoint=i.getPointerPoint,r}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/drag",["classie/classie","eventie/eventie","./flickity","unidragger/unidragger","fizzy-ui-utils/utils"],function(i,n,o,r,s){return e(t,i,n,o,r,s)}):"object"==typeof exports?module.exports=e(t,require("desandro-classie"),require("eventie"),require("./flickity"),require("unidragger"),require("fizzy-ui-utils")):t.Flickity=e(t,t.classie,t.eventie,t.Flickity,t.Unidragger,t.fizzyUIUtils)}(window,function(t,e,i,n,o,r){function s(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function a(e){var i=o.getPointerPoint(e);return i.y-t.pageYOffset}r.extend(n.defaults,{draggable:!0,touchVerticalScroll:!0}),n.createMethods.push("_createDrag"),r.extend(n.prototype,o.prototype),n.prototype._createDrag=function(){this.on("activate",this.bindDrag),this.on("uiChange",this._uiChangeDrag),this.on("childUIPointerDown",this._childUIPointerDownDrag),this.on("deactivate",this.unbindDrag)},n.prototype.bindDrag=function(){this.options.draggable&&!this.isDragBound&&(e.add(this.element,"is-draggable"),this.handles=[this.viewport],this.bindHandles(),this.isDragBound=!0)},n.prototype.unbindDrag=function(){this.isDragBound&&(e.remove(this.element,"is-draggable"),this.unbindHandles(),delete this.isDragBound)},n.prototype._uiChangeDrag=function(){delete this.isFreeScrolling},n.prototype._childUIPointerDownDrag=function(t){s(t),this.pointerDownFocus(t)},n.prototype.pointerDown=function(n,r){if("INPUT"==n.target.nodeName&&"range"==n.target.type)return this.isPointerDown=!1,void delete this.pointerIdentifier;this._dragPointerDown(n,r);var s=document.activeElement;s&&s.blur&&s!=this.element&&s!=document.body&&s.blur(),this.pointerDownFocus(n),this.dragX=this.x,e.add(this.viewport,"is-pointer-down"),this._bindPostStartEvents(n),this.pointerDownScroll=o.getScrollPosition(),i.bind(t,"scroll",this),this.dispatchEvent("pointerDown",n,[r])};var l={touchstart:!0,MSPointerDown:!0},c={INPUT:!0,SELECT:!0};n.prototype.pointerDownFocus=function(t){!this.options.accessibility||l[t.type]||c[t.target.nodeName]||this.element.focus()},n.prototype.pointerMove=function(t,e){var i=this._dragPointerMove(t,e);this.touchVerticalScrollMove(t,e,i),this._dragMove(t,e,i),this.dispatchEvent("pointerMove",t,[e,i])},n.prototype.hasDragStarted=function(t){return!this.isTouchScrolling&&Math.abs(t.x)>3},n.prototype.pointerUp=function(t,i){delete this.isTouchScrolling,e.remove(this.viewport,"is-pointer-down"),this.dispatchEvent("pointerUp",t,[i]),this._dragPointerUp(t,i)};var h={touchmove:!0,MSPointerMove:!0};return n.prototype.touchVerticalScrollMove=function(e,i,n){var o=this.options.touchVerticalScroll,r="withDrag"==o?!o:this.isDragging||!o;!r&&h[e.type]&&!this.isTouchScrolling&&Math.abs(n.y)>10&&(this.startScrollY=t.pageYOffset,this.pointerWindowStartY=a(i),this.isTouchScrolling=!0)},n.prototype.dragStart=function(t,e){this.dragStartPosition=this.x,this.startAnimation(),this.dispatchEvent("dragStart",t,[e])},n.prototype.dragMove=function(t,e,i){s(t),this.previousDragX=this.dragX;var n=this.options.rightToLeft?-1:1,o=this.dragStartPosition+i.x*n;if(!this.options.wrapAround&&this.cells.length){var r=Math.max(-this.cells[0].target,this.dragStartPosition);o=o>r?.5*(o+r):o;var a=Math.min(-this.getLastCell().target,this.dragStartPosition);o=a>o?.5*(o+a):o}this.dragX=o,this.dragMoveTime=new Date,this.dispatchEvent("dragMove",t,[e,i])},n.prototype.dragEnd=function(t,e){this.options.freeScroll&&(this.isFreeScrolling=!0);var i=this.dragEndRestingSelect();if(this.options.freeScroll&&!this.options.wrapAround){var n=this.getRestingPosition();this.isFreeScrolling=-n>this.cells[0].target&&-n<this.getLastCell().target}else this.options.freeScroll||i!=this.selectedIndex||(i+=this.dragEndBoostSelect());delete this.previousDragX,this.select(i),this.dispatchEvent("dragEnd",t,[e])},n.prototype.dragEndRestingSelect=function(){var t=this.getRestingPosition(),e=Math.abs(this.getCellDistance(-t,this.selectedIndex)),i=this._getClosestResting(t,e,1),n=this._getClosestResting(t,e,-1),o=i.distance<n.distance?i.index:n.index;return o},n.prototype._getClosestResting=function(t,e,i){for(var n=this.selectedIndex,o=1/0,r=this.options.contain&&!this.options.wrapAround?function(t,e){return e>=t}:function(t,e){return e>t};r(e,o)&&(n+=i,o=e,e=this.getCellDistance(-t,n),null!==e);)e=Math.abs(e);return{distance:o,index:n-i}},n.prototype.getCellDistance=function(t,e){var i=this.cells.length,n=this.options.wrapAround&&i>1,o=n?r.modulo(e,i):e,s=this.cells[o];if(!s)return null;var a=n?this.slideableWidth*Math.floor(e/i):0;return t-(s.target+a)},n.prototype.dragEndBoostSelect=function(){if(void 0===this.previousDragX||!this.dragMoveTime||new Date-this.dragMoveTime>100)return 0;var t=this.getCellDistance(-this.dragX,this.selectedIndex),e=this.previousDragX-this.dragX;return t>0&&e>0?1:0>t&&0>e?-1:0},n.prototype.staticClick=function(t,e){var i=this.getParentCell(t.target),n=i&&i.element,o=i&&r.indexOf(this.cells,i);this.dispatchEvent("staticClick",t,[e,n,o])},n}),function(t,e){"function"==typeof define&&define.amd?define("tap-listener/tap-listener",["unipointer/unipointer"],function(i){return e(t,i)}):"object"==typeof exports?module.exports=e(t,require("unipointer")):t.TapListener=e(t,t.Unipointer)}(window,function(t,e){function i(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function n(t){this.bindTap(t)}n.prototype=new e,n.prototype.bindTap=function(t){t&&(this.unbindTap(),this.tapElement=t,this._bindStartEvent(t,!0))},n.prototype.unbindTap=function(){this.tapElement&&(this._bindStartEvent(this.tapElement,!0),delete this.tapElement)};var o=n.prototype.pointerDown;n.prototype.pointerDown=function(t){"touchstart"==t.type&&i(t),o.apply(this,arguments)};var r=void 0!==t.pageYOffset;return n.prototype.pointerUp=function(i,n){var o=e.getPointerPoint(n),s=this.tapElement.getBoundingClientRect(),a=r?t.pageXOffset:document.body.scrollLeft,l=r?t.pageYOffset:document.body.scrollTop,c=o.x>=s.left+a&&o.x<=s.right+a&&o.y>=s.top+l&&o.y<=s.bottom+l;c&&this.emitEvent("tap",[i,n])},n.prototype.destroy=function(){this.pointerDone(),this.unbindTap()},n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/prev-next-button",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.eventie,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n,o){function r(t,e){this.direction=t,this.parent=e,this._create()}function s(t){return"string"==typeof t?t:"M "+t.x0+",50 L "+t.x1+","+(t.y1+50)+" L "+t.x2+","+(t.y2+50)+" L "+t.x3+",50  L "+t.x2+","+(50-t.y2)+" L "+t.x1+","+(50-t.y1)+" Z"}var a="http://www.w3.org/2000/svg",l=function(){function t(){if(void 0!==e)return e;var t=document.createElement("div");return t.innerHTML="<svg/>",e=(t.firstChild&&t.firstChild.namespaceURI)==a}var e;return t}();return r.prototype=new n,r.prototype._create=function(){this.isEnabled=!0,this.isPrevious=-1==this.direction;var t=this.parent.options.rightToLeft?1:-1;this.isLeft=this.direction==t;var e=this.element=document.createElement("button");if(e.className="flickity-prev-next-button",e.className+=this.isPrevious?" previous":" next",e.setAttribute("type","button"),i.setUnselectable(e),l()){var n=this.createSVG();e.appendChild(n)}else this.setArrowText(),e.className+=" no-svg";var o=this;this.onCellSelect=function(){o.update()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(t,e){o.parent.childUIPointerDown(e)})},r.prototype.activate=function(){this.update(),this.bindTap(this.element),e.bind(this.element,"click",this),this.parent.element.appendChild(this.element)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.element),n.prototype.destroy.call(this),e.unbind(this.element,"click",this)},r.prototype.createSVG=function(){var t=document.createElementNS(a,"svg");t.setAttribute("viewBox","0 0 100 100");var e=document.createElementNS(a,"path"),i=s(this.parent.options.arrowShape);return e.setAttribute("d",i),e.setAttribute("class","arrow"),this.isLeft||e.setAttribute("transform","translate(100, 100) rotate(180) "),t.appendChild(e),t},r.prototype.setArrowText=function(){var t=this.parent.options,e=this.isLeft?t.leftArrowText:t.rightArrowText;o.setText(this.element,e)},r.prototype.onTap=function(){if(this.isEnabled){this.parent.uiChange();var t=this.isPrevious?"previous":"next";this.parent[t]()}},r.prototype.handleEvent=o.handleEvent,r.prototype.onclick=function(){var t=document.activeElement;t&&t==this.element&&this.onTap()},r.prototype.enable=function(){this.isEnabled||(this.element.disabled=!1,this.isEnabled=!0)},r.prototype.disable=function(){this.isEnabled&&(this.element.disabled=!0,this.isEnabled=!1)},r.prototype.update=function(){var t=this.parent.cells;if(this.parent.options.wrapAround&&t.length>1)return void this.enable();var e=t.length?t.length-1:0,i=this.isPrevious?0:e,n=this.parent.selectedIndex==i?"disable":"enable";this[n]()},r.prototype.destroy=function(){this.deactivate()},o.extend(i.defaults,{prevNextButtons:!0,leftArrowText:"‹",rightArrowText:"›",arrowShape:{x0:10,x1:60,y1:50,x2:70,y2:40,x3:30}}),i.createMethods.push("_createPrevNextButtons"),i.prototype._createPrevNextButtons=function(){this.options.prevNextButtons&&(this.prevButton=new r(-1,this),this.nextButton=new r(1,this),this.on("activate",this.activatePrevNextButtons))},i.prototype.activatePrevNextButtons=function(){this.prevButton.activate(),this.nextButton.activate(),this.on("deactivate",this.deactivatePrevNextButtons)},i.prototype.deactivatePrevNextButtons=function(){this.prevButton.deactivate(),this.nextButton.deactivate(),this.off("deactivate",this.deactivatePrevNextButtons)},i.PrevNextButton=r,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/page-dots",["eventie/eventie","./flickity","tap-listener/tap-listener","fizzy-ui-utils/utils"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof exports?module.exports=e(t,require("eventie"),require("./flickity"),require("tap-listener"),require("fizzy-ui-utils")):e(t,t.eventie,t.Flickity,t.TapListener,t.fizzyUIUtils)}(window,function(t,e,i,n,o){function r(t){this.parent=t,this._create()}return r.prototype=new n,r.prototype._create=function(){this.holder=document.createElement("ol"),this.holder.className="flickity-page-dots",i.setUnselectable(this.holder),this.dots=[];var t=this;this.onCellSelect=function(){t.updateSelected()},this.parent.on("cellSelect",this.onCellSelect),this.on("tap",this.onTap),this.on("pointerDown",function(e,i){t.parent.childUIPointerDown(i)})},r.prototype.activate=function(){this.setDots(),this.updateSelected(),this.bindTap(this.holder),this.parent.element.appendChild(this.holder)},r.prototype.deactivate=function(){this.parent.element.removeChild(this.holder),n.prototype.destroy.call(this)},r.prototype.setDots=function(){var t=this.parent.cells.length-this.dots.length;t>0?this.addDots(t):0>t&&this.removeDots(-t)},r.prototype.addDots=function(t){for(var e=document.createDocumentFragment(),i=[];t;){var n=document.createElement("li");n.className="dot",e.appendChild(n),i.push(n),t--}this.holder.appendChild(e),this.dots=this.dots.concat(i)},r.prototype.removeDots=function(t){for(var e=this.dots.splice(this.dots.length-t,t),i=0,n=e.length;n>i;i++){var o=e[i];this.holder.removeChild(o)}},r.prototype.updateSelected=function(){this.selectedDot&&(this.selectedDot.className="dot"),this.dots.length&&(this.selectedDot=this.dots[this.parent.selectedIndex],this.selectedDot.className="dot is-selected")},r.prototype.onTap=function(t){var e=t.target;if("LI"==e.nodeName){this.parent.uiChange();var i=o.indexOf(this.dots,e);this.parent.select(i)}},r.prototype.destroy=function(){this.deactivate()},i.PageDots=r,o.extend(i.defaults,{pageDots:!0}),i.createMethods.push("_createPageDots"),i.prototype._createPageDots=function(){this.options.pageDots&&(this.pageDots=new r(this),this.on("activate",this.activatePageDots),this.on("cellAddedRemoved",this.onCellAddedRemovedPageDots),this.on("deactivate",this.deactivatePageDots))},i.prototype.activatePageDots=function(){this.pageDots.activate()},i.prototype.onCellAddedRemovedPageDots=function(){this.pageDots.setDots()},i.prototype.deactivatePageDots=function(){this.pageDots.deactivate()},i.PageDots=r,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/player",["eventEmitter/EventEmitter","eventie/eventie","./flickity"],function(t,i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(require("wolfy87-eventemitter"),require("eventie"),require("./flickity")):e(t.EventEmitter,t.eventie,t.Flickity)}(window,function(t,e,i){function n(t){if(this.isPlaying=!1,this.parent=t,r){var e=this;this.onVisibilityChange=function(){e.visibilityChange()}}}var o,r;return"hidden"in document?(o="hidden",r="visibilitychange"):"webkitHidden"in document&&(o="webkitHidden",r="webkitvisibilitychange"),n.prototype=new t,n.prototype.play=function(){this.isPlaying=!0,delete this.isPaused,r&&document.addEventListener(r,this.onVisibilityChange,!1),this.tick()},n.prototype.tick=function(){if(this.isPlaying&&!this.isPaused){this.tickTime=new Date;var t=this.parent.options.autoPlay;t="number"==typeof t?t:3e3;var e=this;this.timeout=setTimeout(function(){e.parent.next(!0),e.tick()},t)}},n.prototype.stop=function(){this.isPlaying=!1,delete this.isPaused,this.clear(),r&&document.removeEventListener(r,this.onVisibilityChange,!1)},n.prototype.clear=function(){clearTimeout(this.timeout)},n.prototype.pause=function(){this.isPlaying&&(this.isPaused=!0,this.clear())},n.prototype.unpause=function(){this.isPaused&&this.play()},n.prototype.visibilityChange=function(){var t=document[o];this[t?"pause":"unpause"]()},i.createMethods.push("_createPlayer"),i.prototype._createPlayer=function(){this.player=new n(this),this.on("activate",this.activatePlayer),this.on("uiChange",this.stopPlayer),this.on("pointerDown",this.stopPlayer),this.on("deactivate",this.deactivatePlayer)},i.prototype.activatePlayer=function(){this.options.autoPlay&&(this.player.play(),e.bind(this.element,"mouseenter",this),this.isMouseenterBound=!0)},i.prototype.stopPlayer=function(){this.player.stop()},i.prototype.deactivatePlayer=function(){this.player.stop(),this.isMouseenterBound&&(e.unbind(this.element,"mouseenter",this),delete this.isMouseenterBound)},i.prototype.onmouseenter=function(){this.player.pause(),e.bind(this.element,"mouseleave",this)},i.prototype.onmouseleave=function(){this.player.unpause(),e.unbind(this.element,"mouseleave",this)},i.Player=n,i}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/add-remove-cell",["./flickity","fizzy-ui-utils/utils"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("./flickity"),require("fizzy-ui-utils")):e(t,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i){function n(t){for(var e=document.createDocumentFragment(),i=0,n=t.length;n>i;i++){var o=t[i];e.appendChild(o.element)}return e}return e.prototype.insert=function(t,e){var i=this._makeCells(t);if(i&&i.length){var o=this.cells.length;e=void 0===e?o:e;var r=n(i),s=e==o;if(s)this.slider.appendChild(r);else{var a=this.cells[e].element;this.slider.insertBefore(r,a)}if(0===e)this.cells=i.concat(this.cells);else if(s)this.cells=this.cells.concat(i);else{var l=this.cells.splice(e,o-e);this.cells=this.cells.concat(i).concat(l)}this._sizeCells(i);var c=e>this.selectedIndex?0:i.length;this._cellAddedRemoved(e,c)}},e.prototype.append=function(t){this.insert(t,this.cells.length)},e.prototype.prepend=function(t){this.insert(t,0)},e.prototype.remove=function(t){var e,n,o,r=this.getCells(t),s=0;for(e=0,n=r.length;n>e;e++){o=r[e];var a=i.indexOf(this.cells,o)<this.selectedIndex;s-=a?1:0}for(e=0,n=r.length;n>e;e++)o=r[e],o.remove(),i.removeFrom(this.cells,o);r.length&&this._cellAddedRemoved(0,s)},e.prototype._cellAddedRemoved=function(t,e){e=e||0,this.selectedIndex+=e,this.selectedIndex=Math.max(0,Math.min(this.cells.length-1,this.selectedIndex)),this.emitEvent("cellAddedRemoved",[t,e]),this.cellChange(t,!0)},e.prototype.cellSizeChange=function(t){var e=this.getCell(t);if(e){e.getSize();var n=i.indexOf(this.cells,e);this.cellChange(n)}},e.prototype.cellChange=function(t,e){var i=this.slideableWidth;this._positionCells(t),this._getWrapShiftCells(),this.setGallerySize(),this.options.freeScroll?(this.x+=i-this.slideableWidth,this.positionSlider()):(e&&this.positionSliderAtSelected(),this.select(this.selectedIndex))},e}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/lazyload",["classie/classie","eventie/eventie","./flickity","fizzy-ui-utils/utils"],function(i,n,o,r){return e(t,i,n,o,r)}):"object"==typeof exports?module.exports=e(t,require("desandro-classie"),require("eventie"),require("./flickity"),require("fizzy-ui-utils")):e(t,t.classie,t.eventie,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i,n,o){function r(t){if("IMG"==t.nodeName&&t.getAttribute("data-flickity-lazyload"))return[t];var e=t.querySelectorAll("img[data-flickity-lazyload]");return o.makeArray(e)}function s(t,e){this.img=t,this.flickity=e,this.load()}return n.createMethods.push("_createLazyload"),n.prototype._createLazyload=function(){this.on("cellSelect",this.lazyLoad)},n.prototype.lazyLoad=function(){var t=this.options.lazyLoad;if(t){for(var e="number"==typeof t?t:0,i=this.getAdjacentCellElements(e),n=[],o=0,a=i.length;a>o;o++){var l=i[o],c=r(l);n=n.concat(c)}for(o=0,a=n.length;a>o;o++){var h=n[o];new s(h,this)}}},s.prototype.handleEvent=o.handleEvent,s.prototype.load=function(){i.bind(this.img,"load",this),i.bind(this.img,"error",this),this.img.src=this.img.getAttribute("data-flickity-lazyload"),this.img.removeAttribute("data-flickity-lazyload")},s.prototype.onload=function(t){this.complete(t,"flickity-lazyloaded")},s.prototype.onerror=function(){this.complete(event,"flickity-lazyerror")},s.prototype.complete=function(t,n){i.unbind(this.img,"load",this),i.unbind(this.img,"error",this);var o=this.flickity.getParentCell(this.img),r=o&&o.element;this.flickity.cellSizeChange(r),e.add(this.img,n),this.flickity.dispatchEvent("lazyLoad",t,r)},n.LazyLoader=s,n}),function(t,e){"function"==typeof define&&define.amd?define("flickity/js/index",["./flickity","./drag","./prev-next-button","./page-dots","./player","./add-remove-cell","./lazyload"],e):"object"==typeof exports&&(module.exports=e(require("./flickity"),require("./drag"),require("./prev-next-button"),require("./page-dots"),require("./player"),require("./add-remove-cell"),require("./lazyload")))}(window,function(t){return t}),function(t,e){"function"==typeof define&&define.amd?define("flickity-as-nav-for/as-nav-for",["classie/classie","flickity/js/index","fizzy-ui-utils/utils"],function(i,n,o){return e(t,i,n,o)}):"object"==typeof exports?module.exports=e(t,require("desandro-classie"),require("flickity"),require("fizzy-ui-utils")):t.Flickity=e(t,t.classie,t.Flickity,t.fizzyUIUtils)}(window,function(t,e,i,n){return i.createMethods.push("_createAsNavFor"),i.prototype._createAsNavFor=function(){this.on("activate",this.activateAsNavFor),this.on("deactivate",this.deactivateAsNavFor),this.on("destroy",this.destroyAsNavFor);var t=this.options.asNavFor;if(t){var e=this;setTimeout(function(){e.setNavCompanion(t)})}},i.prototype.setNavCompanion=function(t){t=n.getQueryElement(t);var e=i.data(t);if(e&&e!=this){this.navCompanion=e;var o=this;this.onNavCompanionSelect=function(){o.navCompanionSelect()},e.on("cellSelect",this.onNavCompanionSelect),this.on("staticClick",this.onNavStaticClick),this.navCompanionSelect()}},i.prototype.navCompanionSelect=function(){if(this.navCompanion){var t=this.navCompanion.selectedIndex;this.select(t),this.removeNavSelectedElement(),this.selectedIndex==t&&(this.navSelectedElement=this.cells[t].element,e.add(this.navSelectedElement,"is-nav-selected"))}},i.prototype.activateAsNavFor=function(){this.navCompanionSelect()},i.prototype.removeNavSelectedElement=function(){this.navSelectedElement&&(e.remove(this.navSelectedElement,"is-nav-selected"),delete this.navSelectedElement)},i.prototype.onNavStaticClick=function(t,e,i,n){"number"==typeof n&&this.navCompanion.select(n)},i.prototype.deactivateAsNavFor=function(){this.removeNavSelectedElement()},i.prototype.destroyAsNavFor=function(){this.navCompanion&&(this.navCompanion.off("cellSelect",this.onNavCompanionSelect),this.off("staticClick",this.onNavStaticClick),delete this.navCompanion)},i}),function(t,e){"function"==typeof define&&define.amd?define("imagesloaded/imagesloaded",["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("wolfy87-eventemitter"),require("eventie")):t.imagesLoaded=e(t,t.EventEmitter,t.eventie)}(window,function(t,e,i){function n(t,e){for(var i in e)t[i]=e[i];return t}function o(t){return"[object Array]"===d.call(t)}function r(t){var e=[];if(o(t))e=t;else if("number"==typeof t.length)for(var i=0,n=t.length;n>i;i++)e.push(t[i]);else e.push(t);return e}function s(t,e,i){if(!(this instanceof s))return new s(t,e);"string"==typeof t&&(t=document.querySelectorAll(t)),this.elements=r(t),this.options=n({},this.options),"function"==typeof e?i=e:n(this.options,e),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function a(t){this.img=t}function l(t){this.src=t,u[t]=this}var c=t.jQuery,h=t.console,p="undefined"!=typeof h,d=Object.prototype.toString;s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var t=0,e=this.elements.length;e>t;t++){var i=this.elements[t];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var a=o[r];this.addImage(a)}}},s.prototype.addImage=function(t){var e=new a(t);this.images.push(e)},s.prototype.check=function(){function t(t,o){return e.options.debug&&p&&h.log("confirm",t,o),e.progress(t),i++,i===n&&e.complete(),!0}var e=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var r=this.images[o];r.on("confirm",t),r.check()}},s.prototype.progress=function(t){this.hasAnyBroken=this.hasAnyBroken||!t.isLoaded;var e=this;setTimeout(function(){e.emit("progress",e,t),e.jqDeferred&&e.jqDeferred.notify&&e.jqDeferred.notify(e,t)})},s.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var e=this;setTimeout(function(){if(e.emit(t,e),e.emit("always",e),e.jqDeferred){var i=e.hasAnyBroken?"reject":"resolve";e.jqDeferred[i](e)}})},c&&(c.fn.imagesLoaded=function(t,e){var i=new s(this,t,e);return i.jqDeferred.promise(c(this))}),a.prototype=new e,a.prototype.check=function(){var t=u[this.img.src]||new l(this.img.src);if(t.isConfirmed)return void this.confirm(t.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var e=this;t.on("confirm",function(t,i){return e.confirm(t.isLoaded,i),!0}),t.check()},a.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("confirm",this,e)};var u={};return l.prototype=new e,l.prototype.check=function(){if(!this.isChecked){var t=new Image;i.bind(t,"load",this),i.bind(t,"error",this),t.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},l.prototype.onload=function(t){this.confirm(!0,"onload"),this.unbindProxyEvents(t)},l.prototype.onerror=function(t){this.confirm(!1,"onerror"),this.unbindProxyEvents(t)},l.prototype.confirm=function(t,e){this.isConfirmed=!0,this.isLoaded=t,this.emit("confirm",this,e)},l.prototype.unbindProxyEvents=function(t){i.unbind(t.target,"load",this),i.unbind(t.target,"error",this)},s}),function(t,e){"function"==typeof define&&define.amd?define(["flickity/js/index","imagesloaded/imagesloaded"],function(i,n){return e(t,i,n)}):"object"==typeof exports?module.exports=e(t,require("flickity"),require("imagesloaded")):t.Flickity=e(t,t.Flickity,t.imagesLoaded)}(window,function(t,e,i){return e.createMethods.push("_createImagesLoaded"),e.prototype._createImagesLoaded=function(){this.on("activate",this.imagesLoaded)},e.prototype.imagesLoaded=function(){function t(t,i){var n=e.getParentCell(i.img);e.cellSizeChange(n&&n.element),e.options.freeScroll||e.positionSliderAtSelected()}if(this.options.imagesLoaded){var e=this;i(this.slider).on("progress",t)}},e});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJmbGlja2l0eS5wa2dkLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEZsaWNraXR5IFBBQ0tBR0VEIHYxLjEuMVxuICogVG91Y2gsIHJlc3BvbnNpdmUsIGZsaWNrYWJsZSBnYWxsZXJpZXNcbiAqXG4gKiBMaWNlbnNlZCBHUEx2MyBmb3Igb3BlbiBzb3VyY2UgdXNlXG4gKiBvciBGbGlja2l0eSBDb21tZXJjaWFsIExpY2Vuc2UgZm9yIGNvbW1lcmNpYWwgdXNlXG4gKlxuICogaHR0cDovL2ZsaWNraXR5Lm1ldGFmaXp6eS5jb1xuICogQ29weXJpZ2h0IDIwMTUgTWV0YWZpenp5XG4gKi9cblxuIWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXt9ZnVuY3Rpb24gaSh0KXtmdW5jdGlvbiBpKGUpe2UucHJvdG90eXBlLm9wdGlvbnx8KGUucHJvdG90eXBlLm9wdGlvbj1mdW5jdGlvbihlKXt0LmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLm9wdGlvbnM9dC5leHRlbmQoITAsdGhpcy5vcHRpb25zLGUpKX0pfWZ1bmN0aW9uIG8oZSxpKXt0LmZuW2VdPWZ1bmN0aW9uKG8pe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvKXtmb3IodmFyIHM9bi5jYWxsKGFyZ3VtZW50cywxKSxhPTAsbD10aGlzLmxlbmd0aDtsPmE7YSsrKXt2YXIgYz10aGlzW2FdLGg9dC5kYXRhKGMsZSk7aWYoaClpZih0LmlzRnVuY3Rpb24oaFtvXSkmJlwiX1wiIT09by5jaGFyQXQoMCkpe3ZhciBwPWhbb10uYXBwbHkoaCxzKTtpZih2b2lkIDAhPT1wKXJldHVybiBwfWVsc2UgcihcIm5vIHN1Y2ggbWV0aG9kICdcIitvK1wiJyBmb3IgXCIrZStcIiBpbnN0YW5jZVwiKTtlbHNlIHIoXCJjYW5ub3QgY2FsbCBtZXRob2RzIG9uIFwiK2UrXCIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsICdcIitvK1wiJ1wiKX1yZXR1cm4gdGhpc31yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dC5kYXRhKHRoaXMsZSk7bj8obi5vcHRpb24obyksbi5faW5pdCgpKToobj1uZXcgaSh0aGlzLG8pLHQuZGF0YSh0aGlzLGUsbikpfSl9fWlmKHQpe3ZhciByPVwidW5kZWZpbmVkXCI9PXR5cGVvZiBjb25zb2xlP2U6ZnVuY3Rpb24odCl7Y29uc29sZS5lcnJvcih0KX07cmV0dXJuIHQuYnJpZGdldD1mdW5jdGlvbih0LGUpe2koZSksbyh0LGUpfSx0LmJyaWRnZXR9fXZhciBuPUFycmF5LnByb3RvdHlwZS5zbGljZTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwianF1ZXJ5LWJyaWRnZXQvanF1ZXJ5LmJyaWRnZXRcIixbXCJqcXVlcnlcIl0saSk6aShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9yZXF1aXJlKFwianF1ZXJ5XCIpOnQualF1ZXJ5KX0od2luZG93KSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3JldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMrKVwiK3QrXCIoXFxcXHMrfCQpXCIpfWZ1bmN0aW9uIGkodCxlKXt2YXIgaT1uKHQsZSk/cjpvO2kodCxlKX12YXIgbixvLHI7XCJjbGFzc0xpc3RcImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudD8obj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmNsYXNzTGlzdC5jb250YWlucyhlKX0sbz1mdW5jdGlvbih0LGUpe3QuY2xhc3NMaXN0LmFkZChlKX0scj1mdW5jdGlvbih0LGUpe3QuY2xhc3NMaXN0LnJlbW92ZShlKX0pOihuPWZ1bmN0aW9uKHQsaSl7cmV0dXJuIGUoaSkudGVzdCh0LmNsYXNzTmFtZSl9LG89ZnVuY3Rpb24odCxlKXtuKHQsZSl8fCh0LmNsYXNzTmFtZT10LmNsYXNzTmFtZStcIiBcIitlKX0scj1mdW5jdGlvbih0LGkpe3QuY2xhc3NOYW1lPXQuY2xhc3NOYW1lLnJlcGxhY2UoZShpKSxcIiBcIil9KTt2YXIgcz17aGFzQ2xhc3M6bixhZGRDbGFzczpvLHJlbW92ZUNsYXNzOnIsdG9nZ2xlQ2xhc3M6aSxoYXM6bixhZGQ6byxyZW1vdmU6cix0b2dnbGU6aX07XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImNsYXNzaWUvY2xhc3NpZVwiLHMpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXM6dC5jbGFzc2llPXN9KHdpbmRvdyksZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fWZ1bmN0aW9uIGUodCxlKXtmb3IodmFyIGk9dC5sZW5ndGg7aS0tOylpZih0W2ldLmxpc3RlbmVyPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW3RdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIG49dC5wcm90b3R5cGUsbz10aGlzLHI9by5FdmVudEVtaXR0ZXI7bi5nZXRMaXN0ZW5lcnM9ZnVuY3Rpb24odCl7dmFyIGUsaSxuPXRoaXMuX2dldEV2ZW50cygpO2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApe2U9e307Zm9yKGkgaW4gbiluLmhhc093blByb3BlcnR5KGkpJiZ0LnRlc3QoaSkmJihlW2ldPW5baV0pfWVsc2UgZT1uW3RdfHwoblt0XT1bXSk7cmV0dXJuIGV9LG4uZmxhdHRlbkxpc3RlbmVycz1mdW5jdGlvbih0KXt2YXIgZSxpPVtdO2ZvcihlPTA7ZTx0Lmxlbmd0aDtlKz0xKWkucHVzaCh0W2VdLmxpc3RlbmVyKTtyZXR1cm4gaX0sbi5nZXRMaXN0ZW5lcnNBc09iamVjdD1mdW5jdGlvbih0KXt2YXIgZSxpPXRoaXMuZ2V0TGlzdGVuZXJzKHQpO3JldHVybiBpIGluc3RhbmNlb2YgQXJyYXkmJihlPXt9LGVbdF09aSksZXx8aX0sbi5hZGRMaXN0ZW5lcj1mdW5jdGlvbih0LGkpe3ZhciBuLG89dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdCh0KSxyPVwib2JqZWN0XCI9PXR5cGVvZiBpO2ZvcihuIGluIG8pby5oYXNPd25Qcm9wZXJ0eShuKSYmLTE9PT1lKG9bbl0saSkmJm9bbl0ucHVzaChyP2k6e2xpc3RlbmVyOmksb25jZTohMX0pO3JldHVybiB0aGlzfSxuLm9uPWkoXCJhZGRMaXN0ZW5lclwiKSxuLmFkZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmFkZExpc3RlbmVyKHQse2xpc3RlbmVyOmUsb25jZTohMH0pfSxuLm9uY2U9aShcImFkZE9uY2VMaXN0ZW5lclwiKSxuLmRlZmluZUV2ZW50PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmdldExpc3RlbmVycyh0KSx0aGlzfSxuLmRlZmluZUV2ZW50cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9MDtlPHQubGVuZ3RoO2UrPTEpdGhpcy5kZWZpbmVFdmVudCh0W2VdKTtyZXR1cm4gdGhpc30sbi5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0LGkpe3ZhciBuLG8scj10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KHQpO2ZvcihvIGluIHIpci5oYXNPd25Qcm9wZXJ0eShvKSYmKG49ZShyW29dLGkpLC0xIT09biYmcltvXS5zcGxpY2UobiwxKSk7cmV0dXJuIHRoaXN9LG4ub2ZmPWkoXCJyZW1vdmVMaXN0ZW5lclwiKSxuLmFkZExpc3RlbmVycz1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITEsdCxlKX0sbi5yZW1vdmVMaXN0ZW5lcnM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCEwLHQsZSl9LG4ubWFuaXB1bGF0ZUxpc3RlbmVycz1mdW5jdGlvbih0LGUsaSl7dmFyIG4sbyxyPXQ/dGhpcy5yZW1vdmVMaXN0ZW5lcjp0aGlzLmFkZExpc3RlbmVyLHM9dD90aGlzLnJlbW92ZUxpc3RlbmVyczp0aGlzLmFkZExpc3RlbmVycztpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cClmb3Iobj1pLmxlbmd0aDtuLS07KXIuY2FsbCh0aGlzLGUsaVtuXSk7ZWxzZSBmb3IobiBpbiBlKWUuaGFzT3duUHJvcGVydHkobikmJihvPWVbbl0pJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygbz9yLmNhbGwodGhpcyxuLG8pOnMuY2FsbCh0aGlzLG4sbykpO3JldHVybiB0aGlzfSxuLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlLGk9dHlwZW9mIHQsbj10aGlzLl9nZXRFdmVudHMoKTtpZihcInN0cmluZ1wiPT09aSlkZWxldGUgblt0XTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBSZWdFeHApZm9yKGUgaW4gbiluLmhhc093blByb3BlcnR5KGUpJiZ0LnRlc3QoZSkmJmRlbGV0ZSBuW2VdO2Vsc2UgZGVsZXRlIHRoaXMuX2V2ZW50cztyZXR1cm4gdGhpc30sbi5yZW1vdmVBbGxMaXN0ZW5lcnM9aShcInJlbW92ZUV2ZW50XCIpLG4uZW1pdEV2ZW50PWZ1bmN0aW9uKHQsZSl7dmFyIGksbixvLHIscz10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KHQpO2ZvcihvIGluIHMpaWYocy5oYXNPd25Qcm9wZXJ0eShvKSlmb3Iobj1zW29dLmxlbmd0aDtuLS07KWk9c1tvXVtuXSxpLm9uY2U9PT0hMCYmdGhpcy5yZW1vdmVMaXN0ZW5lcih0LGkubGlzdGVuZXIpLHI9aS5saXN0ZW5lci5hcHBseSh0aGlzLGV8fFtdKSxyPT09dGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkmJnRoaXMucmVtb3ZlTGlzdGVuZXIodCxpLmxpc3RlbmVyKTtyZXR1cm4gdGhpc30sbi50cmlnZ2VyPWkoXCJlbWl0RXZlbnRcIiksbi5lbWl0PWZ1bmN0aW9uKHQpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy5lbWl0RXZlbnQodCxlKX0sbi5zZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZT10LHRoaXN9LG4uX2dldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KFwiX29uY2VSZXR1cm5WYWx1ZVwiKT90aGlzLl9vbmNlUmV0dXJuVmFsdWU6ITB9LG4uX2dldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pfSx0Lm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gby5FdmVudEVtaXR0ZXI9cix0fSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZXZlbnRFbWl0dGVyL0V2ZW50RW1pdHRlclwiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIHR9KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10Om8uRXZlbnRFbWl0dGVyPXR9LmNhbGwodGhpcyksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgaT10LmV2ZW50O3JldHVybiBpLnRhcmdldD1pLnRhcmdldHx8aS5zcmNFbGVtZW50fHxlLGl9dmFyIGk9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LG49ZnVuY3Rpb24oKXt9O2kuYWRkRXZlbnRMaXN0ZW5lcj9uPWZ1bmN0aW9uKHQsZSxpKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxpLCExKX06aS5hdHRhY2hFdmVudCYmKG49ZnVuY3Rpb24odCxpLG4pe3RbaStuXT1uLmhhbmRsZUV2ZW50P2Z1bmN0aW9uKCl7dmFyIGk9ZSh0KTtuLmhhbmRsZUV2ZW50LmNhbGwobixpKX06ZnVuY3Rpb24oKXt2YXIgaT1lKHQpO24uY2FsbCh0LGkpfSx0LmF0dGFjaEV2ZW50KFwib25cIitpLHRbaStuXSl9KTt2YXIgbz1mdW5jdGlvbigpe307aS5yZW1vdmVFdmVudExpc3RlbmVyP289ZnVuY3Rpb24odCxlLGkpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLGksITEpfTppLmRldGFjaEV2ZW50JiYobz1mdW5jdGlvbih0LGUsaSl7dC5kZXRhY2hFdmVudChcIm9uXCIrZSx0W2UraV0pO3RyeXtkZWxldGUgdFtlK2ldfWNhdGNoKG4pe3RbZStpXT12b2lkIDB9fSk7dmFyIHI9e2JpbmQ6bix1bmJpbmQ6b307XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImV2ZW50aWUvZXZlbnRpZVwiLHIpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPXI6dC5ldmVudGllPXJ9KHdpbmRvdyksZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2Ygblt0XSlyZXR1cm4gdDt0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtmb3IodmFyIGUsbz0wLHI9aS5sZW5ndGg7cj5vO28rKylpZihlPWlbb10rdCxcInN0cmluZ1wiPT10eXBlb2YgbltlXSlyZXR1cm4gZX19dmFyIGk9XCJXZWJraXQgTW96IG1zIE1zIE9cIi5zcGxpdChcIiBcIiksbj1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImdldC1zdHlsZS1wcm9wZXJ0eS9nZXQtc3R5bGUtcHJvcGVydHlcIixbXSxmdW5jdGlvbigpe3JldHVybiBlfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZTp0LmdldFN0eWxlUHJvcGVydHk9ZX0od2luZG93KSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3ZhciBlPXBhcnNlRmxvYXQodCksaT0tMT09PXQuaW5kZXhPZihcIiVcIikmJiFpc05hTihlKTtyZXR1cm4gaSYmZX1mdW5jdGlvbiBpKCl7fWZ1bmN0aW9uIG4oKXtmb3IodmFyIHQ9e3dpZHRoOjAsaGVpZ2h0OjAsaW5uZXJXaWR0aDowLGlubmVySGVpZ2h0OjAsb3V0ZXJXaWR0aDowLG91dGVySGVpZ2h0OjB9LGU9MCxpPXMubGVuZ3RoO2k+ZTtlKyspe3ZhciBuPXNbZV07dFtuXT0wfXJldHVybiB0fWZ1bmN0aW9uIG8oaSl7ZnVuY3Rpb24gbygpe2lmKCFkKXtkPSEwO3ZhciBuPXQuZ2V0Q29tcHV0ZWRTdHlsZTtpZihjPWZ1bmN0aW9uKCl7dmFyIHQ9bj9mdW5jdGlvbih0KXtyZXR1cm4gbih0LG51bGwpfTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jdXJyZW50U3R5bGV9O3JldHVybiBmdW5jdGlvbihlKXt2YXIgaT10KGUpO3JldHVybiBpfHxyKFwiU3R5bGUgcmV0dXJuZWQgXCIraStcIi4gQXJlIHlvdSBydW5uaW5nIHRoaXMgY29kZSBpbiBhIGhpZGRlbiBpZnJhbWUgb24gRmlyZWZveD8gU2VlIGh0dHA6Ly9iaXQubHkvZ2V0c2l6ZWJ1ZzFcIiksaX19KCksaD1pKFwiYm94U2l6aW5nXCIpKXt2YXIgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO28uc3R5bGUud2lkdGg9XCIyMDBweFwiLG8uc3R5bGUucGFkZGluZz1cIjFweCAycHggM3B4IDRweFwiLG8uc3R5bGUuYm9yZGVyU3R5bGU9XCJzb2xpZFwiLG8uc3R5bGUuYm9yZGVyV2lkdGg9XCIxcHggMnB4IDNweCA0cHhcIixvLnN0eWxlW2hdPVwiYm9yZGVyLWJveFwiO3ZhciBzPWRvY3VtZW50LmJvZHl8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtzLmFwcGVuZENoaWxkKG8pO3ZhciBhPWMobyk7cD0yMDA9PT1lKGEud2lkdGgpLHMucmVtb3ZlQ2hpbGQobyl9fX1mdW5jdGlvbiBhKHQpe2lmKG8oKSxcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0KSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQubm9kZVR5cGUpe3ZhciBpPWModCk7aWYoXCJub25lXCI9PT1pLmRpc3BsYXkpcmV0dXJuIG4oKTt2YXIgcj17fTtyLndpZHRoPXQub2Zmc2V0V2lkdGgsci5oZWlnaHQ9dC5vZmZzZXRIZWlnaHQ7Zm9yKHZhciBhPXIuaXNCb3JkZXJCb3g9ISghaHx8IWlbaF18fFwiYm9yZGVyLWJveFwiIT09aVtoXSksZD0wLHU9cy5sZW5ndGg7dT5kO2QrKyl7dmFyIGY9c1tkXSx2PWlbZl07dj1sKHQsdik7dmFyIHk9cGFyc2VGbG9hdCh2KTtyW2ZdPWlzTmFOKHkpPzA6eX12YXIgZz1yLnBhZGRpbmdMZWZ0K3IucGFkZGluZ1JpZ2h0LG09ci5wYWRkaW5nVG9wK3IucGFkZGluZ0JvdHRvbSxiPXIubWFyZ2luTGVmdCtyLm1hcmdpblJpZ2h0LFM9ci5tYXJnaW5Ub3Arci5tYXJnaW5Cb3R0b20seD1yLmJvcmRlckxlZnRXaWR0aCtyLmJvcmRlclJpZ2h0V2lkdGgsdz1yLmJvcmRlclRvcFdpZHRoK3IuYm9yZGVyQm90dG9tV2lkdGgsQz1hJiZwLEU9ZShpLndpZHRoKTtFIT09ITEmJihyLndpZHRoPUUrKEM/MDpnK3gpKTt2YXIgUD1lKGkuaGVpZ2h0KTtyZXR1cm4gUCE9PSExJiYoci5oZWlnaHQ9UCsoQz8wOm0rdykpLHIuaW5uZXJXaWR0aD1yLndpZHRoLShnK3gpLHIuaW5uZXJIZWlnaHQ9ci5oZWlnaHQtKG0rdyksci5vdXRlcldpZHRoPXIud2lkdGgrYixyLm91dGVySGVpZ2h0PXIuaGVpZ2h0K1Mscn19ZnVuY3Rpb24gbChlLGkpe2lmKHQuZ2V0Q29tcHV0ZWRTdHlsZXx8LTE9PT1pLmluZGV4T2YoXCIlXCIpKXJldHVybiBpO3ZhciBuPWUuc3R5bGUsbz1uLmxlZnQscj1lLnJ1bnRpbWVTdHlsZSxzPXImJnIubGVmdDtyZXR1cm4gcyYmKHIubGVmdD1lLmN1cnJlbnRTdHlsZS5sZWZ0KSxuLmxlZnQ9aSxpPW4ucGl4ZWxMZWZ0LG4ubGVmdD1vLHMmJihyLmxlZnQ9cyksaX12YXIgYyxoLHAsZD0hMTtyZXR1cm4gYX12YXIgcj1cInVuZGVmaW5lZFwiPT10eXBlb2YgY29uc29sZT9pOmZ1bmN0aW9uKHQpe2NvbnNvbGUuZXJyb3IodCl9LHM9W1wicGFkZGluZ0xlZnRcIixcInBhZGRpbmdSaWdodFwiLFwicGFkZGluZ1RvcFwiLFwicGFkZGluZ0JvdHRvbVwiLFwibWFyZ2luTGVmdFwiLFwibWFyZ2luUmlnaHRcIixcIm1hcmdpblRvcFwiLFwibWFyZ2luQm90dG9tXCIsXCJib3JkZXJMZWZ0V2lkdGhcIixcImJvcmRlclJpZ2h0V2lkdGhcIixcImJvcmRlclRvcFdpZHRoXCIsXCJib3JkZXJCb3R0b21XaWR0aFwiXTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZ2V0LXNpemUvZ2V0LXNpemVcIixbXCJnZXQtc3R5bGUtcHJvcGVydHkvZ2V0LXN0eWxlLXByb3BlcnR5XCJdLG8pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPW8ocmVxdWlyZShcImRlc2FuZHJvLWdldC1zdHlsZS1wcm9wZXJ0eVwiKSk6dC5nZXRTaXplPW8odC5nZXRTdHlsZVByb3BlcnR5KX0od2luZG93KSxmdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihlLmlzUmVhZHk/dCgpOnMucHVzaCh0KSl9ZnVuY3Rpb24gaSh0KXt2YXIgaT1cInJlYWR5c3RhdGVjaGFuZ2VcIj09PXQudHlwZSYmXCJjb21wbGV0ZVwiIT09ci5yZWFkeVN0YXRlO2UuaXNSZWFkeXx8aXx8bigpfWZ1bmN0aW9uIG4oKXtlLmlzUmVhZHk9ITA7Zm9yKHZhciB0PTAsaT1zLmxlbmd0aDtpPnQ7dCsrKXt2YXIgbj1zW3RdO24oKX19ZnVuY3Rpb24gbyhvKXtyZXR1cm5cImNvbXBsZXRlXCI9PT1yLnJlYWR5U3RhdGU/bigpOihvLmJpbmQocixcIkRPTUNvbnRlbnRMb2FkZWRcIixpKSxvLmJpbmQocixcInJlYWR5c3RhdGVjaGFuZ2VcIixpKSxvLmJpbmQodCxcImxvYWRcIixpKSksZX12YXIgcj10LmRvY3VtZW50LHM9W107ZS5pc1JlYWR5PSExLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJkb2MtcmVhZHkvZG9jLXJlYWR5XCIsW1wiZXZlbnRpZS9ldmVudGllXCJdLG8pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPW8ocmVxdWlyZShcImV2ZW50aWVcIikpOnQuZG9jUmVhZHk9byh0LmV2ZW50aWUpfSh3aW5kb3cpLGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCxlKXtyZXR1cm4gdFtzXShlKX1mdW5jdGlvbiBpKHQpe2lmKCF0LnBhcmVudE5vZGUpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtlLmFwcGVuZENoaWxkKHQpfX1mdW5jdGlvbiBuKHQsZSl7aSh0KTtmb3IodmFyIG49dC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3JBbGwoZSksbz0wLHI9bi5sZW5ndGg7cj5vO28rKylpZihuW29dPT09dClyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBvKHQsbil7cmV0dXJuIGkodCksZSh0LG4pfXZhciByLHM9ZnVuY3Rpb24oKXtpZih0Lm1hdGNoZXMpcmV0dXJuXCJtYXRjaGVzXCI7aWYodC5tYXRjaGVzU2VsZWN0b3IpcmV0dXJuXCJtYXRjaGVzU2VsZWN0b3JcIjtmb3IodmFyIGU9W1wid2Via2l0XCIsXCJtb3pcIixcIm1zXCIsXCJvXCJdLGk9MCxuPWUubGVuZ3RoO24+aTtpKyspe3ZhciBvPWVbaV0scj1vK1wiTWF0Y2hlc1NlbGVjdG9yXCI7aWYodFtyXSlyZXR1cm4gcn19KCk7aWYocyl7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxsPWUoYSxcImRpdlwiKTtyPWw/ZTpvfWVsc2Ugcj1uO1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJtYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3JcIixbXSxmdW5jdGlvbigpe3JldHVybiByfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9cjp3aW5kb3cubWF0Y2hlc1NlbGVjdG9yPXJ9KEVsZW1lbnQucHJvdG90eXBlKSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmaXp6eS11aS11dGlscy91dGlsc1wiLFtcImRvYy1yZWFkeS9kb2MtcmVhZHlcIixcIm1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvclwiXSxmdW5jdGlvbihpLG4pe3JldHVybiBlKHQsaSxuKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUodCxyZXF1aXJlKFwiZG9jLXJlYWR5XCIpLHJlcXVpcmUoXCJkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yXCIpKTp0LmZpenp5VUlVdGlscz1lKHQsdC5kb2NSZWFkeSx0Lm1hdGNoZXNTZWxlY3Rvcil9KHdpbmRvdyxmdW5jdGlvbih0LGUsaSl7dmFyIG49e307bi5leHRlbmQ9ZnVuY3Rpb24odCxlKXtmb3IodmFyIGkgaW4gZSl0W2ldPWVbaV07cmV0dXJuIHR9LG4ubW9kdWxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuKHQlZStlKSVlfTt2YXIgbz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO24uaXNBcnJheT1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PW8uY2FsbCh0KX0sbi5tYWtlQXJyYXk9ZnVuY3Rpb24odCl7dmFyIGU9W107aWYobi5pc0FycmF5KHQpKWU9dDtlbHNlIGlmKHQmJlwibnVtYmVyXCI9PXR5cGVvZiB0Lmxlbmd0aClmb3IodmFyIGk9MCxvPXQubGVuZ3RoO28+aTtpKyspZS5wdXNoKHRbaV0pO2Vsc2UgZS5wdXNoKHQpO3JldHVybiBlfSxuLmluZGV4T2Y9QXJyYXkucHJvdG90eXBlLmluZGV4T2Y/ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5pbmRleE9mKGUpfTpmdW5jdGlvbih0LGUpe2Zvcih2YXIgaT0wLG49dC5sZW5ndGg7bj5pO2krKylpZih0W2ldPT09ZSlyZXR1cm4gaTtyZXR1cm4tMX0sbi5yZW1vdmVGcm9tPWZ1bmN0aW9uKHQsZSl7dmFyIGk9bi5pbmRleE9mKHQsZSk7LTEhPWkmJnQuc3BsaWNlKGksMSl9LG4uaXNFbGVtZW50PVwiZnVuY3Rpb25cIj09dHlwZW9mIEhUTUxFbGVtZW50fHxcIm9iamVjdFwiPT10eXBlb2YgSFRNTEVsZW1lbnQ/ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudH06ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYxPT10Lm5vZGVUeXBlJiZcInN0cmluZ1wiPT10eXBlb2YgdC5ub2RlTmFtZX0sbi5zZXRUZXh0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGkpe2U9ZXx8KHZvaWQgMCE9PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC50ZXh0Q29udGVudD9cInRleHRDb250ZW50XCI6XCJpbm5lclRleHRcIiksdFtlXT1pfXZhciBlO3JldHVybiB0fSgpLG4uZ2V0UGFyZW50PWZ1bmN0aW9uKHQsZSl7Zm9yKDt0IT1kb2N1bWVudC5ib2R5OylpZih0PXQucGFyZW50Tm9kZSxpKHQsZSkpcmV0dXJuIHR9LG4uZ2V0UXVlcnlFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0P2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodCk6dH0sbi5oYW5kbGVFdmVudD1mdW5jdGlvbih0KXt2YXIgZT1cIm9uXCIrdC50eXBlO3RoaXNbZV0mJnRoaXNbZV0odCl9LG4uZmlsdGVyRmluZEVsZW1lbnRzPWZ1bmN0aW9uKHQsZSl7dD1uLm1ha2VBcnJheSh0KTtmb3IodmFyIG89W10scj0wLHM9dC5sZW5ndGg7cz5yO3IrKyl7dmFyIGE9dFtyXTtpZihuLmlzRWxlbWVudChhKSlpZihlKXtpKGEsZSkmJm8ucHVzaChhKTtmb3IodmFyIGw9YS5xdWVyeVNlbGVjdG9yQWxsKGUpLGM9MCxoPWwubGVuZ3RoO2g+YztjKyspby5wdXNoKGxbY10pfWVsc2Ugby5wdXNoKGEpfXJldHVybiBvfSxuLmRlYm91bmNlTWV0aG9kPWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj10LnByb3RvdHlwZVtlXSxvPWUrXCJUaW1lb3V0XCI7dC5wcm90b3R5cGVbZV09ZnVuY3Rpb24oKXt2YXIgdD10aGlzW29dO3QmJmNsZWFyVGltZW91dCh0KTt2YXIgZT1hcmd1bWVudHMscj10aGlzO3RoaXNbb109c2V0VGltZW91dChmdW5jdGlvbigpe24uYXBwbHkocixlKSxkZWxldGUgcltvXX0saXx8MTAwKX19LG4udG9EYXNoZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvKC4pKFtBLVpdKS9nLGZ1bmN0aW9uKHQsZSxpKXtyZXR1cm4gZStcIi1cIitpfSkudG9Mb3dlckNhc2UoKX07dmFyIHI9dC5jb25zb2xlO3JldHVybiBuLmh0bWxJbml0PWZ1bmN0aW9uKGksbyl7ZShmdW5jdGlvbigpe2Zvcih2YXIgZT1uLnRvRGFzaGVkKG8pLHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5qcy1cIitlKSxhPVwiZGF0YS1cIitlK1wiLW9wdGlvbnNcIixsPTAsYz1zLmxlbmd0aDtjPmw7bCsrKXt2YXIgaCxwPXNbbF0sZD1wLmdldEF0dHJpYnV0ZShhKTt0cnl7aD1kJiZKU09OLnBhcnNlKGQpfWNhdGNoKHUpe3ImJnIuZXJyb3IoXCJFcnJvciBwYXJzaW5nIFwiK2ErXCIgb24gXCIrcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKyhwLmlkP1wiI1wiK3AuaWQ6XCJcIikrXCI6IFwiK3UpO2NvbnRpbnVlfXZhciBmPW5ldyBpKHAsaCksdj10LmpRdWVyeTt2JiZ2LmRhdGEocCxvLGYpfX0pfSxufSksZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHkvanMvY2VsbFwiLFtcImdldC1zaXplL2dldC1zaXplXCJdLGZ1bmN0aW9uKGkpe3JldHVybiBlKHQsaSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQscmVxdWlyZShcImdldC1zaXplXCIpKToodC5GbGlja2l0eT10LkZsaWNraXR5fHx7fSx0LkZsaWNraXR5LkNlbGw9ZSh0LHQuZ2V0U2l6ZSkpfSh3aW5kb3csZnVuY3Rpb24odCxlKXtmdW5jdGlvbiBpKHQsZSl7dGhpcy5lbGVtZW50PXQsdGhpcy5wYXJlbnQ9ZSx0aGlzLmNyZWF0ZSgpfXZhciBuPVwiYXR0YWNoRXZlbnRcImluIHQ7cmV0dXJuIGkucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsbiYmdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIiksdGhpcy54PTAsdGhpcy5zaGlmdD0wfSxpLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uPVwiXCI7dmFyIHQ9dGhpcy5wYXJlbnQub3JpZ2luU2lkZTt0aGlzLmVsZW1lbnQuc3R5bGVbdF09XCJcIn0saS5wcm90b3R5cGUuZ2V0U2l6ZT1mdW5jdGlvbigpe3RoaXMuc2l6ZT1lKHRoaXMuZWxlbWVudCl9LGkucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKHQpe3RoaXMueD10LHRoaXMuc2V0RGVmYXVsdFRhcmdldCgpLHRoaXMucmVuZGVyUG9zaXRpb24odCl9LGkucHJvdG90eXBlLnNldERlZmF1bHRUYXJnZXQ9ZnVuY3Rpb24oKXt2YXIgdD1cImxlZnRcIj09dGhpcy5wYXJlbnQub3JpZ2luU2lkZT9cIm1hcmdpbkxlZnRcIjpcIm1hcmdpblJpZ2h0XCI7dGhpcy50YXJnZXQ9dGhpcy54K3RoaXMuc2l6ZVt0XSt0aGlzLnNpemUud2lkdGgqdGhpcy5wYXJlbnQuY2VsbEFsaWdufSxpLnByb3RvdHlwZS5yZW5kZXJQb3NpdGlvbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnBhcmVudC5vcmlnaW5TaWRlO3RoaXMuZWxlbWVudC5zdHlsZVtlXT10aGlzLnBhcmVudC5nZXRQb3NpdGlvblZhbHVlKHQpfSxpLnByb3RvdHlwZS53cmFwU2hpZnQ9ZnVuY3Rpb24odCl7dGhpcy5zaGlmdD10LHRoaXMucmVuZGVyUG9zaXRpb24odGhpcy54K3RoaXMucGFyZW50LnNsaWRlYWJsZVdpZHRoKnQpfSxpLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpfSxpfSksZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHkvanMvYW5pbWF0ZVwiLFtcImdldC1zdHlsZS1wcm9wZXJ0eS9nZXQtc3R5bGUtcHJvcGVydHlcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCJdLGZ1bmN0aW9uKGksbil7cmV0dXJuIGUodCxpLG4pfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSh0LHJlcXVpcmUoXCJkZXNhbmRyby1nZXQtc3R5bGUtcHJvcGVydHlcIikscmVxdWlyZShcImZpenp5LXVpLXV0aWxzXCIpKToodC5GbGlja2l0eT10LkZsaWNraXR5fHx7fSx0LkZsaWNraXR5LmFuaW1hdGVQcm90b3R5cGU9ZSh0LHQuZ2V0U3R5bGVQcm9wZXJ0eSx0LmZpenp5VUlVdGlscykpfSh3aW5kb3csZnVuY3Rpb24odCxlLGkpe2Zvcih2YXIgbixvPTAscj1cIndlYmtpdCBtb3ogbXMgb1wiLnNwbGl0KFwiIFwiKSxzPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lLGE9dC5jYW5jZWxBbmltYXRpb25GcmFtZSxsPTA7bDxyLmxlbmd0aCYmKCFzfHwhYSk7bCsrKW49cltsXSxzPXN8fHRbbitcIlJlcXVlc3RBbmltYXRpb25GcmFtZVwiXSxhPWF8fHRbbitcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdfHx0W24rXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07cyYmYXx8KHM9ZnVuY3Rpb24oZSl7dmFyIGk9KG5ldyBEYXRlKS5nZXRUaW1lKCksbj1NYXRoLm1heCgwLDE2LShpLW8pKSxyPXQuc2V0VGltZW91dChmdW5jdGlvbigpe2UoaStuKX0sbik7cmV0dXJuIG89aStuLHJ9LGE9ZnVuY3Rpb24oZSl7dC5jbGVhclRpbWVvdXQoZSl9KTt2YXIgYz17fTtjLnN0YXJ0QW5pbWF0aW9uPWZ1bmN0aW9uKCl7dGhpcy5pc0FuaW1hdGluZ3x8KHRoaXMuaXNBbmltYXRpbmc9ITAsdGhpcy5yZXN0aW5nRnJhbWVzPTAsdGhpcy5hbmltYXRlKCkpfSxjLmFuaW1hdGU9ZnVuY3Rpb24oKXt0aGlzLmFwcGx5RHJhZ0ZvcmNlKCksdGhpcy5hcHBseVNlbGVjdGVkQXR0cmFjdGlvbigpO3ZhciB0PXRoaXMueDtpZih0aGlzLmludGVncmF0ZVBoeXNpY3MoKSx0aGlzLnBvc2l0aW9uU2xpZGVyKCksdGhpcy5zZXR0bGUodCksdGhpcy5pc0FuaW1hdGluZyl7dmFyIGU9dGhpcztzKGZ1bmN0aW9uKCl7ZS5hbmltYXRlKCl9KX19O3ZhciBoPWUoXCJ0cmFuc2Zvcm1cIikscD0hIWUoXCJwZXJzcGVjdGl2ZVwiKTtyZXR1cm4gYy5wb3NpdGlvblNsaWRlcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMueDt0aGlzLm9wdGlvbnMud3JhcEFyb3VuZCYmdGhpcy5jZWxscy5sZW5ndGg+MSYmKHQ9aS5tb2R1bG8odCx0aGlzLnNsaWRlYWJsZVdpZHRoKSx0LT10aGlzLnNsaWRlYWJsZVdpZHRoLHRoaXMuc2hpZnRXcmFwQ2VsbHModCkpLHQrPXRoaXMuY3Vyc29yUG9zaXRpb24sdD10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQmJmg/LXQ6dDt2YXIgZT10aGlzLmdldFBvc2l0aW9uVmFsdWUodCk7aD90aGlzLnNsaWRlci5zdHlsZVtoXT1wJiZ0aGlzLmlzQW5pbWF0aW5nP1widHJhbnNsYXRlM2QoXCIrZStcIiwwLDApXCI6XCJ0cmFuc2xhdGVYKFwiK2UrXCIpXCI6dGhpcy5zbGlkZXIuc3R5bGVbdGhpcy5vcmlnaW5TaWRlXT1lfSxjLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZD1mdW5jdGlvbigpe2lmKHRoaXMuY2VsbHMubGVuZ3RoKXt2YXIgdD10aGlzLmNlbGxzW3RoaXMuc2VsZWN0ZWRJbmRleF07dGhpcy54PS10LnRhcmdldCx0aGlzLnBvc2l0aW9uU2xpZGVyKCl9fSxjLmdldFBvc2l0aW9uVmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5wZXJjZW50UG9zaXRpb24/LjAxKk1hdGgucm91bmQodC90aGlzLnNpemUuaW5uZXJXaWR0aCoxZTQpK1wiJVwiOk1hdGgucm91bmQodCkrXCJweFwifSxjLnNldHRsZT1mdW5jdGlvbih0KXt0aGlzLmlzUG9pbnRlckRvd258fE1hdGgucm91bmQoMTAwKnRoaXMueCkhPU1hdGgucm91bmQoMTAwKnQpfHx0aGlzLnJlc3RpbmdGcmFtZXMrKyx0aGlzLnJlc3RpbmdGcmFtZXM+MiYmKHRoaXMuaXNBbmltYXRpbmc9ITEsZGVsZXRlIHRoaXMuaXNGcmVlU2Nyb2xsaW5nLHAmJnRoaXMucG9zaXRpb25TbGlkZXIoKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJzZXR0bGVcIikpfSxjLnNoaWZ0V3JhcENlbGxzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY3Vyc29yUG9zaXRpb24rdDt0aGlzLl9zaGlmdENlbGxzKHRoaXMuYmVmb3JlU2hpZnRDZWxscyxlLC0xKTt2YXIgaT10aGlzLnNpemUuaW5uZXJXaWR0aC0odCt0aGlzLnNsaWRlYWJsZVdpZHRoK3RoaXMuY3Vyc29yUG9zaXRpb24pO3RoaXMuX3NoaWZ0Q2VsbHModGhpcy5hZnRlclNoaWZ0Q2VsbHMsaSwxKX0sYy5fc2hpZnRDZWxscz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPTAsbz10Lmxlbmd0aDtvPm47bisrKXt2YXIgcj10W25dLHM9ZT4wP2k6MDtyLndyYXBTaGlmdChzKSxlLT1yLnNpemUub3V0ZXJXaWR0aH19LGMuX3Vuc2hpZnRDZWxscz1mdW5jdGlvbih0KXtpZih0JiZ0Lmxlbmd0aClmb3IodmFyIGU9MCxpPXQubGVuZ3RoO2k+ZTtlKyspdFtlXS53cmFwU2hpZnQoMCl9LGMuaW50ZWdyYXRlUGh5c2ljcz1mdW5jdGlvbigpe3RoaXMudmVsb2NpdHkrPXRoaXMuYWNjZWwsdGhpcy54Kz10aGlzLnZlbG9jaXR5LHRoaXMudmVsb2NpdHkqPXRoaXMuZ2V0RnJpY3Rpb25GYWN0b3IoKSx0aGlzLmFjY2VsPTB9LGMuYXBwbHlGb3JjZT1mdW5jdGlvbih0KXt0aGlzLmFjY2VsKz10fSxjLmdldEZyaWN0aW9uRmFjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIDEtdGhpcy5vcHRpb25zW3RoaXMuaXNGcmVlU2Nyb2xsaW5nP1wiZnJlZVNjcm9sbEZyaWN0aW9uXCI6XCJmcmljdGlvblwiXX0sYy5nZXRSZXN0aW5nUG9zaXRpb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54K3RoaXMudmVsb2NpdHkvKDEtdGhpcy5nZXRGcmljdGlvbkZhY3RvcigpKX0sYy5hcHBseURyYWdGb3JjZT1mdW5jdGlvbigpe2lmKHRoaXMuaXNQb2ludGVyRG93bil7dmFyIHQ9dGhpcy5kcmFnWC10aGlzLngsZT10LXRoaXMudmVsb2NpdHk7dGhpcy5hcHBseUZvcmNlKGUpfX0sYy5hcHBseVNlbGVjdGVkQXR0cmFjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2VsbHMubGVuZ3RoO2lmKCF0aGlzLmlzUG9pbnRlckRvd24mJiF0aGlzLmlzRnJlZVNjcm9sbGluZyYmdCl7dmFyIGU9dGhpcy5jZWxsc1t0aGlzLnNlbGVjdGVkSW5kZXhdLGk9dGhpcy5vcHRpb25zLndyYXBBcm91bmQmJnQ+MT90aGlzLnNsaWRlYWJsZVdpZHRoKk1hdGguZmxvb3IodGhpcy5zZWxlY3RlZEluZGV4L3QpOjAsbj0tMSooZS50YXJnZXQraSktdGhpcy54LG89bip0aGlzLm9wdGlvbnMuc2VsZWN0ZWRBdHRyYWN0aW9uO3RoaXMuYXBwbHlGb3JjZShvKX19LGN9KSxmdW5jdGlvbih0LGUpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoXCJmbGlja2l0eS9qcy9mbGlja2l0eVwiLFtcImNsYXNzaWUvY2xhc3NpZVwiLFwiZXZlbnRFbWl0dGVyL0V2ZW50RW1pdHRlclwiLFwiZXZlbnRpZS9ldmVudGllXCIsXCJnZXQtc2l6ZS9nZXQtc2l6ZVwiLFwiZml6enktdWktdXRpbHMvdXRpbHNcIixcIi4vY2VsbFwiLFwiLi9hbmltYXRlXCJdLGZ1bmN0aW9uKGksbixvLHIscyxhLGwpe3JldHVybiBlKHQsaSxuLG8scixzLGEsbCl9KTtlbHNlIGlmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzKW1vZHVsZS5leHBvcnRzPWUodCxyZXF1aXJlKFwiZGVzYW5kcm8tY2xhc3NpZVwiKSxyZXF1aXJlKFwid29sZnk4Ny1ldmVudGVtaXR0ZXJcIikscmVxdWlyZShcImV2ZW50aWVcIikscmVxdWlyZShcImdldC1zaXplXCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSxyZXF1aXJlKFwiLi9jZWxsXCIpLHJlcXVpcmUoXCIuL2FuaW1hdGVcIikpO2Vsc2V7dmFyIGk9dC5GbGlja2l0eTt0LkZsaWNraXR5PWUodCx0LmNsYXNzaWUsdC5FdmVudEVtaXR0ZXIsdC5ldmVudGllLHQuZ2V0U2l6ZSx0LmZpenp5VUlVdGlscyxpLkNlbGwsaS5hbmltYXRlUHJvdG90eXBlKX19KHdpbmRvdyxmdW5jdGlvbih0LGUsaSxuLG8scixzLGEpe2Z1bmN0aW9uIGwodCxlKXtmb3IodD1yLm1ha2VBcnJheSh0KTt0Lmxlbmd0aDspZS5hcHBlbmRDaGlsZCh0LnNoaWZ0KCkpfWZ1bmN0aW9uIGModCxlKXt2YXIgaT1yLmdldFF1ZXJ5RWxlbWVudCh0KTtyZXR1cm4gaT8odGhpcy5lbGVtZW50PWksaCYmKHRoaXMuJGVsZW1lbnQ9aCh0aGlzLmVsZW1lbnQpKSx0aGlzLm9wdGlvbnM9ci5leHRlbmQoe30sdGhpcy5jb25zdHJ1Y3Rvci5kZWZhdWx0cyksdGhpcy5vcHRpb24oZSksdm9pZCB0aGlzLl9jcmVhdGUoKSk6dm9pZChkJiZkLmVycm9yKFwiQmFkIGVsZW1lbnQgZm9yIEZsaWNraXR5OiBcIisoaXx8dCkpKX12YXIgaD10LmpRdWVyeSxwPXQuZ2V0Q29tcHV0ZWRTdHlsZSxkPXQuY29uc29sZSx1PTAsZj17fTtjLmRlZmF1bHRzPXthY2Nlc3NpYmlsaXR5OiEwLGNlbGxBbGlnbjpcImNlbnRlclwiLGZyZWVTY3JvbGxGcmljdGlvbjouMDc1LGZyaWN0aW9uOi4yOCxwZXJjZW50UG9zaXRpb246ITAscmVzaXplOiEwLHNlbGVjdGVkQXR0cmFjdGlvbjouMDI1LHNldEdhbGxlcnlTaXplOiEwfSxjLmNyZWF0ZU1ldGhvZHM9W10sci5leHRlbmQoYy5wcm90b3R5cGUsaS5wcm90b3R5cGUpLGMucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmd1aWQ9Kyt1O3RoaXMuZWxlbWVudC5mbGlja2l0eUdVSUQ9ZSxmW2VdPXRoaXMsdGhpcy5zZWxlY3RlZEluZGV4PXRoaXMub3B0aW9ucy5pbml0aWFsSW5kZXh8fDAsdGhpcy5yZXN0aW5nRnJhbWVzPTAsdGhpcy54PTAsdGhpcy52ZWxvY2l0eT0wLHRoaXMuYWNjZWw9MCx0aGlzLm9yaWdpblNpZGU9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P1wicmlnaHRcIjpcImxlZnRcIix0aGlzLnZpZXdwb3J0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy52aWV3cG9ydC5jbGFzc05hbWU9XCJmbGlja2l0eS12aWV3cG9ydFwiLGMuc2V0VW5zZWxlY3RhYmxlKHRoaXMudmlld3BvcnQpLHRoaXMuX2NyZWF0ZVNsaWRlcigpLCh0aGlzLm9wdGlvbnMucmVzaXplfHx0aGlzLm9wdGlvbnMud2F0Y2hDU1MpJiYobi5iaW5kKHQsXCJyZXNpemVcIix0aGlzKSx0aGlzLmlzUmVzaXplQm91bmQ9ITApO2Zvcih2YXIgaT0wLG89Yy5jcmVhdGVNZXRob2RzLmxlbmd0aDtvPmk7aSsrKXt2YXIgcj1jLmNyZWF0ZU1ldGhvZHNbaV07dGhpc1tyXSgpfXRoaXMub3B0aW9ucy53YXRjaENTUz90aGlzLndhdGNoQ1NTKCk6dGhpcy5hY3RpdmF0ZSgpfSxjLnByb3RvdHlwZS5vcHRpb249ZnVuY3Rpb24odCl7ci5leHRlbmQodGhpcy5vcHRpb25zLHQpfSxjLnByb3RvdHlwZS5hY3RpdmF0ZT1mdW5jdGlvbigpe2lmKCF0aGlzLmlzQWN0aXZlKXt0aGlzLmlzQWN0aXZlPSEwLGUuYWRkKHRoaXMuZWxlbWVudCxcImZsaWNraXR5LWVuYWJsZWRcIiksdGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0JiZlLmFkZCh0aGlzLmVsZW1lbnQsXCJmbGlja2l0eS1ydGxcIiksdGhpcy5nZXRTaXplKCk7dmFyIHQ9dGhpcy5fZmlsdGVyRmluZENlbGxFbGVtZW50cyh0aGlzLmVsZW1lbnQuY2hpbGRyZW4pO2wodCx0aGlzLnNsaWRlciksdGhpcy52aWV3cG9ydC5hcHBlbmRDaGlsZCh0aGlzLnNsaWRlciksdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHRoaXMudmlld3BvcnQpLHRoaXMucmVsb2FkQ2VsbHMoKSx0aGlzLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmKHRoaXMuZWxlbWVudC50YWJJbmRleD0wLG4uYmluZCh0aGlzLmVsZW1lbnQsXCJrZXlkb3duXCIsdGhpcykpLHRoaXMuZW1pdChcImFjdGl2YXRlXCIpLHRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCksdGhpcy5zZWxlY3QodGhpcy5zZWxlY3RlZEluZGV4KX19LGMucHJvdG90eXBlLl9jcmVhdGVTbGlkZXI9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3QuY2xhc3NOYW1lPVwiZmxpY2tpdHktc2xpZGVyXCIsdC5zdHlsZVt0aGlzLm9yaWdpblNpZGVdPTAsdGhpcy5zbGlkZXI9dH0sYy5wcm90b3R5cGUuX2ZpbHRlckZpbmRDZWxsRWxlbWVudHM9ZnVuY3Rpb24odCl7cmV0dXJuIHIuZmlsdGVyRmluZEVsZW1lbnRzKHQsdGhpcy5vcHRpb25zLmNlbGxTZWxlY3Rvcil9LGMucHJvdG90eXBlLnJlbG9hZENlbGxzPWZ1bmN0aW9uKCl7dGhpcy5jZWxscz10aGlzLl9tYWtlQ2VsbHModGhpcy5zbGlkZXIuY2hpbGRyZW4pLHRoaXMucG9zaXRpb25DZWxscygpLHRoaXMuX2dldFdyYXBTaGlmdENlbGxzKCksdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpfSxjLnByb3RvdHlwZS5fbWFrZUNlbGxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLl9maWx0ZXJGaW5kQ2VsbEVsZW1lbnRzKHQpLGk9W10sbj0wLG89ZS5sZW5ndGg7bz5uO24rKyl7dmFyIHI9ZVtuXSxhPW5ldyBzKHIsdGhpcyk7aS5wdXNoKGEpfXJldHVybiBpfSxjLnByb3RvdHlwZS5nZXRMYXN0Q2VsbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNlbGxzW3RoaXMuY2VsbHMubGVuZ3RoLTFdfSxjLnByb3RvdHlwZS5wb3NpdGlvbkNlbGxzPWZ1bmN0aW9uKCl7dGhpcy5fc2l6ZUNlbGxzKHRoaXMuY2VsbHMpLHRoaXMuX3Bvc2l0aW9uQ2VsbHMoMCl9LGMucHJvdG90eXBlLl9wb3NpdGlvbkNlbGxzPWZ1bmN0aW9uKHQpe3Q9dHx8MCx0aGlzLm1heENlbGxIZWlnaHQ9dD90aGlzLm1heENlbGxIZWlnaHR8fDA6MDt2YXIgZT0wO2lmKHQ+MCl7dmFyIGk9dGhpcy5jZWxsc1t0LTFdO2U9aS54K2kuc2l6ZS5vdXRlcldpZHRofWZvcih2YXIgbixvPXRoaXMuY2VsbHMubGVuZ3RoLHI9dDtvPnI7cisrKW49dGhpcy5jZWxsc1tyXSxuLnNldFBvc2l0aW9uKGUpLGUrPW4uc2l6ZS5vdXRlcldpZHRoLHRoaXMubWF4Q2VsbEhlaWdodD1NYXRoLm1heChuLnNpemUub3V0ZXJIZWlnaHQsdGhpcy5tYXhDZWxsSGVpZ2h0KTt0aGlzLnNsaWRlYWJsZVdpZHRoPWUsdGhpcy5fY29udGFpbkNlbGxzKCl9LGMucHJvdG90eXBlLl9zaXplQ2VsbHM9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtpPmU7ZSsrKXt2YXIgbj10W2VdO24uZ2V0U2l6ZSgpfX0sYy5wcm90b3R5cGUuX2luaXQ9Yy5wcm90b3R5cGUucmVwb3NpdGlvbj1mdW5jdGlvbigpe3RoaXMucG9zaXRpb25DZWxscygpLHRoaXMucG9zaXRpb25TbGlkZXJBdFNlbGVjdGVkKCl9LGMucHJvdG90eXBlLmdldFNpemU9ZnVuY3Rpb24oKXt0aGlzLnNpemU9byh0aGlzLmVsZW1lbnQpLHRoaXMuc2V0Q2VsbEFsaWduKCksdGhpcy5jdXJzb3JQb3NpdGlvbj10aGlzLnNpemUuaW5uZXJXaWR0aCp0aGlzLmNlbGxBbGlnbn07dmFyIHY9e2NlbnRlcjp7bGVmdDouNSxyaWdodDouNX0sbGVmdDp7bGVmdDowLHJpZ2h0OjF9LHJpZ2h0OntyaWdodDowLGxlZnQ6MX19O2MucHJvdG90eXBlLnNldENlbGxBbGlnbj1mdW5jdGlvbigpe3ZhciB0PXZbdGhpcy5vcHRpb25zLmNlbGxBbGlnbl07dGhpcy5jZWxsQWxpZ249dD90W3RoaXMub3JpZ2luU2lkZV06dGhpcy5vcHRpb25zLmNlbGxBbGlnbn0sYy5wcm90b3R5cGUuc2V0R2FsbGVyeVNpemU9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc2V0R2FsbGVyeVNpemUmJih0aGlzLnZpZXdwb3J0LnN0eWxlLmhlaWdodD10aGlzLm1heENlbGxIZWlnaHQrXCJweFwiKX0sYy5wcm90b3R5cGUuX2dldFdyYXBTaGlmdENlbGxzPWZ1bmN0aW9uKCl7aWYodGhpcy5vcHRpb25zLndyYXBBcm91bmQpe3RoaXMuX3Vuc2hpZnRDZWxscyh0aGlzLmJlZm9yZVNoaWZ0Q2VsbHMpLHRoaXMuX3Vuc2hpZnRDZWxscyh0aGlzLmFmdGVyU2hpZnRDZWxscyk7dmFyIHQ9dGhpcy5jdXJzb3JQb3NpdGlvbixlPXRoaXMuY2VsbHMubGVuZ3RoLTE7dGhpcy5iZWZvcmVTaGlmdENlbGxzPXRoaXMuX2dldEdhcENlbGxzKHQsZSwtMSksdD10aGlzLnNpemUuaW5uZXJXaWR0aC10aGlzLmN1cnNvclBvc2l0aW9uLHRoaXMuYWZ0ZXJTaGlmdENlbGxzPXRoaXMuX2dldEdhcENlbGxzKHQsMCwxKX19LGMucHJvdG90eXBlLl9nZXRHYXBDZWxscz1mdW5jdGlvbih0LGUsaSl7Zm9yKHZhciBuPVtdO3Q+MDspe3ZhciBvPXRoaXMuY2VsbHNbZV07aWYoIW8pYnJlYWs7bi5wdXNoKG8pLGUrPWksdC09by5zaXplLm91dGVyV2lkdGh9cmV0dXJuIG59LGMucHJvdG90eXBlLl9jb250YWluQ2VsbHM9ZnVuY3Rpb24oKXtpZih0aGlzLm9wdGlvbnMuY29udGFpbiYmIXRoaXMub3B0aW9ucy53cmFwQXJvdW5kJiZ0aGlzLmNlbGxzLmxlbmd0aClmb3IodmFyIHQ9dGhpcy5vcHRpb25zLnJpZ2h0VG9MZWZ0P1wibWFyZ2luUmlnaHRcIjpcIm1hcmdpbkxlZnRcIixlPXRoaXMub3B0aW9ucy5yaWdodFRvTGVmdD9cIm1hcmdpbkxlZnRcIjpcIm1hcmdpblJpZ2h0XCIsaT10aGlzLmNlbGxzWzBdLnNpemVbdF0sbj10aGlzLmdldExhc3RDZWxsKCksbz10aGlzLnNsaWRlYWJsZVdpZHRoLW4uc2l6ZVtlXSxyPW8tdGhpcy5zaXplLmlubmVyV2lkdGgqKDEtdGhpcy5jZWxsQWxpZ24pLHM9bzx0aGlzLnNpemUuaW5uZXJXaWR0aCxhPTAsbD10aGlzLmNlbGxzLmxlbmd0aDtsPmE7YSsrKXt2YXIgYz10aGlzLmNlbGxzW2FdO2Muc2V0RGVmYXVsdFRhcmdldCgpLHM/Yy50YXJnZXQ9byp0aGlzLmNlbGxBbGlnbjooYy50YXJnZXQ9TWF0aC5tYXgoYy50YXJnZXQsdGhpcy5jdXJzb3JQb3NpdGlvbitpKSxjLnRhcmdldD1NYXRoLm1pbihjLnRhcmdldCxyKSl9fSxjLnByb3RvdHlwZS5kaXNwYXRjaEV2ZW50PWZ1bmN0aW9uKHQsZSxpKXt2YXIgbj1bZV0uY29uY2F0KGkpO2lmKHRoaXMuZW1pdEV2ZW50KHQsbiksaCYmdGhpcy4kZWxlbWVudClpZihlKXt2YXIgbz1oLkV2ZW50KGUpO28udHlwZT10LHRoaXMuJGVsZW1lbnQudHJpZ2dlcihvLGkpfWVsc2UgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHQsaSl9LGMucHJvdG90eXBlLnNlbGVjdD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuaXNBY3RpdmUpe3ZhciBpPXRoaXMuY2VsbHMubGVuZ3RoO3RoaXMub3B0aW9ucy53cmFwQXJvdW5kJiZpPjEmJigwPnQ/dGhpcy54LT10aGlzLnNsaWRlYWJsZVdpZHRoOnQ+PWkmJih0aGlzLngrPXRoaXMuc2xpZGVhYmxlV2lkdGgpKSwodGhpcy5vcHRpb25zLndyYXBBcm91bmR8fGUpJiYodD1yLm1vZHVsbyh0LGkpKSx0aGlzLmNlbGxzW3RdJiYodGhpcy5zZWxlY3RlZEluZGV4PXQsdGhpcy5zZXRTZWxlY3RlZENlbGwoKSx0aGlzLnN0YXJ0QW5pbWF0aW9uKCksdGhpcy5kaXNwYXRjaEV2ZW50KFwiY2VsbFNlbGVjdFwiKSl9fSxjLnByb3RvdHlwZS5wcmV2aW91cz1mdW5jdGlvbih0KXt0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkSW5kZXgtMSx0KX0sYy5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXt0aGlzLnNlbGVjdCh0aGlzLnNlbGVjdGVkSW5kZXgrMSx0KX0sYy5wcm90b3R5cGUuc2V0U2VsZWN0ZWRDZWxsPWZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlU2VsZWN0ZWRDZWxsQ2xhc3MoKSx0aGlzLnNlbGVjdGVkQ2VsbD10aGlzLmNlbGxzW3RoaXMuc2VsZWN0ZWRJbmRleF0sdGhpcy5zZWxlY3RlZEVsZW1lbnQ9dGhpcy5zZWxlY3RlZENlbGwuZWxlbWVudCxlLmFkZCh0aGlzLnNlbGVjdGVkRWxlbWVudCxcImlzLXNlbGVjdGVkXCIpfSxjLnByb3RvdHlwZS5fcmVtb3ZlU2VsZWN0ZWRDZWxsQ2xhc3M9ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkQ2VsbCYmZS5yZW1vdmUodGhpcy5zZWxlY3RlZENlbGwuZWxlbWVudCxcImlzLXNlbGVjdGVkXCIpfSxjLnByb3RvdHlwZS5nZXRDZWxsPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLGk9dGhpcy5jZWxscy5sZW5ndGg7aT5lO2UrKyl7dmFyIG49dGhpcy5jZWxsc1tlXTtpZihuLmVsZW1lbnQ9PXQpcmV0dXJuIG59fSxjLnByb3RvdHlwZS5nZXRDZWxscz1mdW5jdGlvbih0KXt0PXIubWFrZUFycmF5KHQpO2Zvcih2YXIgZT1bXSxpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKXt2YXIgbz10W2ldLHM9dGhpcy5nZXRDZWxsKG8pO3MmJmUucHVzaChzKX1yZXR1cm4gZX0sYy5wcm90b3R5cGUuZ2V0Q2VsbEVsZW1lbnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MCxpPXRoaXMuY2VsbHMubGVuZ3RoO2k+ZTtlKyspdC5wdXNoKHRoaXMuY2VsbHNbZV0uZWxlbWVudCk7cmV0dXJuIHR9LGMucHJvdG90eXBlLmdldFBhcmVudENlbGw9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRDZWxsKHQpO3JldHVybiBlP2U6KHQ9ci5nZXRQYXJlbnQodCxcIi5mbGlja2l0eS1zbGlkZXIgPiAqXCIpLHRoaXMuZ2V0Q2VsbCh0KSl9LGMucHJvdG90eXBlLmdldEFkamFjZW50Q2VsbEVsZW1lbnRzPWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuW3RoaXMuc2VsZWN0ZWRFbGVtZW50XTtlPXZvaWQgMD09PWU/dGhpcy5zZWxlY3RlZEluZGV4OmU7dmFyIGk9dGhpcy5jZWxscy5sZW5ndGg7aWYoMSsyKnQ+PWkpcmV0dXJuIHRoaXMuZ2V0Q2VsbEVsZW1lbnRzKCk7Zm9yKHZhciBuPVtdLG89ZS10O2UrdD49bztvKyspe3ZhciBzPXRoaXMub3B0aW9ucy53cmFwQXJvdW5kP3IubW9kdWxvKG8saSk6byxhPXRoaXMuY2VsbHNbc107YSYmbi5wdXNoKGEuZWxlbWVudCl9cmV0dXJuIG59LGMucHJvdG90eXBlLnVpQ2hhbmdlPWZ1bmN0aW9uKCl7dGhpcy5lbWl0KFwidWlDaGFuZ2VcIil9LGMucHJvdG90eXBlLmNoaWxkVUlQb2ludGVyRG93bj1mdW5jdGlvbih0KXt0aGlzLmVtaXRFdmVudChcImNoaWxkVUlQb2ludGVyRG93blwiLFt0XSl9LGMucHJvdG90eXBlLm9ucmVzaXplPWZ1bmN0aW9uKCl7dGhpcy53YXRjaENTUygpLHRoaXMucmVzaXplKCl9LHIuZGVib3VuY2VNZXRob2QoYyxcIm9ucmVzaXplXCIsMTUwKSxjLnByb3RvdHlwZS5yZXNpemU9ZnVuY3Rpb24oKXt0aGlzLmlzQWN0aXZlJiYodGhpcy5nZXRTaXplKCksdGhpcy5vcHRpb25zLndyYXBBcm91bmQmJih0aGlzLng9ci5tb2R1bG8odGhpcy54LHRoaXMuc2xpZGVhYmxlV2lkdGgpKSx0aGlzLnBvc2l0aW9uQ2VsbHMoKSx0aGlzLl9nZXRXcmFwU2hpZnRDZWxscygpLHRoaXMuc2V0R2FsbGVyeVNpemUoKSx0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpKX07dmFyIHk9Yy5zdXBwb3J0c0NvbmRpdGlvbmFsQ1NTPWZ1bmN0aW9uKCl7dmFyIHQ7cmV0dXJuIGZ1bmN0aW9uKCl7aWYodm9pZCAwIT09dClyZXR1cm4gdDtpZighcClyZXR1cm4gdm9pZCh0PSExKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIiksaT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnYm9keTphZnRlciB7IGNvbnRlbnQ6IFwiZm9vXCI7IGRpc3BsYXk6IG5vbmU7IH0nKTtlLmFwcGVuZENoaWxkKGkpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZSk7dmFyIG49cChkb2N1bWVudC5ib2R5LFwiOmFmdGVyXCIpLmNvbnRlbnQ7cmV0dXJuIHQ9LTEhPW4uaW5kZXhPZihcImZvb1wiKSxkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGUpLHR9fSgpO2MucHJvdG90eXBlLndhdGNoQ1NTPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLndhdGNoQ1NTO2lmKHQpe3ZhciBlPXkoKTtpZighZSl7dmFyIGk9XCJmYWxsYmFja09uXCI9PXQ/XCJhY3RpdmF0ZVwiOlwiZGVhY3RpdmF0ZVwiO3JldHVybiB2b2lkIHRoaXNbaV0oKX12YXIgbj1wKHRoaXMuZWxlbWVudCxcIjphZnRlclwiKS5jb250ZW50Oy0xIT1uLmluZGV4T2YoXCJmbGlja2l0eVwiKT90aGlzLmFjdGl2YXRlKCk6dGhpcy5kZWFjdGl2YXRlKCl9fSxjLnByb3RvdHlwZS5vbmtleWRvd249ZnVuY3Rpb24odCl7aWYodGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHkmJighZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8ZG9jdW1lbnQuYWN0aXZlRWxlbWVudD09dGhpcy5lbGVtZW50KSlpZigzNz09dC5rZXlDb2RlKXt2YXIgZT10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/XCJuZXh0XCI6XCJwcmV2aW91c1wiO3RoaXMudWlDaGFuZ2UoKSx0aGlzW2VdKCl9ZWxzZSBpZigzOT09dC5rZXlDb2RlKXt2YXIgaT10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/XCJwcmV2aW91c1wiOlwibmV4dFwiO3RoaXMudWlDaGFuZ2UoKSx0aGlzW2ldKCl9fSxjLnByb3RvdHlwZS5kZWFjdGl2YXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5pc0FjdGl2ZSl7ZS5yZW1vdmUodGhpcy5lbGVtZW50LFwiZmxpY2tpdHktZW5hYmxlZFwiKSxlLnJlbW92ZSh0aGlzLmVsZW1lbnQsXCJmbGlja2l0eS1ydGxcIik7Zm9yKHZhciB0PTAsaT10aGlzLmNlbGxzLmxlbmd0aDtpPnQ7dCsrKXt2YXIgbz10aGlzLmNlbGxzW3RdO28uZGVzdHJveSgpfXRoaXMuX3JlbW92ZVNlbGVjdGVkQ2VsbENsYXNzKCksdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMudmlld3BvcnQpLGwodGhpcy5zbGlkZXIuY2hpbGRyZW4sdGhpcy5lbGVtZW50KSx0aGlzLm9wdGlvbnMuYWNjZXNzaWJpbGl0eSYmKHRoaXMuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoXCJ0YWJJbmRleFwiKSxuLnVuYmluZCh0aGlzLmVsZW1lbnQsXCJrZXlkb3duXCIsdGhpcykpLHRoaXMuaXNBY3RpdmU9ITEsdGhpcy5lbWl0KFwiZGVhY3RpdmF0ZVwiKX19LGMucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGUoKSx0aGlzLmlzUmVzaXplQm91bmQmJm4udW5iaW5kKHQsXCJyZXNpemVcIix0aGlzKSx0aGlzLmVtaXQoXCJkZXN0cm95XCIpLGgmJnRoaXMuJGVsZW1lbnQmJmgucmVtb3ZlRGF0YSh0aGlzLmVsZW1lbnQsXCJmbGlja2l0eVwiKSxkZWxldGUgdGhpcy5lbGVtZW50LmZsaWNraXR5R1VJRCxkZWxldGUgZlt0aGlzLmd1aWRdfSxyLmV4dGVuZChjLnByb3RvdHlwZSxhKTt2YXIgZz1cImF0dGFjaEV2ZW50XCJpbiB0O3JldHVybiBjLnNldFVuc2VsZWN0YWJsZT1mdW5jdGlvbih0KXtnJiZ0LnNldEF0dHJpYnV0ZShcInVuc2VsZWN0YWJsZVwiLFwib25cIil9LGMuZGF0YT1mdW5jdGlvbih0KXt0PXIuZ2V0UXVlcnlFbGVtZW50KHQpO3ZhciBlPXQmJnQuZmxpY2tpdHlHVUlEO3JldHVybiBlJiZmW2VdfSxyLmh0bWxJbml0KGMsXCJmbGlja2l0eVwiKSxoJiZoLmJyaWRnZXQmJmguYnJpZGdldChcImZsaWNraXR5XCIsYyksYy5DZWxsPXMsY30pLGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcInVuaXBvaW50ZXIvdW5pcG9pbnRlclwiLFtcImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXJcIixcImV2ZW50aWUvZXZlbnRpZVwiXSxmdW5jdGlvbihpLG4pe3JldHVybiBlKHQsaSxuKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUodCxyZXF1aXJlKFwid29sZnk4Ny1ldmVudGVtaXR0ZXJcIikscmVxdWlyZShcImV2ZW50aWVcIikpOnQuVW5pcG9pbnRlcj1lKHQsdC5FdmVudEVtaXR0ZXIsdC5ldmVudGllKX0od2luZG93LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIG8oKXt9by5wcm90b3R5cGU9bmV3IGUsby5wcm90b3R5cGUuYmluZFN0YXJ0RXZlbnQ9ZnVuY3Rpb24odCl7dGhpcy5fYmluZFN0YXJ0RXZlbnQodCwhMCl9LG8ucHJvdG90eXBlLnVuYmluZFN0YXJ0RXZlbnQ9ZnVuY3Rpb24odCl7dGhpcy5fYmluZFN0YXJ0RXZlbnQodCwhMSl9LG8ucHJvdG90eXBlLl9iaW5kU3RhcnRFdmVudD1mdW5jdGlvbihlLG4pe249dm9pZCAwPT09bj8hMDohIW47dmFyIG89bj9cImJpbmRcIjpcInVuYmluZFwiO3QubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkP2lbb10oZSxcInBvaW50ZXJkb3duXCIsdGhpcyk6dC5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZD9pW29dKGUsXCJNU1BvaW50ZXJEb3duXCIsdGhpcyk6KGlbb10oZSxcIm1vdXNlZG93blwiLHRoaXMpLGlbb10oZSxcInRvdWNoc3RhcnRcIix0aGlzKSl9LG8ucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPVwib25cIit0LnR5cGU7dGhpc1tlXSYmdGhpc1tlXSh0KX0sby5wcm90b3R5cGUuZ2V0VG91Y2g9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAsaT10Lmxlbmd0aDtpPmU7ZSsrKXt2YXIgbj10W2VdO2lmKG4uaWRlbnRpZmllcj09dGhpcy5wb2ludGVySWRlbnRpZmllcilyZXR1cm4gbn19LG8ucHJvdG90eXBlLm9ubW91c2Vkb3duPWZ1bmN0aW9uKHQpe3ZhciBlPXQuYnV0dG9uO2UmJjAhPT1lJiYxIT09ZXx8dGhpcy5fcG9pbnRlckRvd24odCx0KX0sby5wcm90b3R5cGUub250b3VjaHN0YXJ0PWZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJEb3duKHQsdC5jaGFuZ2VkVG91Y2hlc1swXSl9LG8ucHJvdG90eXBlLm9uTVNQb2ludGVyRG93bj1vLnByb3RvdHlwZS5vbnBvaW50ZXJkb3duPWZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJEb3duKHQsdCl9LG8ucHJvdG90eXBlLl9wb2ludGVyRG93bj1mdW5jdGlvbih0LGUpe3RoaXMuaXNQb2ludGVyRG93bnx8KHRoaXMuaXNQb2ludGVyRG93bj0hMCx0aGlzLnBvaW50ZXJJZGVudGlmaWVyPXZvaWQgMCE9PWUucG9pbnRlcklkP2UucG9pbnRlcklkOmUuaWRlbnRpZmllcix0aGlzLnBvaW50ZXJEb3duKHQsZSkpfSxvLnByb3RvdHlwZS5wb2ludGVyRG93bj1mdW5jdGlvbih0LGUpe3RoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHModCksdGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyRG93blwiLFt0LGVdKX07dmFyIHI9e21vdXNlZG93bjpbXCJtb3VzZW1vdmVcIixcIm1vdXNldXBcIl0sdG91Y2hzdGFydDpbXCJ0b3VjaG1vdmVcIixcInRvdWNoZW5kXCIsXCJ0b3VjaGNhbmNlbFwiXSxwb2ludGVyZG93bjpbXCJwb2ludGVybW92ZVwiLFwicG9pbnRlcnVwXCIsXCJwb2ludGVyY2FuY2VsXCJdLE1TUG9pbnRlckRvd246W1wiTVNQb2ludGVyTW92ZVwiLFwiTVNQb2ludGVyVXBcIixcIk1TUG9pbnRlckNhbmNlbFwiXX07cmV0dXJuIG8ucHJvdG90eXBlLl9iaW5kUG9zdFN0YXJ0RXZlbnRzPWZ1bmN0aW9uKGUpe2lmKGUpe2Zvcih2YXIgbj1yW2UudHlwZV0sbz1lLnByZXZlbnREZWZhdWx0P3Q6ZG9jdW1lbnQscz0wLGE9bi5sZW5ndGg7YT5zO3MrKyl7dmFyIGw9bltzXTtpLmJpbmQobyxsLHRoaXMpfXRoaXMuX2JvdW5kUG9pbnRlckV2ZW50cz17ZXZlbnRzOm4sbm9kZTpvfX19LG8ucHJvdG90eXBlLl91bmJpbmRQb3N0U3RhcnRFdmVudHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9ib3VuZFBvaW50ZXJFdmVudHM7aWYodCYmdC5ldmVudHMpe2Zvcih2YXIgZT0wLG49dC5ldmVudHMubGVuZ3RoO24+ZTtlKyspe3ZhciBvPXQuZXZlbnRzW2VdO2kudW5iaW5kKHQubm9kZSxvLHRoaXMpfWRlbGV0ZSB0aGlzLl9ib3VuZFBvaW50ZXJFdmVudHN9fSxvLnByb3RvdHlwZS5vbm1vdXNlbW92ZT1mdW5jdGlvbih0KXt0aGlzLl9wb2ludGVyTW92ZSh0LHQpfSxvLnByb3RvdHlwZS5vbk1TUG9pbnRlck1vdmU9by5wcm90b3R5cGUub25wb2ludGVybW92ZT1mdW5jdGlvbih0KXt0LnBvaW50ZXJJZD09dGhpcy5wb2ludGVySWRlbnRpZmllciYmdGhpcy5fcG9pbnRlck1vdmUodCx0KX0sby5wcm90b3R5cGUub250b3VjaG1vdmU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRUb3VjaCh0LmNoYW5nZWRUb3VjaGVzKTtlJiZ0aGlzLl9wb2ludGVyTW92ZSh0LGUpfSxvLnByb3RvdHlwZS5fcG9pbnRlck1vdmU9ZnVuY3Rpb24odCxlKXt0aGlzLnBvaW50ZXJNb3ZlKHQsZSl9LG8ucHJvdG90eXBlLnBvaW50ZXJNb3ZlPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyTW92ZVwiLFt0LGVdKX0sby5wcm90b3R5cGUub25tb3VzZXVwPWZ1bmN0aW9uKHQpe3RoaXMuX3BvaW50ZXJVcCh0LHQpfSxvLnByb3RvdHlwZS5vbk1TUG9pbnRlclVwPW8ucHJvdG90eXBlLm9ucG9pbnRlcnVwPWZ1bmN0aW9uKHQpe3QucG9pbnRlcklkPT10aGlzLnBvaW50ZXJJZGVudGlmaWVyJiZ0aGlzLl9wb2ludGVyVXAodCx0KX0sby5wcm90b3R5cGUub250b3VjaGVuZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFRvdWNoKHQuY2hhbmdlZFRvdWNoZXMpO2UmJnRoaXMuX3BvaW50ZXJVcCh0LGUpfSxvLnByb3RvdHlwZS5fcG9pbnRlclVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5fcG9pbnRlckRvbmUoKSx0aGlzLnBvaW50ZXJVcCh0LGUpfSxvLnByb3RvdHlwZS5wb2ludGVyVXA9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJVcFwiLFt0LGVdKX0sby5wcm90b3R5cGUuX3BvaW50ZXJEb25lPWZ1bmN0aW9uKCl7dGhpcy5pc1BvaW50ZXJEb3duPSExLGRlbGV0ZSB0aGlzLnBvaW50ZXJJZGVudGlmaWVyLHRoaXMuX3VuYmluZFBvc3RTdGFydEV2ZW50cygpLHRoaXMucG9pbnRlckRvbmUoKX0sby5wcm90b3R5cGUucG9pbnRlckRvbmU9bixvLnByb3RvdHlwZS5vbk1TUG9pbnRlckNhbmNlbD1vLnByb3RvdHlwZS5vbnBvaW50ZXJjYW5jZWw9ZnVuY3Rpb24odCl7dC5wb2ludGVySWQ9PXRoaXMucG9pbnRlcklkZW50aWZpZXImJnRoaXMuX3BvaW50ZXJDYW5jZWwodCx0KX0sby5wcm90b3R5cGUub250b3VjaGNhbmNlbD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLmdldFRvdWNoKHQuY2hhbmdlZFRvdWNoZXMpO2UmJnRoaXMuX3BvaW50ZXJDYW5jZWwodCxlKX0sby5wcm90b3R5cGUuX3BvaW50ZXJDYW5jZWw9ZnVuY3Rpb24odCxlKXt0aGlzLl9wb2ludGVyRG9uZSgpLHRoaXMucG9pbnRlckNhbmNlbCh0LGUpfSxvLnByb3RvdHlwZS5wb2ludGVyQ2FuY2VsPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0RXZlbnQoXCJwb2ludGVyQ2FuY2VsXCIsW3QsZV0pfSxvLmdldFBvaW50ZXJQb2ludD1mdW5jdGlvbih0KXtyZXR1cm57eDp2b2lkIDAhPT10LnBhZ2VYP3QucGFnZVg6dC5jbGllbnRYLHk6dm9pZCAwIT09dC5wYWdlWT90LnBhZ2VZOnQuY2xpZW50WX19LG99KSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJ1bmlkcmFnZ2VyL3VuaWRyYWdnZXJcIixbXCJldmVudGllL2V2ZW50aWVcIixcInVuaXBvaW50ZXIvdW5pcG9pbnRlclwiXSxmdW5jdGlvbihpLG4pe3JldHVybiBlKHQsaSxuKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUodCxyZXF1aXJlKFwiZXZlbnRpZVwiKSxyZXF1aXJlKFwidW5pcG9pbnRlclwiKSk6dC5VbmlkcmFnZ2VyPWUodCx0LmV2ZW50aWUsdC5Vbmlwb2ludGVyKX0od2luZG93LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKCl7fWZ1bmN0aW9uIG8odCl7dC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6dC5yZXR1cm5WYWx1ZT0hMX1mdW5jdGlvbiByKCl7fWZ1bmN0aW9uIHMoKXtyZXR1cm4hMX1yLnByb3RvdHlwZT1uZXcgaSxyLnByb3RvdHlwZS5iaW5kSGFuZGxlcz1mdW5jdGlvbigpe3RoaXMuX2JpbmRIYW5kbGVzKCEwKX0sci5wcm90b3R5cGUudW5iaW5kSGFuZGxlcz1mdW5jdGlvbigpe3RoaXMuX2JpbmRIYW5kbGVzKCExKX07dmFyIGE9dC5uYXZpZ2F0b3I7ci5wcm90b3R5cGUuX2JpbmRIYW5kbGVzPWZ1bmN0aW9uKHQpe3Q9dm9pZCAwPT09dD8hMDohIXQ7dmFyIGk7aT1hLnBvaW50ZXJFbmFibGVkP2Z1bmN0aW9uKGUpe2Uuc3R5bGUudG91Y2hBY3Rpb249dD9cIm5vbmVcIjpcIlwifTphLm1zUG9pbnRlckVuYWJsZWQ/ZnVuY3Rpb24oZSl7ZS5zdHlsZS5tc1RvdWNoQWN0aW9uPXQ/XCJub25lXCI6XCJcIn06ZnVuY3Rpb24oKXt0JiZjKHMpfTtmb3IodmFyIG49dD9cImJpbmRcIjpcInVuYmluZFwiLG89MCxyPXRoaXMuaGFuZGxlcy5sZW5ndGg7cj5vO28rKyl7dmFyIHM9dGhpcy5oYW5kbGVzW29dO3RoaXMuX2JpbmRTdGFydEV2ZW50KHMsdCksaShzKSxlW25dKHMsXCJjbGlja1wiLHRoaXMpfX07dmFyIGw9XCJhdHRhY2hFdmVudFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGM9bD9mdW5jdGlvbih0KXtcIklNR1wiPT10Lm5vZGVOYW1lJiYodC5vbmRyYWdzdGFydD1zKTtmb3IodmFyIGU9dC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nXCIpLGk9MCxuPWUubGVuZ3RoO24+aTtpKyspe3ZhciBvPWVbaV07by5vbmRyYWdzdGFydD1zfX06bjtyLnByb3RvdHlwZS5wb2ludGVyRG93bj1mdW5jdGlvbihpLG4pe2lmKFwiSU5QVVRcIj09aS50YXJnZXQubm9kZU5hbWUmJlwicmFuZ2VcIj09aS50YXJnZXQudHlwZSlyZXR1cm4gdGhpcy5pc1BvaW50ZXJEb3duPSExLHZvaWQgZGVsZXRlIHRoaXMucG9pbnRlcklkZW50aWZpZXI7dGhpcy5fZHJhZ1BvaW50ZXJEb3duKGksbik7dmFyIG89ZG9jdW1lbnQuYWN0aXZlRWxlbWVudDtvJiZvLmJsdXImJm8uYmx1cigpLHRoaXMuX2JpbmRQb3N0U3RhcnRFdmVudHMoaSksdGhpcy5wb2ludGVyRG93blNjcm9sbD1yLmdldFNjcm9sbFBvc2l0aW9uKCksZS5iaW5kKHQsXCJzY3JvbGxcIix0aGlzKSx0aGlzLmVtaXRFdmVudChcInBvaW50ZXJEb3duXCIsW2ksbl0pfSxyLnByb3RvdHlwZS5fZHJhZ1BvaW50ZXJEb3duPWZ1bmN0aW9uKHQsZSl7dGhpcy5wb2ludGVyRG93blBvaW50PWkuZ2V0UG9pbnRlclBvaW50KGUpO3ZhciBuPVwidG91Y2hzdGFydFwiPT10LnR5cGUscj10LnRhcmdldC5ub2RlTmFtZTtufHxcIlNFTEVDVFwiPT1yfHxvKHQpfSxyLnByb3RvdHlwZS5wb2ludGVyTW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2RyYWdQb2ludGVyTW92ZSh0LGUpO3RoaXMuZW1pdEV2ZW50KFwicG9pbnRlck1vdmVcIixbdCxlLGldKSx0aGlzLl9kcmFnTW92ZSh0LGUsaSl9LHIucHJvdG90eXBlLl9kcmFnUG9pbnRlck1vdmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1pLmdldFBvaW50ZXJQb2ludChlKSxvPXt4Om4ueC10aGlzLnBvaW50ZXJEb3duUG9pbnQueCx5Om4ueS10aGlzLnBvaW50ZXJEb3duUG9pbnQueX07cmV0dXJuIXRoaXMuaXNEcmFnZ2luZyYmdGhpcy5oYXNEcmFnU3RhcnRlZChvKSYmdGhpcy5fZHJhZ1N0YXJ0KHQsZSksb30sci5wcm90b3R5cGUuaGFzRHJhZ1N0YXJ0ZWQ9ZnVuY3Rpb24odCl7cmV0dXJuIE1hdGguYWJzKHQueCk+M3x8TWF0aC5hYnModC55KT4zfSxyLnByb3RvdHlwZS5wb2ludGVyVXA9ZnVuY3Rpb24odCxlKXt0aGlzLmVtaXRFdmVudChcInBvaW50ZXJVcFwiLFt0LGVdKSx0aGlzLl9kcmFnUG9pbnRlclVwKHQsZSl9LHIucHJvdG90eXBlLl9kcmFnUG9pbnRlclVwPWZ1bmN0aW9uKHQsZSl7dGhpcy5pc0RyYWdnaW5nP3RoaXMuX2RyYWdFbmQodCxlKTp0aGlzLl9zdGF0aWNDbGljayh0LGUpfSxpLnByb3RvdHlwZS5wb2ludGVyRG9uZT1mdW5jdGlvbigpe2UudW5iaW5kKHQsXCJzY3JvbGxcIix0aGlzKX0sci5wcm90b3R5cGUuX2RyYWdTdGFydD1mdW5jdGlvbih0LGUpe3RoaXMuaXNEcmFnZ2luZz0hMCx0aGlzLmRyYWdTdGFydFBvaW50PXIuZ2V0UG9pbnRlclBvaW50KGUpLHRoaXMuaXNQcmV2ZW50aW5nQ2xpY2tzPSEwLHRoaXMuZHJhZ1N0YXJ0KHQsZSl9LHIucHJvdG90eXBlLmRyYWdTdGFydD1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdEV2ZW50KFwiZHJhZ1N0YXJ0XCIsW3QsZV0pfSxyLnByb3RvdHlwZS5fZHJhZ01vdmU9ZnVuY3Rpb24odCxlLGkpe3RoaXMuaXNEcmFnZ2luZyYmdGhpcy5kcmFnTW92ZSh0LGUsaSlcbn0sci5wcm90b3R5cGUuZHJhZ01vdmU9ZnVuY3Rpb24odCxlLGkpe28odCksdGhpcy5lbWl0RXZlbnQoXCJkcmFnTW92ZVwiLFt0LGUsaV0pfSxyLnByb3RvdHlwZS5fZHJhZ0VuZD1mdW5jdGlvbih0LGUpe3RoaXMuaXNEcmFnZ2luZz0hMTt2YXIgaT10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkZWxldGUgaS5pc1ByZXZlbnRpbmdDbGlja3N9KSx0aGlzLmRyYWdFbmQodCxlKX0sci5wcm90b3R5cGUuZHJhZ0VuZD1mdW5jdGlvbih0LGUpe3RoaXMuZW1pdEV2ZW50KFwiZHJhZ0VuZFwiLFt0LGVdKX0sci5wcm90b3R5cGUucG9pbnRlckRvbmU9ZnVuY3Rpb24oKXtlLnVuYmluZCh0LFwic2Nyb2xsXCIsdGhpcyksZGVsZXRlIHRoaXMucG9pbnRlckRvd25TY3JvbGx9LHIucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24odCl7dGhpcy5pc1ByZXZlbnRpbmdDbGlja3MmJm8odCl9LHIucHJvdG90eXBlLl9zdGF0aWNDbGljaz1mdW5jdGlvbih0LGUpe2lmKCF0aGlzLmlzSWdub3JpbmdNb3VzZVVwfHxcIm1vdXNldXBcIiE9dC50eXBlKXt2YXIgaT10LnRhcmdldC5ub2RlTmFtZTtpZigoXCJJTlBVVFwiPT1pfHxcIlRFWFRBUkVBXCI9PWkpJiZ0LnRhcmdldC5mb2N1cygpLHRoaXMuc3RhdGljQ2xpY2sodCxlKSxcIm1vdXNldXBcIiE9dC50eXBlKXt0aGlzLmlzSWdub3JpbmdNb3VzZVVwPSEwO3ZhciBuPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2RlbGV0ZSBuLmlzSWdub3JpbmdNb3VzZVVwfSw0MDApfX19LHIucHJvdG90eXBlLnN0YXRpY0NsaWNrPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbWl0RXZlbnQoXCJzdGF0aWNDbGlja1wiLFt0LGVdKX0sci5wcm90b3R5cGUub25zY3JvbGw9ZnVuY3Rpb24oKXt2YXIgdD1yLmdldFNjcm9sbFBvc2l0aW9uKCksZT10aGlzLnBvaW50ZXJEb3duU2Nyb2xsLngtdC54LGk9dGhpcy5wb2ludGVyRG93blNjcm9sbC55LXQueTsoTWF0aC5hYnMoZSk+M3x8TWF0aC5hYnMoaSk+MykmJnRoaXMuX3BvaW50ZXJEb25lKCl9LHIuZ2V0UG9pbnRlclBvaW50PWZ1bmN0aW9uKHQpe3JldHVybnt4OnZvaWQgMCE9PXQucGFnZVg/dC5wYWdlWDp0LmNsaWVudFgseTp2b2lkIDAhPT10LnBhZ2VZP3QucGFnZVk6dC5jbGllbnRZfX07dmFyIGg9dm9pZCAwIT09dC5wYWdlWU9mZnNldDtyZXR1cm4gci5nZXRTY3JvbGxQb3NpdGlvbj1mdW5jdGlvbigpe3JldHVybnt4Omg/dC5wYWdlWE9mZnNldDpkb2N1bWVudC5ib2R5LnNjcm9sbExlZnQseTpoP3QucGFnZVlPZmZzZXQ6ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3B9fSxyLmdldFBvaW50ZXJQb2ludD1pLmdldFBvaW50ZXJQb2ludCxyfSksZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHkvanMvZHJhZ1wiLFtcImNsYXNzaWUvY2xhc3NpZVwiLFwiZXZlbnRpZS9ldmVudGllXCIsXCIuL2ZsaWNraXR5XCIsXCJ1bmlkcmFnZ2VyL3VuaWRyYWdnZXJcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCJdLGZ1bmN0aW9uKGksbixvLHIscyl7cmV0dXJuIGUodCxpLG4sbyxyLHMpfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSh0LHJlcXVpcmUoXCJkZXNhbmRyby1jbGFzc2llXCIpLHJlcXVpcmUoXCJldmVudGllXCIpLHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpLHJlcXVpcmUoXCJ1bmlkcmFnZ2VyXCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSk6dC5GbGlja2l0eT1lKHQsdC5jbGFzc2llLHQuZXZlbnRpZSx0LkZsaWNraXR5LHQuVW5pZHJhZ2dlcix0LmZpenp5VUlVdGlscyl9KHdpbmRvdyxmdW5jdGlvbih0LGUsaSxuLG8scil7ZnVuY3Rpb24gcyh0KXt0LnByZXZlbnREZWZhdWx0P3QucHJldmVudERlZmF1bHQoKTp0LnJldHVyblZhbHVlPSExfWZ1bmN0aW9uIGEoZSl7dmFyIGk9by5nZXRQb2ludGVyUG9pbnQoZSk7cmV0dXJuIGkueS10LnBhZ2VZT2Zmc2V0fXIuZXh0ZW5kKG4uZGVmYXVsdHMse2RyYWdnYWJsZTohMCx0b3VjaFZlcnRpY2FsU2Nyb2xsOiEwfSksbi5jcmVhdGVNZXRob2RzLnB1c2goXCJfY3JlYXRlRHJhZ1wiKSxyLmV4dGVuZChuLnByb3RvdHlwZSxvLnByb3RvdHlwZSksbi5wcm90b3R5cGUuX2NyZWF0ZURyYWc9ZnVuY3Rpb24oKXt0aGlzLm9uKFwiYWN0aXZhdGVcIix0aGlzLmJpbmREcmFnKSx0aGlzLm9uKFwidWlDaGFuZ2VcIix0aGlzLl91aUNoYW5nZURyYWcpLHRoaXMub24oXCJjaGlsZFVJUG9pbnRlckRvd25cIix0aGlzLl9jaGlsZFVJUG9pbnRlckRvd25EcmFnKSx0aGlzLm9uKFwiZGVhY3RpdmF0ZVwiLHRoaXMudW5iaW5kRHJhZyl9LG4ucHJvdG90eXBlLmJpbmREcmFnPWZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLmRyYWdnYWJsZSYmIXRoaXMuaXNEcmFnQm91bmQmJihlLmFkZCh0aGlzLmVsZW1lbnQsXCJpcy1kcmFnZ2FibGVcIiksdGhpcy5oYW5kbGVzPVt0aGlzLnZpZXdwb3J0XSx0aGlzLmJpbmRIYW5kbGVzKCksdGhpcy5pc0RyYWdCb3VuZD0hMCl9LG4ucHJvdG90eXBlLnVuYmluZERyYWc9ZnVuY3Rpb24oKXt0aGlzLmlzRHJhZ0JvdW5kJiYoZS5yZW1vdmUodGhpcy5lbGVtZW50LFwiaXMtZHJhZ2dhYmxlXCIpLHRoaXMudW5iaW5kSGFuZGxlcygpLGRlbGV0ZSB0aGlzLmlzRHJhZ0JvdW5kKX0sbi5wcm90b3R5cGUuX3VpQ2hhbmdlRHJhZz1mdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmlzRnJlZVNjcm9sbGluZ30sbi5wcm90b3R5cGUuX2NoaWxkVUlQb2ludGVyRG93bkRyYWc9ZnVuY3Rpb24odCl7cyh0KSx0aGlzLnBvaW50ZXJEb3duRm9jdXModCl9LG4ucHJvdG90eXBlLnBvaW50ZXJEb3duPWZ1bmN0aW9uKG4scil7aWYoXCJJTlBVVFwiPT1uLnRhcmdldC5ub2RlTmFtZSYmXCJyYW5nZVwiPT1uLnRhcmdldC50eXBlKXJldHVybiB0aGlzLmlzUG9pbnRlckRvd249ITEsdm9pZCBkZWxldGUgdGhpcy5wb2ludGVySWRlbnRpZmllcjt0aGlzLl9kcmFnUG9pbnRlckRvd24obixyKTt2YXIgcz1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3MmJnMuYmx1ciYmcyE9dGhpcy5lbGVtZW50JiZzIT1kb2N1bWVudC5ib2R5JiZzLmJsdXIoKSx0aGlzLnBvaW50ZXJEb3duRm9jdXMobiksdGhpcy5kcmFnWD10aGlzLngsZS5hZGQodGhpcy52aWV3cG9ydCxcImlzLXBvaW50ZXItZG93blwiKSx0aGlzLl9iaW5kUG9zdFN0YXJ0RXZlbnRzKG4pLHRoaXMucG9pbnRlckRvd25TY3JvbGw9by5nZXRTY3JvbGxQb3NpdGlvbigpLGkuYmluZCh0LFwic2Nyb2xsXCIsdGhpcyksdGhpcy5kaXNwYXRjaEV2ZW50KFwicG9pbnRlckRvd25cIixuLFtyXSl9O3ZhciBsPXt0b3VjaHN0YXJ0OiEwLE1TUG9pbnRlckRvd246ITB9LGM9e0lOUFVUOiEwLFNFTEVDVDohMH07bi5wcm90b3R5cGUucG9pbnRlckRvd25Gb2N1cz1mdW5jdGlvbih0KXshdGhpcy5vcHRpb25zLmFjY2Vzc2liaWxpdHl8fGxbdC50eXBlXXx8Y1t0LnRhcmdldC5ub2RlTmFtZV18fHRoaXMuZWxlbWVudC5mb2N1cygpfSxuLnByb3RvdHlwZS5wb2ludGVyTW92ZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuX2RyYWdQb2ludGVyTW92ZSh0LGUpO3RoaXMudG91Y2hWZXJ0aWNhbFNjcm9sbE1vdmUodCxlLGkpLHRoaXMuX2RyYWdNb3ZlKHQsZSxpKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJwb2ludGVyTW92ZVwiLHQsW2UsaV0pfSxuLnByb3RvdHlwZS5oYXNEcmFnU3RhcnRlZD1mdW5jdGlvbih0KXtyZXR1cm4hdGhpcy5pc1RvdWNoU2Nyb2xsaW5nJiZNYXRoLmFicyh0LngpPjN9LG4ucHJvdG90eXBlLnBvaW50ZXJVcD1mdW5jdGlvbih0LGkpe2RlbGV0ZSB0aGlzLmlzVG91Y2hTY3JvbGxpbmcsZS5yZW1vdmUodGhpcy52aWV3cG9ydCxcImlzLXBvaW50ZXItZG93blwiKSx0aGlzLmRpc3BhdGNoRXZlbnQoXCJwb2ludGVyVXBcIix0LFtpXSksdGhpcy5fZHJhZ1BvaW50ZXJVcCh0LGkpfTt2YXIgaD17dG91Y2htb3ZlOiEwLE1TUG9pbnRlck1vdmU6ITB9O3JldHVybiBuLnByb3RvdHlwZS50b3VjaFZlcnRpY2FsU2Nyb2xsTW92ZT1mdW5jdGlvbihlLGksbil7dmFyIG89dGhpcy5vcHRpb25zLnRvdWNoVmVydGljYWxTY3JvbGwscj1cIndpdGhEcmFnXCI9PW8/IW86dGhpcy5pc0RyYWdnaW5nfHwhbzshciYmaFtlLnR5cGVdJiYhdGhpcy5pc1RvdWNoU2Nyb2xsaW5nJiZNYXRoLmFicyhuLnkpPjEwJiYodGhpcy5zdGFydFNjcm9sbFk9dC5wYWdlWU9mZnNldCx0aGlzLnBvaW50ZXJXaW5kb3dTdGFydFk9YShpKSx0aGlzLmlzVG91Y2hTY3JvbGxpbmc9ITApfSxuLnByb3RvdHlwZS5kcmFnU3RhcnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmRyYWdTdGFydFBvc2l0aW9uPXRoaXMueCx0aGlzLnN0YXJ0QW5pbWF0aW9uKCksdGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhZ1N0YXJ0XCIsdCxbZV0pfSxuLnByb3RvdHlwZS5kcmFnTW92ZT1mdW5jdGlvbih0LGUsaSl7cyh0KSx0aGlzLnByZXZpb3VzRHJhZ1g9dGhpcy5kcmFnWDt2YXIgbj10aGlzLm9wdGlvbnMucmlnaHRUb0xlZnQ/LTE6MSxvPXRoaXMuZHJhZ1N0YXJ0UG9zaXRpb24raS54Km47aWYoIXRoaXMub3B0aW9ucy53cmFwQXJvdW5kJiZ0aGlzLmNlbGxzLmxlbmd0aCl7dmFyIHI9TWF0aC5tYXgoLXRoaXMuY2VsbHNbMF0udGFyZ2V0LHRoaXMuZHJhZ1N0YXJ0UG9zaXRpb24pO289bz5yPy41KihvK3IpOm87dmFyIGE9TWF0aC5taW4oLXRoaXMuZ2V0TGFzdENlbGwoKS50YXJnZXQsdGhpcy5kcmFnU3RhcnRQb3NpdGlvbik7bz1hPm8/LjUqKG8rYSk6b310aGlzLmRyYWdYPW8sdGhpcy5kcmFnTW92ZVRpbWU9bmV3IERhdGUsdGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhZ01vdmVcIix0LFtlLGldKX0sbi5wcm90b3R5cGUuZHJhZ0VuZD1mdW5jdGlvbih0LGUpe3RoaXMub3B0aW9ucy5mcmVlU2Nyb2xsJiYodGhpcy5pc0ZyZWVTY3JvbGxpbmc9ITApO3ZhciBpPXRoaXMuZHJhZ0VuZFJlc3RpbmdTZWxlY3QoKTtpZih0aGlzLm9wdGlvbnMuZnJlZVNjcm9sbCYmIXRoaXMub3B0aW9ucy53cmFwQXJvdW5kKXt2YXIgbj10aGlzLmdldFJlc3RpbmdQb3NpdGlvbigpO3RoaXMuaXNGcmVlU2Nyb2xsaW5nPS1uPnRoaXMuY2VsbHNbMF0udGFyZ2V0JiYtbjx0aGlzLmdldExhc3RDZWxsKCkudGFyZ2V0fWVsc2UgdGhpcy5vcHRpb25zLmZyZWVTY3JvbGx8fGkhPXRoaXMuc2VsZWN0ZWRJbmRleHx8KGkrPXRoaXMuZHJhZ0VuZEJvb3N0U2VsZWN0KCkpO2RlbGV0ZSB0aGlzLnByZXZpb3VzRHJhZ1gsdGhpcy5zZWxlY3QoaSksdGhpcy5kaXNwYXRjaEV2ZW50KFwiZHJhZ0VuZFwiLHQsW2VdKX0sbi5wcm90b3R5cGUuZHJhZ0VuZFJlc3RpbmdTZWxlY3Q9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFJlc3RpbmdQb3NpdGlvbigpLGU9TWF0aC5hYnModGhpcy5nZXRDZWxsRGlzdGFuY2UoLXQsdGhpcy5zZWxlY3RlZEluZGV4KSksaT10aGlzLl9nZXRDbG9zZXN0UmVzdGluZyh0LGUsMSksbj10aGlzLl9nZXRDbG9zZXN0UmVzdGluZyh0LGUsLTEpLG89aS5kaXN0YW5jZTxuLmRpc3RhbmNlP2kuaW5kZXg6bi5pbmRleDtyZXR1cm4gb30sbi5wcm90b3R5cGUuX2dldENsb3Nlc3RSZXN0aW5nPWZ1bmN0aW9uKHQsZSxpKXtmb3IodmFyIG49dGhpcy5zZWxlY3RlZEluZGV4LG89MS8wLHI9dGhpcy5vcHRpb25zLmNvbnRhaW4mJiF0aGlzLm9wdGlvbnMud3JhcEFyb3VuZD9mdW5jdGlvbih0LGUpe3JldHVybiBlPj10fTpmdW5jdGlvbih0LGUpe3JldHVybiBlPnR9O3IoZSxvKSYmKG4rPWksbz1lLGU9dGhpcy5nZXRDZWxsRGlzdGFuY2UoLXQsbiksbnVsbCE9PWUpOyllPU1hdGguYWJzKGUpO3JldHVybntkaXN0YW5jZTpvLGluZGV4Om4taX19LG4ucHJvdG90eXBlLmdldENlbGxEaXN0YW5jZT1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuY2VsbHMubGVuZ3RoLG49dGhpcy5vcHRpb25zLndyYXBBcm91bmQmJmk+MSxvPW4/ci5tb2R1bG8oZSxpKTplLHM9dGhpcy5jZWxsc1tvXTtpZighcylyZXR1cm4gbnVsbDt2YXIgYT1uP3RoaXMuc2xpZGVhYmxlV2lkdGgqTWF0aC5mbG9vcihlL2kpOjA7cmV0dXJuIHQtKHMudGFyZ2V0K2EpfSxuLnByb3RvdHlwZS5kcmFnRW5kQm9vc3RTZWxlY3Q9ZnVuY3Rpb24oKXtpZih2b2lkIDA9PT10aGlzLnByZXZpb3VzRHJhZ1h8fCF0aGlzLmRyYWdNb3ZlVGltZXx8bmV3IERhdGUtdGhpcy5kcmFnTW92ZVRpbWU+MTAwKXJldHVybiAwO3ZhciB0PXRoaXMuZ2V0Q2VsbERpc3RhbmNlKC10aGlzLmRyYWdYLHRoaXMuc2VsZWN0ZWRJbmRleCksZT10aGlzLnByZXZpb3VzRHJhZ1gtdGhpcy5kcmFnWDtyZXR1cm4gdD4wJiZlPjA/MTowPnQmJjA+ZT8tMTowfSxuLnByb3RvdHlwZS5zdGF0aWNDbGljaz1mdW5jdGlvbih0LGUpe3ZhciBpPXRoaXMuZ2V0UGFyZW50Q2VsbCh0LnRhcmdldCksbj1pJiZpLmVsZW1lbnQsbz1pJiZyLmluZGV4T2YodGhpcy5jZWxscyxpKTt0aGlzLmRpc3BhdGNoRXZlbnQoXCJzdGF0aWNDbGlja1wiLHQsW2UsbixvXSl9LG59KSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJ0YXAtbGlzdGVuZXIvdGFwLWxpc3RlbmVyXCIsW1widW5pcG9pbnRlci91bmlwb2ludGVyXCJdLGZ1bmN0aW9uKGkpe3JldHVybiBlKHQsaSl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQscmVxdWlyZShcInVuaXBvaW50ZXJcIikpOnQuVGFwTGlzdGVuZXI9ZSh0LHQuVW5pcG9pbnRlcil9KHdpbmRvdyxmdW5jdGlvbih0LGUpe2Z1bmN0aW9uIGkodCl7dC5wcmV2ZW50RGVmYXVsdD90LnByZXZlbnREZWZhdWx0KCk6dC5yZXR1cm5WYWx1ZT0hMX1mdW5jdGlvbiBuKHQpe3RoaXMuYmluZFRhcCh0KX1uLnByb3RvdHlwZT1uZXcgZSxuLnByb3RvdHlwZS5iaW5kVGFwPWZ1bmN0aW9uKHQpe3QmJih0aGlzLnVuYmluZFRhcCgpLHRoaXMudGFwRWxlbWVudD10LHRoaXMuX2JpbmRTdGFydEV2ZW50KHQsITApKX0sbi5wcm90b3R5cGUudW5iaW5kVGFwPWZ1bmN0aW9uKCl7dGhpcy50YXBFbGVtZW50JiYodGhpcy5fYmluZFN0YXJ0RXZlbnQodGhpcy50YXBFbGVtZW50LCEwKSxkZWxldGUgdGhpcy50YXBFbGVtZW50KX07dmFyIG89bi5wcm90b3R5cGUucG9pbnRlckRvd247bi5wcm90b3R5cGUucG9pbnRlckRvd249ZnVuY3Rpb24odCl7XCJ0b3VjaHN0YXJ0XCI9PXQudHlwZSYmaSh0KSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07dmFyIHI9dm9pZCAwIT09dC5wYWdlWU9mZnNldDtyZXR1cm4gbi5wcm90b3R5cGUucG9pbnRlclVwPWZ1bmN0aW9uKGksbil7dmFyIG89ZS5nZXRQb2ludGVyUG9pbnQobikscz10aGlzLnRhcEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksYT1yP3QucGFnZVhPZmZzZXQ6ZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0LGw9cj90LnBhZ2VZT2Zmc2V0OmRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wLGM9by54Pj1zLmxlZnQrYSYmby54PD1zLnJpZ2h0K2EmJm8ueT49cy50b3ArbCYmby55PD1zLmJvdHRvbStsO2MmJnRoaXMuZW1pdEV2ZW50KFwidGFwXCIsW2ksbl0pfSxuLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5wb2ludGVyRG9uZSgpLHRoaXMudW5iaW5kVGFwKCl9LG59KSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmbGlja2l0eS9qcy9wcmV2LW5leHQtYnV0dG9uXCIsW1wiZXZlbnRpZS9ldmVudGllXCIsXCIuL2ZsaWNraXR5XCIsXCJ0YXAtbGlzdGVuZXIvdGFwLWxpc3RlbmVyXCIsXCJmaXp6eS11aS11dGlscy91dGlsc1wiXSxmdW5jdGlvbihpLG4sbyxyKXtyZXR1cm4gZSh0LGksbixvLHIpfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSh0LHJlcXVpcmUoXCJldmVudGllXCIpLHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpLHJlcXVpcmUoXCJ0YXAtbGlzdGVuZXJcIikscmVxdWlyZShcImZpenp5LXVpLXV0aWxzXCIpKTplKHQsdC5ldmVudGllLHQuRmxpY2tpdHksdC5UYXBMaXN0ZW5lcix0LmZpenp5VUlVdGlscyl9KHdpbmRvdyxmdW5jdGlvbih0LGUsaSxuLG8pe2Z1bmN0aW9uIHIodCxlKXt0aGlzLmRpcmVjdGlvbj10LHRoaXMucGFyZW50PWUsdGhpcy5fY3JlYXRlKCl9ZnVuY3Rpb24gcyh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD90OlwiTSBcIit0LngwK1wiLDUwIEwgXCIrdC54MStcIixcIisodC55MSs1MCkrXCIgTCBcIit0LngyK1wiLFwiKyh0LnkyKzUwKStcIiBMIFwiK3QueDMrXCIsNTAgIEwgXCIrdC54MitcIixcIisoNTAtdC55MikrXCIgTCBcIit0LngxK1wiLFwiKyg1MC10LnkxKStcIiBaXCJ9dmFyIGE9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7aWYodm9pZCAwIT09ZSlyZXR1cm4gZTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiB0LmlubmVySFRNTD1cIjxzdmcvPlwiLGU9KHQuZmlyc3RDaGlsZCYmdC5maXJzdENoaWxkLm5hbWVzcGFjZVVSSSk9PWF9dmFyIGU7cmV0dXJuIHR9KCk7cmV0dXJuIHIucHJvdG90eXBlPW5ldyBuLHIucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZD0hMCx0aGlzLmlzUHJldmlvdXM9LTE9PXRoaXMuZGlyZWN0aW9uO3ZhciB0PXRoaXMucGFyZW50Lm9wdGlvbnMucmlnaHRUb0xlZnQ/MTotMTt0aGlzLmlzTGVmdD10aGlzLmRpcmVjdGlvbj09dDt2YXIgZT10aGlzLmVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihlLmNsYXNzTmFtZT1cImZsaWNraXR5LXByZXYtbmV4dC1idXR0b25cIixlLmNsYXNzTmFtZSs9dGhpcy5pc1ByZXZpb3VzP1wiIHByZXZpb3VzXCI6XCIgbmV4dFwiLGUuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpLGkuc2V0VW5zZWxlY3RhYmxlKGUpLGwoKSl7dmFyIG49dGhpcy5jcmVhdGVTVkcoKTtlLmFwcGVuZENoaWxkKG4pfWVsc2UgdGhpcy5zZXRBcnJvd1RleHQoKSxlLmNsYXNzTmFtZSs9XCIgbm8tc3ZnXCI7dmFyIG89dGhpczt0aGlzLm9uQ2VsbFNlbGVjdD1mdW5jdGlvbigpe28udXBkYXRlKCl9LHRoaXMucGFyZW50Lm9uKFwiY2VsbFNlbGVjdFwiLHRoaXMub25DZWxsU2VsZWN0KSx0aGlzLm9uKFwidGFwXCIsdGhpcy5vblRhcCksdGhpcy5vbihcInBvaW50ZXJEb3duXCIsZnVuY3Rpb24odCxlKXtvLnBhcmVudC5jaGlsZFVJUG9pbnRlckRvd24oZSl9KX0sci5wcm90b3R5cGUuYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZSgpLHRoaXMuYmluZFRhcCh0aGlzLmVsZW1lbnQpLGUuYmluZCh0aGlzLmVsZW1lbnQsXCJjbGlja1wiLHRoaXMpLHRoaXMucGFyZW50LmVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KX0sci5wcm90b3R5cGUuZGVhY3RpdmF0ZT1mdW5jdGlvbigpe3RoaXMucGFyZW50LmVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5lbGVtZW50KSxuLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyksZS51bmJpbmQodGhpcy5lbGVtZW50LFwiY2xpY2tcIix0aGlzKX0sci5wcm90b3R5cGUuY3JlYXRlU1ZHPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGEsXCJzdmdcIik7dC5zZXRBdHRyaWJ1dGUoXCJ2aWV3Qm94XCIsXCIwIDAgMTAwIDEwMFwiKTt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoYSxcInBhdGhcIiksaT1zKHRoaXMucGFyZW50Lm9wdGlvbnMuYXJyb3dTaGFwZSk7cmV0dXJuIGUuc2V0QXR0cmlidXRlKFwiZFwiLGkpLGUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIixcImFycm93XCIpLHRoaXMuaXNMZWZ0fHxlLnNldEF0dHJpYnV0ZShcInRyYW5zZm9ybVwiLFwidHJhbnNsYXRlKDEwMCwgMTAwKSByb3RhdGUoMTgwKSBcIiksdC5hcHBlbmRDaGlsZChlKSx0fSxyLnByb3RvdHlwZS5zZXRBcnJvd1RleHQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudC5vcHRpb25zLGU9dGhpcy5pc0xlZnQ/dC5sZWZ0QXJyb3dUZXh0OnQucmlnaHRBcnJvd1RleHQ7by5zZXRUZXh0KHRoaXMuZWxlbWVudCxlKX0sci5wcm90b3R5cGUub25UYXA9ZnVuY3Rpb24oKXtpZih0aGlzLmlzRW5hYmxlZCl7dGhpcy5wYXJlbnQudWlDaGFuZ2UoKTt2YXIgdD10aGlzLmlzUHJldmlvdXM/XCJwcmV2aW91c1wiOlwibmV4dFwiO3RoaXMucGFyZW50W3RdKCl9fSxyLnByb3RvdHlwZS5oYW5kbGVFdmVudD1vLmhhbmRsZUV2ZW50LHIucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24oKXt2YXIgdD1kb2N1bWVudC5hY3RpdmVFbGVtZW50O3QmJnQ9PXRoaXMuZWxlbWVudCYmdGhpcy5vblRhcCgpfSxyLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZHx8KHRoaXMuZWxlbWVudC5kaXNhYmxlZD0hMSx0aGlzLmlzRW5hYmxlZD0hMCl9LHIucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLmlzRW5hYmxlZCYmKHRoaXMuZWxlbWVudC5kaXNhYmxlZD0hMCx0aGlzLmlzRW5hYmxlZD0hMSl9LHIucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXMucGFyZW50LmNlbGxzO2lmKHRoaXMucGFyZW50Lm9wdGlvbnMud3JhcEFyb3VuZCYmdC5sZW5ndGg+MSlyZXR1cm4gdm9pZCB0aGlzLmVuYWJsZSgpO3ZhciBlPXQubGVuZ3RoP3QubGVuZ3RoLTE6MCxpPXRoaXMuaXNQcmV2aW91cz8wOmUsbj10aGlzLnBhcmVudC5zZWxlY3RlZEluZGV4PT1pP1wiZGlzYWJsZVwiOlwiZW5hYmxlXCI7dGhpc1tuXSgpfSxyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kZWFjdGl2YXRlKCl9LG8uZXh0ZW5kKGkuZGVmYXVsdHMse3ByZXZOZXh0QnV0dG9uczohMCxsZWZ0QXJyb3dUZXh0Olwi4oC5XCIscmlnaHRBcnJvd1RleHQ6XCLigLpcIixhcnJvd1NoYXBlOnt4MDoxMCx4MTo2MCx5MTo1MCx4Mjo3MCx5Mjo0MCx4MzozMH19KSxpLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVQcmV2TmV4dEJ1dHRvbnNcIiksaS5wcm90b3R5cGUuX2NyZWF0ZVByZXZOZXh0QnV0dG9ucz1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5wcmV2TmV4dEJ1dHRvbnMmJih0aGlzLnByZXZCdXR0b249bmV3IHIoLTEsdGhpcyksdGhpcy5uZXh0QnV0dG9uPW5ldyByKDEsdGhpcyksdGhpcy5vbihcImFjdGl2YXRlXCIsdGhpcy5hY3RpdmF0ZVByZXZOZXh0QnV0dG9ucykpfSxpLnByb3RvdHlwZS5hY3RpdmF0ZVByZXZOZXh0QnV0dG9ucz1mdW5jdGlvbigpe3RoaXMucHJldkJ1dHRvbi5hY3RpdmF0ZSgpLHRoaXMubmV4dEJ1dHRvbi5hY3RpdmF0ZSgpLHRoaXMub24oXCJkZWFjdGl2YXRlXCIsdGhpcy5kZWFjdGl2YXRlUHJldk5leHRCdXR0b25zKX0saS5wcm90b3R5cGUuZGVhY3RpdmF0ZVByZXZOZXh0QnV0dG9ucz1mdW5jdGlvbigpe3RoaXMucHJldkJ1dHRvbi5kZWFjdGl2YXRlKCksdGhpcy5uZXh0QnV0dG9uLmRlYWN0aXZhdGUoKSx0aGlzLm9mZihcImRlYWN0aXZhdGVcIix0aGlzLmRlYWN0aXZhdGVQcmV2TmV4dEJ1dHRvbnMpfSxpLlByZXZOZXh0QnV0dG9uPXIsaX0pLGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL3BhZ2UtZG90c1wiLFtcImV2ZW50aWUvZXZlbnRpZVwiLFwiLi9mbGlja2l0eVwiLFwidGFwLWxpc3RlbmVyL3RhcC1saXN0ZW5lclwiLFwiZml6enktdWktdXRpbHMvdXRpbHNcIl0sZnVuY3Rpb24oaSxuLG8scil7cmV0dXJuIGUodCxpLG4sbyxyKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUodCxyZXF1aXJlKFwiZXZlbnRpZVwiKSxyZXF1aXJlKFwiLi9mbGlja2l0eVwiKSxyZXF1aXJlKFwidGFwLWxpc3RlbmVyXCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSk6ZSh0LHQuZXZlbnRpZSx0LkZsaWNraXR5LHQuVGFwTGlzdGVuZXIsdC5maXp6eVVJVXRpbHMpfSh3aW5kb3csZnVuY3Rpb24odCxlLGksbixvKXtmdW5jdGlvbiByKHQpe3RoaXMucGFyZW50PXQsdGhpcy5fY3JlYXRlKCl9cmV0dXJuIHIucHJvdG90eXBlPW5ldyBuLHIucHJvdG90eXBlLl9jcmVhdGU9ZnVuY3Rpb24oKXt0aGlzLmhvbGRlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib2xcIiksdGhpcy5ob2xkZXIuY2xhc3NOYW1lPVwiZmxpY2tpdHktcGFnZS1kb3RzXCIsaS5zZXRVbnNlbGVjdGFibGUodGhpcy5ob2xkZXIpLHRoaXMuZG90cz1bXTt2YXIgdD10aGlzO3RoaXMub25DZWxsU2VsZWN0PWZ1bmN0aW9uKCl7dC51cGRhdGVTZWxlY3RlZCgpfSx0aGlzLnBhcmVudC5vbihcImNlbGxTZWxlY3RcIix0aGlzLm9uQ2VsbFNlbGVjdCksdGhpcy5vbihcInRhcFwiLHRoaXMub25UYXApLHRoaXMub24oXCJwb2ludGVyRG93blwiLGZ1bmN0aW9uKGUsaSl7dC5wYXJlbnQuY2hpbGRVSVBvaW50ZXJEb3duKGkpfSl9LHIucHJvdG90eXBlLmFjdGl2YXRlPWZ1bmN0aW9uKCl7dGhpcy5zZXREb3RzKCksdGhpcy51cGRhdGVTZWxlY3RlZCgpLHRoaXMuYmluZFRhcCh0aGlzLmhvbGRlciksdGhpcy5wYXJlbnQuZWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmhvbGRlcil9LHIucHJvdG90eXBlLmRlYWN0aXZhdGU9ZnVuY3Rpb24oKXt0aGlzLnBhcmVudC5lbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuaG9sZGVyKSxuLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9LHIucHJvdG90eXBlLnNldERvdHM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhcmVudC5jZWxscy5sZW5ndGgtdGhpcy5kb3RzLmxlbmd0aDt0PjA/dGhpcy5hZGREb3RzKHQpOjA+dCYmdGhpcy5yZW1vdmVEb3RzKC10KX0sci5wcm90b3R5cGUuYWRkRG90cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9W107dDspe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtuLmNsYXNzTmFtZT1cImRvdFwiLGUuYXBwZW5kQ2hpbGQobiksaS5wdXNoKG4pLHQtLX10aGlzLmhvbGRlci5hcHBlbmRDaGlsZChlKSx0aGlzLmRvdHM9dGhpcy5kb3RzLmNvbmNhdChpKX0sci5wcm90b3R5cGUucmVtb3ZlRG90cz1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5kb3RzLnNwbGljZSh0aGlzLmRvdHMubGVuZ3RoLXQsdCksaT0wLG49ZS5sZW5ndGg7bj5pO2krKyl7dmFyIG89ZVtpXTt0aGlzLmhvbGRlci5yZW1vdmVDaGlsZChvKX19LHIucHJvdG90eXBlLnVwZGF0ZVNlbGVjdGVkPWZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZERvdCYmKHRoaXMuc2VsZWN0ZWREb3QuY2xhc3NOYW1lPVwiZG90XCIpLHRoaXMuZG90cy5sZW5ndGgmJih0aGlzLnNlbGVjdGVkRG90PXRoaXMuZG90c1t0aGlzLnBhcmVudC5zZWxlY3RlZEluZGV4XSx0aGlzLnNlbGVjdGVkRG90LmNsYXNzTmFtZT1cImRvdCBpcy1zZWxlY3RlZFwiKX0sci5wcm90b3R5cGUub25UYXA9ZnVuY3Rpb24odCl7dmFyIGU9dC50YXJnZXQ7aWYoXCJMSVwiPT1lLm5vZGVOYW1lKXt0aGlzLnBhcmVudC51aUNoYW5nZSgpO3ZhciBpPW8uaW5kZXhPZih0aGlzLmRvdHMsZSk7dGhpcy5wYXJlbnQuc2VsZWN0KGkpfX0sci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZGVhY3RpdmF0ZSgpfSxpLlBhZ2VEb3RzPXIsby5leHRlbmQoaS5kZWZhdWx0cyx7cGFnZURvdHM6ITB9KSxpLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVQYWdlRG90c1wiKSxpLnByb3RvdHlwZS5fY3JlYXRlUGFnZURvdHM9ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMucGFnZURvdHMmJih0aGlzLnBhZ2VEb3RzPW5ldyByKHRoaXMpLHRoaXMub24oXCJhY3RpdmF0ZVwiLHRoaXMuYWN0aXZhdGVQYWdlRG90cyksdGhpcy5vbihcImNlbGxBZGRlZFJlbW92ZWRcIix0aGlzLm9uQ2VsbEFkZGVkUmVtb3ZlZFBhZ2VEb3RzKSx0aGlzLm9uKFwiZGVhY3RpdmF0ZVwiLHRoaXMuZGVhY3RpdmF0ZVBhZ2VEb3RzKSl9LGkucHJvdG90eXBlLmFjdGl2YXRlUGFnZURvdHM9ZnVuY3Rpb24oKXt0aGlzLnBhZ2VEb3RzLmFjdGl2YXRlKCl9LGkucHJvdG90eXBlLm9uQ2VsbEFkZGVkUmVtb3ZlZFBhZ2VEb3RzPWZ1bmN0aW9uKCl7dGhpcy5wYWdlRG90cy5zZXREb3RzKCl9LGkucHJvdG90eXBlLmRlYWN0aXZhdGVQYWdlRG90cz1mdW5jdGlvbigpe3RoaXMucGFnZURvdHMuZGVhY3RpdmF0ZSgpfSxpLlBhZ2VEb3RzPXIsaX0pLGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL3BsYXllclwiLFtcImV2ZW50RW1pdHRlci9FdmVudEVtaXR0ZXJcIixcImV2ZW50aWUvZXZlbnRpZVwiLFwiLi9mbGlja2l0eVwiXSxmdW5jdGlvbih0LGksbil7cmV0dXJuIGUodCxpLG4pfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZShyZXF1aXJlKFwid29sZnk4Ny1ldmVudGVtaXR0ZXJcIikscmVxdWlyZShcImV2ZW50aWVcIikscmVxdWlyZShcIi4vZmxpY2tpdHlcIikpOmUodC5FdmVudEVtaXR0ZXIsdC5ldmVudGllLHQuRmxpY2tpdHkpfSh3aW5kb3csZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7aWYodGhpcy5pc1BsYXlpbmc9ITEsdGhpcy5wYXJlbnQ9dCxyKXt2YXIgZT10aGlzO3RoaXMub25WaXNpYmlsaXR5Q2hhbmdlPWZ1bmN0aW9uKCl7ZS52aXNpYmlsaXR5Q2hhbmdlKCl9fX12YXIgbyxyO3JldHVyblwiaGlkZGVuXCJpbiBkb2N1bWVudD8obz1cImhpZGRlblwiLHI9XCJ2aXNpYmlsaXR5Y2hhbmdlXCIpOlwid2Via2l0SGlkZGVuXCJpbiBkb2N1bWVudCYmKG89XCJ3ZWJraXRIaWRkZW5cIixyPVwid2Via2l0dmlzaWJpbGl0eWNoYW5nZVwiKSxuLnByb3RvdHlwZT1uZXcgdCxuLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmc9ITAsZGVsZXRlIHRoaXMuaXNQYXVzZWQsciYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihyLHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlLCExKSx0aGlzLnRpY2soKX0sbi5wcm90b3R5cGUudGljaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNQbGF5aW5nJiYhdGhpcy5pc1BhdXNlZCl7dGhpcy50aWNrVGltZT1uZXcgRGF0ZTt2YXIgdD10aGlzLnBhcmVudC5vcHRpb25zLmF1dG9QbGF5O3Q9XCJudW1iZXJcIj09dHlwZW9mIHQ/dDozZTM7dmFyIGU9dGhpczt0aGlzLnRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2UucGFyZW50Lm5leHQoITApLGUudGljaygpfSx0KX19LG4ucHJvdG90eXBlLnN0b3A9ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMSxkZWxldGUgdGhpcy5pc1BhdXNlZCx0aGlzLmNsZWFyKCksciYmZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLHRoaXMub25WaXNpYmlsaXR5Q2hhbmdlLCExKX0sbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KX0sbi5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZyYmKHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5jbGVhcigpKX0sbi5wcm90b3R5cGUudW5wYXVzZT1mdW5jdGlvbigpe3RoaXMuaXNQYXVzZWQmJnRoaXMucGxheSgpfSxuLnByb3RvdHlwZS52aXNpYmlsaXR5Q2hhbmdlPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnRbb107dGhpc1t0P1wicGF1c2VcIjpcInVucGF1c2VcIl0oKX0saS5jcmVhdGVNZXRob2RzLnB1c2goXCJfY3JlYXRlUGxheWVyXCIpLGkucHJvdG90eXBlLl9jcmVhdGVQbGF5ZXI9ZnVuY3Rpb24oKXt0aGlzLnBsYXllcj1uZXcgbih0aGlzKSx0aGlzLm9uKFwiYWN0aXZhdGVcIix0aGlzLmFjdGl2YXRlUGxheWVyKSx0aGlzLm9uKFwidWlDaGFuZ2VcIix0aGlzLnN0b3BQbGF5ZXIpLHRoaXMub24oXCJwb2ludGVyRG93blwiLHRoaXMuc3RvcFBsYXllciksdGhpcy5vbihcImRlYWN0aXZhdGVcIix0aGlzLmRlYWN0aXZhdGVQbGF5ZXIpfSxpLnByb3RvdHlwZS5hY3RpdmF0ZVBsYXllcj1mdW5jdGlvbigpe3RoaXMub3B0aW9ucy5hdXRvUGxheSYmKHRoaXMucGxheWVyLnBsYXkoKSxlLmJpbmQodGhpcy5lbGVtZW50LFwibW91c2VlbnRlclwiLHRoaXMpLHRoaXMuaXNNb3VzZWVudGVyQm91bmQ9ITApfSxpLnByb3RvdHlwZS5zdG9wUGxheWVyPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIuc3RvcCgpfSxpLnByb3RvdHlwZS5kZWFjdGl2YXRlUGxheWVyPWZ1bmN0aW9uKCl7dGhpcy5wbGF5ZXIuc3RvcCgpLHRoaXMuaXNNb3VzZWVudGVyQm91bmQmJihlLnVuYmluZCh0aGlzLmVsZW1lbnQsXCJtb3VzZWVudGVyXCIsdGhpcyksZGVsZXRlIHRoaXMuaXNNb3VzZWVudGVyQm91bmQpfSxpLnByb3RvdHlwZS5vbm1vdXNlZW50ZXI9ZnVuY3Rpb24oKXt0aGlzLnBsYXllci5wYXVzZSgpLGUuYmluZCh0aGlzLmVsZW1lbnQsXCJtb3VzZWxlYXZlXCIsdGhpcyl9LGkucHJvdG90eXBlLm9ubW91c2VsZWF2ZT1mdW5jdGlvbigpe3RoaXMucGxheWVyLnVucGF1c2UoKSxlLnVuYmluZCh0aGlzLmVsZW1lbnQsXCJtb3VzZWxlYXZlXCIsdGhpcyl9LGkuUGxheWVyPW4saX0pLGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL2FkZC1yZW1vdmUtY2VsbFwiLFtcIi4vZmxpY2tpdHlcIixcImZpenp5LXVpLXV0aWxzL3V0aWxzXCJdLGZ1bmN0aW9uKGksbil7cmV0dXJuIGUodCxpLG4pfSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/bW9kdWxlLmV4cG9ydHM9ZSh0LHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSk6ZSh0LHQuRmxpY2tpdHksdC5maXp6eVVJVXRpbHMpfSh3aW5kb3csZnVuY3Rpb24odCxlLGkpe2Z1bmN0aW9uIG4odCl7Zm9yKHZhciBlPWRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKXt2YXIgbz10W2ldO2UuYXBwZW5kQ2hpbGQoby5lbGVtZW50KX1yZXR1cm4gZX1yZXR1cm4gZS5wcm90b3R5cGUuaW5zZXJ0PWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5fbWFrZUNlbGxzKHQpO2lmKGkmJmkubGVuZ3RoKXt2YXIgbz10aGlzLmNlbGxzLmxlbmd0aDtlPXZvaWQgMD09PWU/bzplO3ZhciByPW4oaSkscz1lPT1vO2lmKHMpdGhpcy5zbGlkZXIuYXBwZW5kQ2hpbGQocik7ZWxzZXt2YXIgYT10aGlzLmNlbGxzW2VdLmVsZW1lbnQ7dGhpcy5zbGlkZXIuaW5zZXJ0QmVmb3JlKHIsYSl9aWYoMD09PWUpdGhpcy5jZWxscz1pLmNvbmNhdCh0aGlzLmNlbGxzKTtlbHNlIGlmKHMpdGhpcy5jZWxscz10aGlzLmNlbGxzLmNvbmNhdChpKTtlbHNle3ZhciBsPXRoaXMuY2VsbHMuc3BsaWNlKGUsby1lKTt0aGlzLmNlbGxzPXRoaXMuY2VsbHMuY29uY2F0KGkpLmNvbmNhdChsKX10aGlzLl9zaXplQ2VsbHMoaSk7dmFyIGM9ZT50aGlzLnNlbGVjdGVkSW5kZXg/MDppLmxlbmd0aDt0aGlzLl9jZWxsQWRkZWRSZW1vdmVkKGUsYyl9fSxlLnByb3RvdHlwZS5hcHBlbmQ9ZnVuY3Rpb24odCl7dGhpcy5pbnNlcnQodCx0aGlzLmNlbGxzLmxlbmd0aCl9LGUucHJvdG90eXBlLnByZXBlbmQ9ZnVuY3Rpb24odCl7dGhpcy5pbnNlcnQodCwwKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlLG4sbyxyPXRoaXMuZ2V0Q2VsbHModCkscz0wO2ZvcihlPTAsbj1yLmxlbmd0aDtuPmU7ZSsrKXtvPXJbZV07dmFyIGE9aS5pbmRleE9mKHRoaXMuY2VsbHMsbyk8dGhpcy5zZWxlY3RlZEluZGV4O3MtPWE/MTowfWZvcihlPTAsbj1yLmxlbmd0aDtuPmU7ZSsrKW89cltlXSxvLnJlbW92ZSgpLGkucmVtb3ZlRnJvbSh0aGlzLmNlbGxzLG8pO3IubGVuZ3RoJiZ0aGlzLl9jZWxsQWRkZWRSZW1vdmVkKDAscyl9LGUucHJvdG90eXBlLl9jZWxsQWRkZWRSZW1vdmVkPWZ1bmN0aW9uKHQsZSl7ZT1lfHwwLHRoaXMuc2VsZWN0ZWRJbmRleCs9ZSx0aGlzLnNlbGVjdGVkSW5kZXg9TWF0aC5tYXgoMCxNYXRoLm1pbih0aGlzLmNlbGxzLmxlbmd0aC0xLHRoaXMuc2VsZWN0ZWRJbmRleCkpLHRoaXMuZW1pdEV2ZW50KFwiY2VsbEFkZGVkUmVtb3ZlZFwiLFt0LGVdKSx0aGlzLmNlbGxDaGFuZ2UodCwhMCl9LGUucHJvdG90eXBlLmNlbGxTaXplQ2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0Q2VsbCh0KTtpZihlKXtlLmdldFNpemUoKTt2YXIgbj1pLmluZGV4T2YodGhpcy5jZWxscyxlKTt0aGlzLmNlbGxDaGFuZ2Uobil9fSxlLnByb3RvdHlwZS5jZWxsQ2hhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIGk9dGhpcy5zbGlkZWFibGVXaWR0aDt0aGlzLl9wb3NpdGlvbkNlbGxzKHQpLHRoaXMuX2dldFdyYXBTaGlmdENlbGxzKCksdGhpcy5zZXRHYWxsZXJ5U2l6ZSgpLHRoaXMub3B0aW9ucy5mcmVlU2Nyb2xsPyh0aGlzLngrPWktdGhpcy5zbGlkZWFibGVXaWR0aCx0aGlzLnBvc2l0aW9uU2xpZGVyKCkpOihlJiZ0aGlzLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpLHRoaXMuc2VsZWN0KHRoaXMuc2VsZWN0ZWRJbmRleCkpfSxlfSksZnVuY3Rpb24odCxlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFwiZmxpY2tpdHkvanMvbGF6eWxvYWRcIixbXCJjbGFzc2llL2NsYXNzaWVcIixcImV2ZW50aWUvZXZlbnRpZVwiLFwiLi9mbGlja2l0eVwiLFwiZml6enktdWktdXRpbHMvdXRpbHNcIl0sZnVuY3Rpb24oaSxuLG8scil7cmV0dXJuIGUodCxpLG4sbyxyKX0pOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWUodCxyZXF1aXJlKFwiZGVzYW5kcm8tY2xhc3NpZVwiKSxyZXF1aXJlKFwiZXZlbnRpZVwiKSxyZXF1aXJlKFwiLi9mbGlja2l0eVwiKSxyZXF1aXJlKFwiZml6enktdWktdXRpbHNcIikpOmUodCx0LmNsYXNzaWUsdC5ldmVudGllLHQuRmxpY2tpdHksdC5maXp6eVVJVXRpbHMpfSh3aW5kb3csZnVuY3Rpb24odCxlLGksbixvKXtmdW5jdGlvbiByKHQpe2lmKFwiSU1HXCI9PXQubm9kZU5hbWUmJnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1mbGlja2l0eS1sYXp5bG9hZFwiKSlyZXR1cm5bdF07dmFyIGU9dC5xdWVyeVNlbGVjdG9yQWxsKFwiaW1nW2RhdGEtZmxpY2tpdHktbGF6eWxvYWRdXCIpO3JldHVybiBvLm1ha2VBcnJheShlKX1mdW5jdGlvbiBzKHQsZSl7dGhpcy5pbWc9dCx0aGlzLmZsaWNraXR5PWUsdGhpcy5sb2FkKCl9cmV0dXJuIG4uY3JlYXRlTWV0aG9kcy5wdXNoKFwiX2NyZWF0ZUxhenlsb2FkXCIpLG4ucHJvdG90eXBlLl9jcmVhdGVMYXp5bG9hZD1mdW5jdGlvbigpe3RoaXMub24oXCJjZWxsU2VsZWN0XCIsdGhpcy5sYXp5TG9hZCl9LG4ucHJvdG90eXBlLmxhenlMb2FkPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zLmxhenlMb2FkO2lmKHQpe2Zvcih2YXIgZT1cIm51bWJlclwiPT10eXBlb2YgdD90OjAsaT10aGlzLmdldEFkamFjZW50Q2VsbEVsZW1lbnRzKGUpLG49W10sbz0wLGE9aS5sZW5ndGg7YT5vO28rKyl7dmFyIGw9aVtvXSxjPXIobCk7bj1uLmNvbmNhdChjKX1mb3Iobz0wLGE9bi5sZW5ndGg7YT5vO28rKyl7dmFyIGg9bltvXTtuZXcgcyhoLHRoaXMpfX19LHMucHJvdG90eXBlLmhhbmRsZUV2ZW50PW8uaGFuZGxlRXZlbnQscy5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe2kuYmluZCh0aGlzLmltZyxcImxvYWRcIix0aGlzKSxpLmJpbmQodGhpcy5pbWcsXCJlcnJvclwiLHRoaXMpLHRoaXMuaW1nLnNyYz10aGlzLmltZy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWZsaWNraXR5LWxhenlsb2FkXCIpLHRoaXMuaW1nLnJlbW92ZUF0dHJpYnV0ZShcImRhdGEtZmxpY2tpdHktbGF6eWxvYWRcIil9LHMucHJvdG90eXBlLm9ubG9hZD1mdW5jdGlvbih0KXt0aGlzLmNvbXBsZXRlKHQsXCJmbGlja2l0eS1sYXp5bG9hZGVkXCIpfSxzLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKCl7dGhpcy5jb21wbGV0ZShldmVudCxcImZsaWNraXR5LWxhenllcnJvclwiKX0scy5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24odCxuKXtpLnVuYmluZCh0aGlzLmltZyxcImxvYWRcIix0aGlzKSxpLnVuYmluZCh0aGlzLmltZyxcImVycm9yXCIsdGhpcyk7dmFyIG89dGhpcy5mbGlja2l0eS5nZXRQYXJlbnRDZWxsKHRoaXMuaW1nKSxyPW8mJm8uZWxlbWVudDt0aGlzLmZsaWNraXR5LmNlbGxTaXplQ2hhbmdlKHIpLGUuYWRkKHRoaXMuaW1nLG4pLHRoaXMuZmxpY2tpdHkuZGlzcGF0Y2hFdmVudChcImxhenlMb2FkXCIsdCxyKX0sbi5MYXp5TG9hZGVyPXMsbn0pLGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImZsaWNraXR5L2pzL2luZGV4XCIsW1wiLi9mbGlja2l0eVwiLFwiLi9kcmFnXCIsXCIuL3ByZXYtbmV4dC1idXR0b25cIixcIi4vcGFnZS1kb3RzXCIsXCIuL3BsYXllclwiLFwiLi9hZGQtcmVtb3ZlLWNlbGxcIixcIi4vbGF6eWxvYWRcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJihtb2R1bGUuZXhwb3J0cz1lKHJlcXVpcmUoXCIuL2ZsaWNraXR5XCIpLHJlcXVpcmUoXCIuL2RyYWdcIikscmVxdWlyZShcIi4vcHJldi1uZXh0LWJ1dHRvblwiKSxyZXF1aXJlKFwiLi9wYWdlLWRvdHNcIikscmVxdWlyZShcIi4vcGxheWVyXCIpLHJlcXVpcmUoXCIuL2FkZC1yZW1vdmUtY2VsbFwiKSxyZXF1aXJlKFwiLi9sYXp5bG9hZFwiKSkpfSh3aW5kb3csZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJmbGlja2l0eS1hcy1uYXYtZm9yL2FzLW5hdi1mb3JcIixbXCJjbGFzc2llL2NsYXNzaWVcIixcImZsaWNraXR5L2pzL2luZGV4XCIsXCJmaXp6eS11aS11dGlscy91dGlsc1wiXSxmdW5jdGlvbihpLG4sbyl7cmV0dXJuIGUodCxpLG4sbyl9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQscmVxdWlyZShcImRlc2FuZHJvLWNsYXNzaWVcIikscmVxdWlyZShcImZsaWNraXR5XCIpLHJlcXVpcmUoXCJmaXp6eS11aS11dGlsc1wiKSk6dC5GbGlja2l0eT1lKHQsdC5jbGFzc2llLHQuRmxpY2tpdHksdC5maXp6eVVJVXRpbHMpfSh3aW5kb3csZnVuY3Rpb24odCxlLGksbil7cmV0dXJuIGkuY3JlYXRlTWV0aG9kcy5wdXNoKFwiX2NyZWF0ZUFzTmF2Rm9yXCIpLGkucHJvdG90eXBlLl9jcmVhdGVBc05hdkZvcj1mdW5jdGlvbigpe3RoaXMub24oXCJhY3RpdmF0ZVwiLHRoaXMuYWN0aXZhdGVBc05hdkZvciksdGhpcy5vbihcImRlYWN0aXZhdGVcIix0aGlzLmRlYWN0aXZhdGVBc05hdkZvciksdGhpcy5vbihcImRlc3Ryb3lcIix0aGlzLmRlc3Ryb3lBc05hdkZvcik7dmFyIHQ9dGhpcy5vcHRpb25zLmFzTmF2Rm9yO2lmKHQpe3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2Uuc2V0TmF2Q29tcGFuaW9uKHQpfSl9fSxpLnByb3RvdHlwZS5zZXROYXZDb21wYW5pb249ZnVuY3Rpb24odCl7dD1uLmdldFF1ZXJ5RWxlbWVudCh0KTt2YXIgZT1pLmRhdGEodCk7aWYoZSYmZSE9dGhpcyl7dGhpcy5uYXZDb21wYW5pb249ZTt2YXIgbz10aGlzO3RoaXMub25OYXZDb21wYW5pb25TZWxlY3Q9ZnVuY3Rpb24oKXtvLm5hdkNvbXBhbmlvblNlbGVjdCgpfSxlLm9uKFwiY2VsbFNlbGVjdFwiLHRoaXMub25OYXZDb21wYW5pb25TZWxlY3QpLHRoaXMub24oXCJzdGF0aWNDbGlja1wiLHRoaXMub25OYXZTdGF0aWNDbGljayksdGhpcy5uYXZDb21wYW5pb25TZWxlY3QoKX19LGkucHJvdG90eXBlLm5hdkNvbXBhbmlvblNlbGVjdD1mdW5jdGlvbigpe2lmKHRoaXMubmF2Q29tcGFuaW9uKXt2YXIgdD10aGlzLm5hdkNvbXBhbmlvbi5zZWxlY3RlZEluZGV4O3RoaXMuc2VsZWN0KHQpLHRoaXMucmVtb3ZlTmF2U2VsZWN0ZWRFbGVtZW50KCksdGhpcy5zZWxlY3RlZEluZGV4PT10JiYodGhpcy5uYXZTZWxlY3RlZEVsZW1lbnQ9dGhpcy5jZWxsc1t0XS5lbGVtZW50LGUuYWRkKHRoaXMubmF2U2VsZWN0ZWRFbGVtZW50LFwiaXMtbmF2LXNlbGVjdGVkXCIpKX19LGkucHJvdG90eXBlLmFjdGl2YXRlQXNOYXZGb3I9ZnVuY3Rpb24oKXt0aGlzLm5hdkNvbXBhbmlvblNlbGVjdCgpfSxpLnByb3RvdHlwZS5yZW1vdmVOYXZTZWxlY3RlZEVsZW1lbnQ9ZnVuY3Rpb24oKXt0aGlzLm5hdlNlbGVjdGVkRWxlbWVudCYmKGUucmVtb3ZlKHRoaXMubmF2U2VsZWN0ZWRFbGVtZW50LFwiaXMtbmF2LXNlbGVjdGVkXCIpLGRlbGV0ZSB0aGlzLm5hdlNlbGVjdGVkRWxlbWVudCl9LGkucHJvdG90eXBlLm9uTmF2U3RhdGljQ2xpY2s9ZnVuY3Rpb24odCxlLGksbil7XCJudW1iZXJcIj09dHlwZW9mIG4mJnRoaXMubmF2Q29tcGFuaW9uLnNlbGVjdChuKX0saS5wcm90b3R5cGUuZGVhY3RpdmF0ZUFzTmF2Rm9yPWZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVOYXZTZWxlY3RlZEVsZW1lbnQoKX0saS5wcm90b3R5cGUuZGVzdHJveUFzTmF2Rm9yPWZ1bmN0aW9uKCl7dGhpcy5uYXZDb21wYW5pb24mJih0aGlzLm5hdkNvbXBhbmlvbi5vZmYoXCJjZWxsU2VsZWN0XCIsdGhpcy5vbk5hdkNvbXBhbmlvblNlbGVjdCksdGhpcy5vZmYoXCJzdGF0aWNDbGlja1wiLHRoaXMub25OYXZTdGF0aWNDbGljayksZGVsZXRlIHRoaXMubmF2Q29tcGFuaW9uKX0saX0pLGZ1bmN0aW9uKHQsZSl7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShcImltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWRcIixbXCJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyXCIsXCJldmVudGllL2V2ZW50aWVcIl0sZnVuY3Rpb24oaSxuKXtyZXR1cm4gZSh0LGksbil9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQscmVxdWlyZShcIndvbGZ5ODctZXZlbnRlbWl0dGVyXCIpLHJlcXVpcmUoXCJldmVudGllXCIpKTp0LmltYWdlc0xvYWRlZD1lKHQsdC5FdmVudEVtaXR0ZXIsdC5ldmVudGllKX0od2luZG93LGZ1bmN0aW9uKHQsZSxpKXtmdW5jdGlvbiBuKHQsZSl7Zm9yKHZhciBpIGluIGUpdFtpXT1lW2ldO3JldHVybiB0fWZ1bmN0aW9uIG8odCl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09ZC5jYWxsKHQpfWZ1bmN0aW9uIHIodCl7dmFyIGU9W107aWYobyh0KSllPXQ7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGgpZm9yKHZhciBpPTAsbj10Lmxlbmd0aDtuPmk7aSsrKWUucHVzaCh0W2ldKTtlbHNlIGUucHVzaCh0KTtyZXR1cm4gZX1mdW5jdGlvbiBzKHQsZSxpKXtpZighKHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHModCxlKTtcInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0KSksdGhpcy5lbGVtZW50cz1yKHQpLHRoaXMub3B0aW9ucz1uKHt9LHRoaXMub3B0aW9ucyksXCJmdW5jdGlvblwiPT10eXBlb2YgZT9pPWU6bih0aGlzLm9wdGlvbnMsZSksaSYmdGhpcy5vbihcImFsd2F5c1wiLGkpLHRoaXMuZ2V0SW1hZ2VzKCksYyYmKHRoaXMuanFEZWZlcnJlZD1uZXcgYy5EZWZlcnJlZCk7dmFyIG89dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5jaGVjaygpfSl9ZnVuY3Rpb24gYSh0KXt0aGlzLmltZz10fWZ1bmN0aW9uIGwodCl7dGhpcy5zcmM9dCx1W3RdPXRoaXN9dmFyIGM9dC5qUXVlcnksaD10LmNvbnNvbGUscD1cInVuZGVmaW5lZFwiIT10eXBlb2YgaCxkPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7cy5wcm90b3R5cGU9bmV3IGUscy5wcm90b3R5cGUub3B0aW9ucz17fSxzLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLmltYWdlcz1bXTtmb3IodmFyIHQ9MCxlPXRoaXMuZWxlbWVudHMubGVuZ3RoO2U+dDt0Kyspe3ZhciBpPXRoaXMuZWxlbWVudHNbdF07XCJJTUdcIj09PWkubm9kZU5hbWUmJnRoaXMuYWRkSW1hZ2UoaSk7dmFyIG49aS5ub2RlVHlwZTtpZihuJiYoMT09PW58fDk9PT1ufHwxMT09PW4pKWZvcih2YXIgbz1pLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIikscj0wLHM9by5sZW5ndGg7cz5yO3IrKyl7dmFyIGE9b1tyXTt0aGlzLmFkZEltYWdlKGEpfX19LHMucHJvdG90eXBlLmFkZEltYWdlPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBhKHQpO3RoaXMuaW1hZ2VzLnB1c2goZSl9LHMucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG8pe3JldHVybiBlLm9wdGlvbnMuZGVidWcmJnAmJmgubG9nKFwiY29uZmlybVwiLHQsbyksZS5wcm9ncmVzcyh0KSxpKyssaT09PW4mJmUuY29tcGxldGUoKSwhMH12YXIgZT10aGlzLGk9MCxuPXRoaXMuaW1hZ2VzLmxlbmd0aDtpZih0aGlzLmhhc0FueUJyb2tlbj0hMSwhbilyZXR1cm4gdm9pZCB0aGlzLmNvbXBsZXRlKCk7Zm9yKHZhciBvPTA7bj5vO28rKyl7dmFyIHI9dGhpcy5pbWFnZXNbb107ci5vbihcImNvbmZpcm1cIix0KSxyLmNoZWNrKCl9fSxzLnByb3RvdHlwZS5wcm9ncmVzcz1mdW5jdGlvbih0KXt0aGlzLmhhc0FueUJyb2tlbj10aGlzLmhhc0FueUJyb2tlbnx8IXQuaXNMb2FkZWQ7dmFyIGU9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5lbWl0KFwicHJvZ3Jlc3NcIixlLHQpLGUuanFEZWZlcnJlZCYmZS5qcURlZmVycmVkLm5vdGlmeSYmZS5qcURlZmVycmVkLm5vdGlmeShlLHQpfSl9LHMucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5oYXNBbnlCcm9rZW4/XCJmYWlsXCI6XCJkb25lXCI7dGhpcy5pc0NvbXBsZXRlPSEwO3ZhciBlPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKGUuZW1pdCh0LGUpLGUuZW1pdChcImFsd2F5c1wiLGUpLGUuanFEZWZlcnJlZCl7dmFyIGk9ZS5oYXNBbnlCcm9rZW4/XCJyZWplY3RcIjpcInJlc29sdmVcIjtlLmpxRGVmZXJyZWRbaV0oZSl9fSl9LGMmJihjLmZuLmltYWdlc0xvYWRlZD1mdW5jdGlvbih0LGUpe3ZhciBpPW5ldyBzKHRoaXMsdCxlKTtyZXR1cm4gaS5qcURlZmVycmVkLnByb21pc2UoYyh0aGlzKSl9KSxhLnByb3RvdHlwZT1uZXcgZSxhLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3ZhciB0PXVbdGhpcy5pbWcuc3JjXXx8bmV3IGwodGhpcy5pbWcuc3JjKTtpZih0LmlzQ29uZmlybWVkKXJldHVybiB2b2lkIHRoaXMuY29uZmlybSh0LmlzTG9hZGVkLFwiY2FjaGVkIHdhcyBjb25maXJtZWRcIik7aWYodGhpcy5pbWcuY29tcGxldGUmJnZvaWQgMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aClyZXR1cm4gdm9pZCB0aGlzLmNvbmZpcm0oMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aCxcIm5hdHVyYWxXaWR0aFwiKTt2YXIgZT10aGlzO3Qub24oXCJjb25maXJtXCIsZnVuY3Rpb24odCxpKXtyZXR1cm4gZS5jb25maXJtKHQuaXNMb2FkZWQsaSksITB9KSx0LmNoZWNrKCl9LGEucHJvdG90eXBlLmNvbmZpcm09ZnVuY3Rpb24odCxlKXt0aGlzLmlzTG9hZGVkPXQsdGhpcy5lbWl0KFwiY29uZmlybVwiLHRoaXMsZSl9O3ZhciB1PXt9O3JldHVybiBsLnByb3RvdHlwZT1uZXcgZSxsLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKCF0aGlzLmlzQ2hlY2tlZCl7dmFyIHQ9bmV3IEltYWdlO2kuYmluZCh0LFwibG9hZFwiLHRoaXMpLGkuYmluZCh0LFwiZXJyb3JcIix0aGlzKSx0LnNyYz10aGlzLnNyYyx0aGlzLmlzQ2hlY2tlZD0hMH19LGwucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKHQpe3ZhciBlPVwib25cIit0LnR5cGU7dGhpc1tlXSYmdGhpc1tlXSh0KX0sbC5wcm90b3R5cGUub25sb2FkPWZ1bmN0aW9uKHQpe3RoaXMuY29uZmlybSghMCxcIm9ubG9hZFwiKSx0aGlzLnVuYmluZFByb3h5RXZlbnRzKHQpfSxsLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKHQpe3RoaXMuY29uZmlybSghMSxcIm9uZXJyb3JcIiksdGhpcy51bmJpbmRQcm94eUV2ZW50cyh0KX0sbC5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbih0LGUpe3RoaXMuaXNDb25maXJtZWQ9ITAsdGhpcy5pc0xvYWRlZD10LHRoaXMuZW1pdChcImNvbmZpcm1cIix0aGlzLGUpfSxsLnByb3RvdHlwZS51bmJpbmRQcm94eUV2ZW50cz1mdW5jdGlvbih0KXtpLnVuYmluZCh0LnRhcmdldCxcImxvYWRcIix0aGlzKSxpLnVuYmluZCh0LnRhcmdldCxcImVycm9yXCIsdGhpcyl9LHN9KSxmdW5jdGlvbih0LGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW1wiZmxpY2tpdHkvanMvaW5kZXhcIixcImltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWRcIl0sZnVuY3Rpb24oaSxuKXtyZXR1cm4gZSh0LGksbil9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lKHQscmVxdWlyZShcImZsaWNraXR5XCIpLHJlcXVpcmUoXCJpbWFnZXNsb2FkZWRcIikpOnQuRmxpY2tpdHk9ZSh0LHQuRmxpY2tpdHksdC5pbWFnZXNMb2FkZWQpfSh3aW5kb3csZnVuY3Rpb24odCxlLGkpe3JldHVybiBlLmNyZWF0ZU1ldGhvZHMucHVzaChcIl9jcmVhdGVJbWFnZXNMb2FkZWRcIiksZS5wcm90b3R5cGUuX2NyZWF0ZUltYWdlc0xvYWRlZD1mdW5jdGlvbigpe3RoaXMub24oXCJhY3RpdmF0ZVwiLHRoaXMuaW1hZ2VzTG9hZGVkKX0sZS5wcm90b3R5cGUuaW1hZ2VzTG9hZGVkPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGkpe3ZhciBuPWUuZ2V0UGFyZW50Q2VsbChpLmltZyk7ZS5jZWxsU2l6ZUNoYW5nZShuJiZuLmVsZW1lbnQpLGUub3B0aW9ucy5mcmVlU2Nyb2xsfHxlLnBvc2l0aW9uU2xpZGVyQXRTZWxlY3RlZCgpfWlmKHRoaXMub3B0aW9ucy5pbWFnZXNMb2FkZWQpe3ZhciBlPXRoaXM7aSh0aGlzLnNsaWRlcikub24oXCJwcm9ncmVzc1wiLHQpfX0sZX0pOyJdLCJmaWxlIjoiZmxpY2tpdHkucGtnZC5taW4uanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==




function DropPanel(element) {
    'use strict';
    this.element_ = element;
    this.init();
}

DropPanel.prototype.init = function() {
    "use strict";
    this.boundClickHandler = this.clickHandler.bind(this);
    this.element_.addEventListener('click', this.boundClickHandler);
};


DropPanel.prototype.clickHandler = function(event) {
    "use strict";
    var target = event.target;
    if( ! target.classList.contains(this.CssClasses_.PANEL_IS_ACTIVE)){
        target.classList.add(this.CssClasses_.PANEL_IS_ACTIVE);
        target.nextElementSibling.classList.add(this.CssClasses_.PANEL_IS_VISIBLE);
    } else {
        target.nextElementSibling.classList.remove(this.CssClasses_.PANEL_IS_VISIBLE);
        target.classList.remove(this.CssClasses_.PANEL_IS_ACTIVE);
    }
};


DropPanel.prototype.CssClasses_ = {
    PANEL_IS_ACTIVE: 'is-active',
    PANEL_IS_VISIBLE: 'is-visible'
};

DropPanel.prototype.mdlDowngrade_ = function() {
  'use strict';
  this.element_.removeEventListener('click', this.boundClickHandler);
};

componentHandler.register({
    constructor: DropPanel,
    classAsString: 'DropPanel',
    cssClass: 'js-drop-panel'
});

//document.querySelector('.mdl-grid').classList.add('is-animating');



(function() {
  'use strict';

  /**
   * Class constructor for the MDL component.
   * Implements MDL component design pattern defined at:
   * https://github.com/jasonmayes/mdl-component-design-pattern
   *
   * @constructor
   * @param {HTMLElement} element The element that will be upgraded.
   */
  var Dropdown = function Dropdown(element) {
    this.element_ = element;
    this.init();
  };
  window['Dropdown'] = Dropdown;

  /**
   * Store strings for class names defined by this component that are used in
   * JavaScript. This allows us to simply change it in one place should we
   * decide to modify at a later date.
   *
   * @enum {string}
   * @private
   */
  Dropdown.prototype.CssClasses_ = {
    DROPDOWN_IS_ACTIVE: 'is-active'
  };


  Dropdown.prototype.init = function() {
    this.boundClickHandler = this.clickHandler.bind(this);
    this.element_.addEventListener('click', this.boundClickHandler);
  };

  Dropdown.prototype.clickHandler = function(event) {
      var target = event.target;
      var targetSibling = target.previousElementSibling;
      var targetParent = target.parentElement;
      if( ! target.classList.contains(this.CssClasses_.DROPDOWN_IS_ACTIVE)){
        TweenLite.to(target, 0.2, {rotation:180});
				TweenLite.to(targetParent, 0.2, {y:5});
        TweenLite.set(targetSibling, {height:"auto", opacity:1});
        TweenLite.from(targetSibling, 0.2, {height:0, opacity:0});
        TweenLite.to(targetSibling, 0.2, {paddingBottom:10});
        target.classList.add(this.CssClasses_.DROPDOWN_IS_ACTIVE);
        targetSibling.classList.add(this.CssClasses_.DROPDOWN_IS_ACTIVE);
        targetParent.classList.add(this.CssClasses_.DROPDOWN_IS_ACTIVE);
      } else {
        TweenLite.to(target, 0.2, {rotation:0});
				TweenLite.to(targetParent, 0.2, {y:0});
        TweenLite.to(targetSibling, 0.2, {height:0, opacity:0});
        TweenLite.to(targetSibling, 0.2, {paddingBottom:0});
        targetSibling.classList.remove(this.CssClasses_.DROPDOWN_IS_ACTIVE);
        target.classList.remove(this.CssClasses_.DROPDOWN_IS_ACTIVE);
        targetParent.classList.remove(this.CssClasses_.DROPDOWN_IS_ACTIVE);
      }
  };


  /**
   * Downgrade the component.
   *
   * @private
   */
  Dropdown.prototype.mdlDowngrade_ = function() {
    this.element_.removeEventListener('click', this.boundClickHandler);
  };

  /**
   * Public alias for the downgrade method.
   *
   * @public
   */
  Dropdown.prototype.mdlDowngrade =
      Dropdown.prototype.mdlDowngrade_;

  Dropdown.prototype['mdlDowngrade'] =
      Dropdown.prototype.mdlDowngrade;

  // The component registers itself. It can assume componentHandler is available
  // in the global scope.
  componentHandler.register({
      constructor: Dropdown,
      classAsString: 'Dropdown',
      cssClass: 'js-dropdown'
  });
})();




// Animation Setup
var heart_tween = TweenLite.to("#cart", 1, {morphSVG:"#heart"});
var bread_tween = TweenLite.to("#cart", 1, {morphSVG:"#bread"});

// init ScrollMagic Controller
var controller = new ScrollMagic.Controller();


// Background Scene
var heart_scene = new ScrollMagic.Scene({
  triggerElement: '#row-give',
	offset: 300
})
.setTween(heart_tween)
//.addIndicators();

// Background Scene
var bread_scene = new ScrollMagic.Scene({
  triggerElement: '#row-give',
	//offset: 200
})
.setTween(bread_tween)
//.addIndicators();

controller.addScene([
  heart_scene,
	bread_scene
]);



//init controller
var controller = new ScrollMagic.Controller({globalSceneOptions: {triggerHook: "onEnter", duration: "200%"}});

// build scenes
new ScrollMagic.Scene({triggerElement: ".js-parallax-row"})
        .setTween(".js-parallax-row", {backgroundPosition: "0 50%"})
        .addTo(controller);



var toggleTab = document.querySelector('.tab9682');
toggleTab.classList.toggle("is-active");

        // // init controller
        // var controller = new ScrollMagic.Controller({globalSceneOptions: {triggerHook: "onEnter", duration: "200%"}});
        //
        // function move (what, progress) {
        //     var to = progress * 80;
        //     TweenMax.to(what, 0.3, {y: to + "%", overwrite: 5, force3D: true});
        // }
        // // build scenes
        // new ScrollMagic.Scene({triggerElement: ".js-parallax-row"})
        //                 .on("progress", function (e) {
        //                     move (".parallax-image", e.progress);
        //                 })
        //                 .addTo(controller);


        // (function(){
        //
        //   var parallax = document.querySelectorAll(".js-parallax-row"),
        //       speed = 0.5;
        //
        //   window.onscroll = function(){
        //     [].slice.call(parallax).forEach(function(el,i){
        //
        //       var windowYOffset = window.pageYOffset,
        //           elBackgrounPos = "0 " + (windowYOffset * speed) + "px";
        //
        //       el.style.backgroundPosition = elBackgrounPos;
        //
        //     });
        //   };
        //
        // })();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJtYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5cbmZ1bmN0aW9uIERyb3BQYW5lbChlbGVtZW50KSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHRoaXMuZWxlbWVudF8gPSBlbGVtZW50O1xuICAgIHRoaXMuaW5pdCgpO1xufVxuXG5Ecm9wUGFuZWwucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB0aGlzLmJvdW5kQ2xpY2tIYW5kbGVyID0gdGhpcy5jbGlja0hhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrSGFuZGxlcik7XG59O1xuXG5cbkRyb3BQYW5lbC5wcm90b3R5cGUuY2xpY2tIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgIGlmKCAhIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9JU19BQ1RJVkUpKXtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9JU19BQ1RJVkUpO1xuICAgICAgICB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9JU19WSVNJQkxFKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0YXJnZXQubmV4dEVsZW1lbnRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9JU19WSVNJQkxFKTtcbiAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5QQU5FTF9JU19BQ1RJVkUpO1xuICAgIH1cbn07XG5cblxuRHJvcFBhbmVsLnByb3RvdHlwZS5Dc3NDbGFzc2VzXyA9IHtcbiAgICBQQU5FTF9JU19BQ1RJVkU6ICdpcy1hY3RpdmUnLFxuICAgIFBBTkVMX0lTX1ZJU0lCTEU6ICdpcy12aXNpYmxlJ1xufTtcblxuRHJvcFBhbmVsLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfID0gZnVuY3Rpb24oKSB7XG4gICd1c2Ugc3RyaWN0JztcbiAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRDbGlja0hhbmRsZXIpO1xufTtcblxuY29tcG9uZW50SGFuZGxlci5yZWdpc3Rlcih7XG4gICAgY29uc3RydWN0b3I6IERyb3BQYW5lbCxcbiAgICBjbGFzc0FzU3RyaW5nOiAnRHJvcFBhbmVsJyxcbiAgICBjc3NDbGFzczogJ2pzLWRyb3AtcGFuZWwnXG59KTtcblxuLy9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWRsLWdyaWQnKS5jbGFzc0xpc3QuYWRkKCdpcy1hbmltYXRpbmcnKTtcblxuXG5cbihmdW5jdGlvbigpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8qKlxuICAgKiBDbGFzcyBjb25zdHJ1Y3RvciBmb3IgdGhlIE1ETCBjb21wb25lbnQuXG4gICAqIEltcGxlbWVudHMgTURMIGNvbXBvbmVudCBkZXNpZ24gcGF0dGVybiBkZWZpbmVkIGF0OlxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vamFzb25tYXllcy9tZGwtY29tcG9uZW50LWRlc2lnbi1wYXR0ZXJuXG4gICAqXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50IFRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSB1cGdyYWRlZC5cbiAgICovXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIERyb3Bkb3duKGVsZW1lbnQpIHtcbiAgICB0aGlzLmVsZW1lbnRfID0gZWxlbWVudDtcbiAgICB0aGlzLmluaXQoKTtcbiAgfTtcbiAgd2luZG93WydEcm9wZG93biddID0gRHJvcGRvd247XG5cbiAgLyoqXG4gICAqIFN0b3JlIHN0cmluZ3MgZm9yIGNsYXNzIG5hbWVzIGRlZmluZWQgYnkgdGhpcyBjb21wb25lbnQgdGhhdCBhcmUgdXNlZCBpblxuICAgKiBKYXZhU2NyaXB0LiBUaGlzIGFsbG93cyB1cyB0byBzaW1wbHkgY2hhbmdlIGl0IGluIG9uZSBwbGFjZSBzaG91bGQgd2VcbiAgICogZGVjaWRlIHRvIG1vZGlmeSBhdCBhIGxhdGVyIGRhdGUuXG4gICAqXG4gICAqIEBlbnVtIHtzdHJpbmd9XG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUuQ3NzQ2xhc3Nlc18gPSB7XG4gICAgRFJPUERPV05fSVNfQUNUSVZFOiAnaXMtYWN0aXZlJ1xuICB9O1xuXG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmJvdW5kQ2xpY2tIYW5kbGVyID0gdGhpcy5jbGlja0hhbmRsZXIuYmluZCh0aGlzKTtcbiAgICB0aGlzLmVsZW1lbnRfLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5ib3VuZENsaWNrSGFuZGxlcik7XG4gIH07XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmNsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICB2YXIgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgdmFyIHRhcmdldFNpYmxpbmcgPSB0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgIHZhciB0YXJnZXRQYXJlbnQgPSB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgIGlmKCAhIHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5Dc3NDbGFzc2VzXy5EUk9QRE9XTl9JU19BQ1RJVkUpKXtcbiAgICAgICAgVHdlZW5MaXRlLnRvKHRhcmdldCwgMC4yLCB7cm90YXRpb246MTgwfSk7XG5cdFx0XHRcdFR3ZWVuTGl0ZS50byh0YXJnZXRQYXJlbnQsIDAuMiwge3k6NX0pO1xuICAgICAgICBUd2VlbkxpdGUuc2V0KHRhcmdldFNpYmxpbmcsIHtoZWlnaHQ6XCJhdXRvXCIsIG9wYWNpdHk6MX0pO1xuICAgICAgICBUd2VlbkxpdGUuZnJvbSh0YXJnZXRTaWJsaW5nLCAwLjIsIHtoZWlnaHQ6MCwgb3BhY2l0eTowfSk7XG4gICAgICAgIFR3ZWVuTGl0ZS50byh0YXJnZXRTaWJsaW5nLCAwLjIsIHtwYWRkaW5nQm90dG9tOjEwfSk7XG4gICAgICAgIHRhcmdldC5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uRFJPUERPV05fSVNfQUNUSVZFKTtcbiAgICAgICAgdGFyZ2V0U2libGluZy5jbGFzc0xpc3QuYWRkKHRoaXMuQ3NzQ2xhc3Nlc18uRFJPUERPV05fSVNfQUNUSVZFKTtcbiAgICAgICAgdGFyZ2V0UGFyZW50LmNsYXNzTGlzdC5hZGQodGhpcy5Dc3NDbGFzc2VzXy5EUk9QRE9XTl9JU19BQ1RJVkUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgVHdlZW5MaXRlLnRvKHRhcmdldCwgMC4yLCB7cm90YXRpb246MH0pO1xuXHRcdFx0XHRUd2VlbkxpdGUudG8odGFyZ2V0UGFyZW50LCAwLjIsIHt5OjB9KTtcbiAgICAgICAgVHdlZW5MaXRlLnRvKHRhcmdldFNpYmxpbmcsIDAuMiwge2hlaWdodDowLCBvcGFjaXR5OjB9KTtcbiAgICAgICAgVHdlZW5MaXRlLnRvKHRhcmdldFNpYmxpbmcsIDAuMiwge3BhZGRpbmdCb3R0b206MH0pO1xuICAgICAgICB0YXJnZXRTaWJsaW5nLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5Dc3NDbGFzc2VzXy5EUk9QRE9XTl9JU19BQ1RJVkUpO1xuICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkNzc0NsYXNzZXNfLkRST1BET1dOX0lTX0FDVElWRSk7XG4gICAgICAgIHRhcmdldFBhcmVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuQ3NzQ2xhc3Nlc18uRFJPUERPV05fSVNfQUNUSVZFKTtcbiAgICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBEb3duZ3JhZGUgdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIERyb3Bkb3duLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lbGVtZW50Xy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuYm91bmRDbGlja0hhbmRsZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdWJsaWMgYWxpYXMgZm9yIHRoZSBkb3duZ3JhZGUgbWV0aG9kLlxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBEcm9wZG93bi5wcm90b3R5cGUubWRsRG93bmdyYWRlID1cbiAgICAgIERyb3Bkb3duLnByb3RvdHlwZS5tZGxEb3duZ3JhZGVfO1xuXG4gIERyb3Bkb3duLnByb3RvdHlwZVsnbWRsRG93bmdyYWRlJ10gPVxuICAgICAgRHJvcGRvd24ucHJvdG90eXBlLm1kbERvd25ncmFkZTtcblxuICAvLyBUaGUgY29tcG9uZW50IHJlZ2lzdGVycyBpdHNlbGYuIEl0IGNhbiBhc3N1bWUgY29tcG9uZW50SGFuZGxlciBpcyBhdmFpbGFibGVcbiAgLy8gaW4gdGhlIGdsb2JhbCBzY29wZS5cbiAgY29tcG9uZW50SGFuZGxlci5yZWdpc3Rlcih7XG4gICAgICBjb25zdHJ1Y3RvcjogRHJvcGRvd24sXG4gICAgICBjbGFzc0FzU3RyaW5nOiAnRHJvcGRvd24nLFxuICAgICAgY3NzQ2xhc3M6ICdqcy1kcm9wZG93bidcbiAgfSk7XG59KSgpO1xuXG5cblxuXG4vLyBBbmltYXRpb24gU2V0dXBcbnZhciBoZWFydF90d2VlbiA9IFR3ZWVuTGl0ZS50byhcIiNjYXJ0XCIsIDEsIHttb3JwaFNWRzpcIiNoZWFydFwifSk7XG52YXIgYnJlYWRfdHdlZW4gPSBUd2VlbkxpdGUudG8oXCIjY2FydFwiLCAxLCB7bW9ycGhTVkc6XCIjYnJlYWRcIn0pO1xuXG4vLyBpbml0IFNjcm9sbE1hZ2ljIENvbnRyb2xsZXJcbnZhciBjb250cm9sbGVyID0gbmV3IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIoKTtcblxuXG4vLyBCYWNrZ3JvdW5kIFNjZW5lXG52YXIgaGVhcnRfc2NlbmUgPSBuZXcgU2Nyb2xsTWFnaWMuU2NlbmUoe1xuICB0cmlnZ2VyRWxlbWVudDogJyNyb3ctZ2l2ZScsXG5cdG9mZnNldDogMzAwXG59KVxuLnNldFR3ZWVuKGhlYXJ0X3R3ZWVuKVxuLy8uYWRkSW5kaWNhdG9ycygpO1xuXG4vLyBCYWNrZ3JvdW5kIFNjZW5lXG52YXIgYnJlYWRfc2NlbmUgPSBuZXcgU2Nyb2xsTWFnaWMuU2NlbmUoe1xuICB0cmlnZ2VyRWxlbWVudDogJyNyb3ctZ2l2ZScsXG5cdC8vb2Zmc2V0OiAyMDBcbn0pXG4uc2V0VHdlZW4oYnJlYWRfdHdlZW4pXG4vLy5hZGRJbmRpY2F0b3JzKCk7XG5cbmNvbnRyb2xsZXIuYWRkU2NlbmUoW1xuICBoZWFydF9zY2VuZSxcblx0YnJlYWRfc2NlbmVcbl0pO1xuXG5cblxuLy9pbml0IGNvbnRyb2xsZXJcbnZhciBjb250cm9sbGVyID0gbmV3IFNjcm9sbE1hZ2ljLkNvbnRyb2xsZXIoe2dsb2JhbFNjZW5lT3B0aW9uczoge3RyaWdnZXJIb29rOiBcIm9uRW50ZXJcIiwgZHVyYXRpb246IFwiMjAwJVwifX0pO1xuXG4vLyBidWlsZCBzY2VuZXNcbm5ldyBTY3JvbGxNYWdpYy5TY2VuZSh7dHJpZ2dlckVsZW1lbnQ6IFwiLmpzLXBhcmFsbGF4LXJvd1wifSlcbiAgICAgICAgLnNldFR3ZWVuKFwiLmpzLXBhcmFsbGF4LXJvd1wiLCB7YmFja2dyb3VuZFBvc2l0aW9uOiBcIjAgNTAlXCJ9KVxuICAgICAgICAuYWRkVG8oY29udHJvbGxlcik7XG5cblxuXG52YXIgdG9nZ2xlVGFiID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYjk2ODInKTtcbnRvZ2dsZVRhYi5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtYWN0aXZlXCIpO1xuXG4gICAgICAgIC8vIC8vIGluaXQgY29udHJvbGxlclxuICAgICAgICAvLyB2YXIgY29udHJvbGxlciA9IG5ldyBTY3JvbGxNYWdpYy5Db250cm9sbGVyKHtnbG9iYWxTY2VuZU9wdGlvbnM6IHt0cmlnZ2VySG9vazogXCJvbkVudGVyXCIsIGR1cmF0aW9uOiBcIjIwMCVcIn19KTtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gZnVuY3Rpb24gbW92ZSAod2hhdCwgcHJvZ3Jlc3MpIHtcbiAgICAgICAgLy8gICAgIHZhciB0byA9IHByb2dyZXNzICogODA7XG4gICAgICAgIC8vICAgICBUd2Vlbk1heC50byh3aGF0LCAwLjMsIHt5OiB0byArIFwiJVwiLCBvdmVyd3JpdGU6IDUsIGZvcmNlM0Q6IHRydWV9KTtcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyAvLyBidWlsZCBzY2VuZXNcbiAgICAgICAgLy8gbmV3IFNjcm9sbE1hZ2ljLlNjZW5lKHt0cmlnZ2VyRWxlbWVudDogXCIuanMtcGFyYWxsYXgtcm93XCJ9KVxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgLm9uKFwicHJvZ3Jlc3NcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtb3ZlIChcIi5wYXJhbGxheC1pbWFnZVwiLCBlLnByb2dyZXNzKTtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAuYWRkVG8oY29udHJvbGxlcik7XG5cblxuICAgICAgICAvLyAoZnVuY3Rpb24oKXtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICB2YXIgcGFyYWxsYXggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmpzLXBhcmFsbGF4LXJvd1wiKSxcbiAgICAgICAgLy8gICAgICAgc3BlZWQgPSAwLjU7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgd2luZG93Lm9uc2Nyb2xsID0gZnVuY3Rpb24oKXtcbiAgICAgICAgLy8gICAgIFtdLnNsaWNlLmNhbGwocGFyYWxsYXgpLmZvckVhY2goZnVuY3Rpb24oZWwsaSl7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgIHZhciB3aW5kb3dZT2Zmc2V0ID0gd2luZG93LnBhZ2VZT2Zmc2V0LFxuICAgICAgICAvLyAgICAgICAgICAgZWxCYWNrZ3JvdW5Qb3MgPSBcIjAgXCIgKyAod2luZG93WU9mZnNldCAqIHNwZWVkKSArIFwicHhcIjtcbiAgICAgICAgLy9cbiAgICAgICAgLy8gICAgICAgZWwuc3R5bGUuYmFja2dyb3VuZFBvc2l0aW9uID0gZWxCYWNrZ3JvdW5Qb3M7XG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICB9KTtcbiAgICAgICAgLy8gICB9O1xuICAgICAgICAvL1xuICAgICAgICAvLyB9KSgpO1xuIl0sImZpbGUiOiJtYWluLmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
