.site-header:not(.is-top) {

    ~ .menu-primary {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        width: 240px;
        height: 100%;
        max-height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);
        transform: translateX(-250px);
        transform-style: preserve-3d;
        will-change: transform;
        transition-duration: .2s;
        transition-timing-function: cubic-bezier(.4,0,.2,1);
        transition-property: transform;
        color: #424242;
        overflow: visible;
        overflow-y: auto;
        z-index: 5;
        visibility: hidden;

        .menu-item,
        .menu__link {
            width: 100%;
        }
    }
    ~ .menu-primary.is-active {
        visibility: visible;
        transform: translateX(0);
    }
}



@include sm {

    .search-form {
        flex: 1;
    }

    .menu-primary {
        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        width: 240px;
        height: 100%;
        max-height: 100%;
        position: fixed;
        top: 0;
        left: 0;
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);
        transform: translateX(-250px);
        transform-style: preserve-3d;
        will-change: transform;
        transition-duration: .2s;
        transition-timing-function: cubic-bezier(.4,0,.2,1);
        transition-property: transform;
        color: #424242;
        overflow: visible;
        overflow-y: auto;
        z-index: 5;

        .menu-item,
        .menu__link {
            width: 100%;
        }
    }
    .menu-primary.is-active {
        transform: translateX(0);
        z-index: 3;
    }
}


.site-header .search-field {
    color: currentColor;
    font-weight: normal;
    border-color: transparent;

    &::-webkit-input-placeholder { /* Chrome/Opera/Safari */
      color: inherit;
      opacity: .8;
    }
    &::-moz-placeholder { /* Firefox 19+ */
      color: inherit;
      opacity: .8;
    }
    &:-ms-input-placeholder { /* IE 10+ */
      color: inherit;
      opacity: .8;
    }
    &:-moz-placeholder { /* Firefox 18- */
      color: inherit;
      opacity: .8;
    }

    &:focus {
        background-color: white;
        color: #212c31;

        ~ .material-icons {
            color: #212c31;
        }
    }
}




.home #menu-primary:not(.is-active) {
> .sidebar-header,
> .nav-menu {
    color: #444;
    font-weight: bold;
        text-shadow: 1px 1px 5px rgba(235, 235, 241, 0.6);
}
}

#content-mask {
    width: 0;
    visibility:hidden;

    &.is-active {
        width: 100%;
        visibility:visible;
        z-index: 1;
    }
}







.site-branding {
    font-size: 1rem;
    align-items: center;
    max-height: 100%;
    @include xs {
        font-size: 3vw;
    }
}

.site-title {
    font-size: 2em;
}
.site-description {
    font-size: 1.5em;
}
.site-logo {
    max-height: 4.5em;
    width: auto;
}

.site-header {
    height: 3.5rem;
    @include md {
        height: 4rem;
    }
}

.home .site-header.is-top {
    height: 4rem;
    @include md {
        height: 5.5rem;
    }
}

.home .head-space {
    opacity: 0;
}

.head-space {
    height: 3.5rem;
    @include md {
        height: 4rem;
    }
}

.site-header:not(.is-top) ~ .head-space {
    //height: 6rem;
    @include md {
        height: 6.5rem;
    }
}

.home .site-header:not(.is-top) ~ .head-space {
    @include md {
        height: 8rem;
    }
}

.home .is-top ~ .head-space {
    height: 4rem;
    @include md {
        height: 5.5rem;
    }
}

.site-header:not(.is-top),
body:not(.home) {
    .site-description {
        height: 0;
        opacity: 0;
        overflow: hidden;
    }

    .site-branding {
        font-size: .8rem;
        @include xs {
            font-size: 3vw;
        }
    }
}
